<head>
 <style>
  <br>    .blog_extension_box.night .blog_weixin_box_title>span,.blog_extension_box.night .blog_weixin_box_cont .title{<br>      color:#D3D3D3 !important;<br>    }<br>    .blog_extension_box.night .blog_weixin_box{<br>      background: #2E2E32 !important;<br>    }<br>    .blog_extension_box.night .blog_weixin_box_cont .desc{<br>      color: #999999 !important;<br>    }<br>    .blog_weixin_box{<br>      width :300px;<br>      height :380px;<br>      background :#fff;<br>      padding:24px;<br>      display :flex;<br>      flex-direction :column;<br>      border-radius: 4px;<br>    }<br>    .blog_extension_box.wap .blog_weixin_box{<br>      width: 260px;<br>      height: 350px;<br>    }<br>    .blog_extension_box.wap .blog_weixin_box .blog_weixin_box_cont{<br>      padding-top:24px;<br>    }<br>    .blog_weixin_box_title{<br>      display :flex;<br>      justify-content :space-between;<br>      align-items: center;<br>    }<br>    .blog_weixin_box_title>span{<br>      font-size: 18px;<br>      font-weight: 500;<br>      color: #222226;<br>    }<br>    .blog_weixin_box_title>img{<br>      width :12px;<br>      height :12px;<br>      cursor: pointer;<br>    }<br>    .blog_weixin_box_cont>img{<br>      width :120px;<br>      height:120px;<br>    }<br>    .blog_weixin_box_cont{<br>      flex: 1;<br>      display :flex;<br>      padding-top:40px;<br>      flex-direction :column;<br>      align-items: center;<br>    }<br>    .blog_weixin_box_cont .title{<br>      font-size: 14px;<br>      text-align: center;<br>      font-weight: 400;<br>      color: #222226;<br>      margin-bottom :4px;<br>      margin-top :16px;<br>      overflow: hidden;<br>      text-overflow: ellipsis;<br>      display: -webkit-box;<br>      -webkit-line-clamp: 2;<br>      -webkit-box-orient: vertical;<br>      word-break: break-all;<br>    }<br>    .blog_weixin_box_cont .desc{<br>      font-size: 14px;<br>      font-weight: 400;<br>      color: #999AAA;<br>    }<br>    .blog_weixin_box_btn{<br>      display :flex;<br>      justify-content :flex-end;<br>    }<br>    .blog_weixin_box_btn>span{<br>      padding:0 12px;<br>      height: 32px;<br>      background: #FC5531;<br>      border-radius: 16px;<br>      font-size: 14px;<br>      color: #FFFFFF;<br>      font-family:'Microsoft YaHei','SF Pro Display',Roboto,Noto,Arial,'PingFang SC',sans-serif;<br>      line-height:32px;<br>      text-align:center;<br>      cursor: pointer;<br>    }<br>    .blog_extension_box{<br>      position: fixed;<br>      display: none;<br>      left: 50%;<br>      top: 50%;<br>      z-index: 8991;<br>      -webkit-transform: translate(-50%, -50%);<br>      -ms-transform: translate(-50%, -50%);<br>      -o-transform: translate(-50%, -50%);<br>      -moz-transform: translate(-50%, -50%);<br>      transform: translate(-50%, -50%);<br>      border-radius: 4px;<br>      }<br>    .blog_extension_mask{<br>      position: fixed;<br>      top: 0;<br>      left: 0;<br>      z-index: 8990;<br>      background-color: rgba(0, 0, 0, 0.5);<br>      width: 100%;<br>      height: 100%;<br>      display: none;<br>    }<br>    .blog_extension.blog_extension_type3 .blog_extension_card_left img{<br>      border: none;<br>    }<br>    .blog_extension.night .text{<br>      color:#D3D3D3 !important;<br>    }<br>    .blog_extension.night .blog_extension_card_left img{<br>      border-color:rgba(240, 240, 242, 0.1) !important;<br>    }<br>    .blog_extension.night .blog_extension_card_cont_r span,.blog_extension.night .style{<br>      color:#999999 !important;<br>    }<br>    .blog_extension.night {<br>      background: #242429 !important;<br>      box-shadow:none !important;<br>      border:1px solid rgba(240, 240, 242, 0.1) !important;<br>    }<br><br>    .blog_extension{<br>      width :100%;<br>      border:1px solid #e8e8ed;<br>      border-radius: 2px;<br>      background :#fff;<br>      cursor: pointer;<br>    }<br>    .blog_extension_card{<br>      display :flex;<br>      text-align :start;<br>      padding :16px;<br>      cursor: pointer;<br>    }<br>    .blog_extension_card a {<br>      text-decoration: none;<br>    }<br>    .blog_extension_card:hover .text{<br>      color:#FC5531;<br>    }<br>    .blog_extension_card_left{<br>      height :48px;<br>    }<br>    .blog_extension_card_left img{<br>      width: 46px;<br>      height: 46px;<br>      border-radius: 2px;<br>      border: 1px solid #E8E8ED;<br>      margin-right:8px;<br>    }<br>    .blog_extension_card .blog_extension_card_cont{<br>      flex:1;<br>      display :flex;<br>      flex-direction :column;<br>      justify-content :space-between;<br>    }<br>    .blog_extension_card .blog_extension_card_cont .text{<br>      font-size: 16px;<br>      font-weight: 500;<br>      flex:1;<br>      color: #555666;<br>      overflow: hidden;<br>      text-overflow: ellipsis;<br>      display: -webkit-box;<br>      -webkit-line-clamp: 1;<br>      -webkit-box-orient: vertical;<br>      word-break: break-all;<br>    }<br>    .blog_extension_card .blog_extension_card_cont .style{<br>      font-size: 14px;<br>      font-weight: 400;<br>      color: #999AAA;<br>      overflow: hidden;<br>      text-overflow: ellipsis;<br>      display: -webkit-box;<br>      -webkit-line-clamp: 1;<br>      -webkit-box-orient: vertical;<br>      word-break: break-all;<br>    }<br>    .blog_extension_card .blog_extension_card_cont_l{<br>      display :flex;<br>      justify-content :space-between;<br>    }<br>    .blog_extension_card .blog_extension_card_cont_r{<br>      display :flex;<br>      align-items :center;<br>      width:90px;<br>    }<br>    .blog_extension_card .blog_extension_card_cont_r .weixin{<br>      height :16px;<br>      width :16px;<br>      margin-right:2px;<br>    }<br>    .blog_extension_card .blog_extension_card_cont_r span{<br>      font-size: 12px;<br>      font-weight: 400;<br>      line-height: normal;<br>      color: #999AAA;<br>      margin-right:2px;<br>    }<br>    .blog_extension_card .blog_extension_card_cont_r_type3 {<br>      width: unset;<br>    }<br>    .blog_extension_card .blog_extension_card_cont_r_type3 a {<br>      display :flex;<br>      align-items :center;<br>      white-space: nowrap;<br>      width: unset;<br>    }<br>    .blog_extension_card .blog_extension_card_cont_r .go{<br>      width :6px;<br>    }<br>    .extension_official:hover .text{<br>      color:#FC5531;<br>    }<br>    .extension_official{<br>      display :flex;<br>      padding:12px 16px;<br>      text-align :start;<br>      align-items :center;<br>      cursor: pointer;<br>    }<br>    .extension_official .blog_extension_card_left{<br>      height :40px;<br>    }<br>    .extension_official .blog_extension_card_left img{<br>      width: 40px;<br>      height: 40px;<br>      border-radius: 2px;<br>      border: 1px solid #E8E8ED;<br>    }<br>    .extension_official .blog_extension_card_cont{<br>      flex:1;<br>      display :flex;<br>      flex-direction :column;<br>      justify-content :space-between;<br>      padding-right:20px;<br>    }<br>    .extension_official .blog_extension_card_cont .text{<br>      font-size: 16px;<br>      font-weight: 500;<br>      color: #555666;<br>      overflow: hidden;<br>      text-overflow: ellipsis;<br>      display: -webkit-box;<br>      -webkit-line-clamp: 1;<br>      -webkit-box-orient: vertical;<br>      word-break: break-all;<br>    }<br>    .extension_official .blog_extension_card_cont_r{<br>      height :16px;<br>      display :flex;<br>      align-items :center;<br>    }<br>    .extension_official .blog_extension_card_cont_r .weixin{<br>      width :16px;<br>      height :16px;<br>      margin-right:2px;<br>    }<br>    .extension_official .blog_extension_card_cont_r span{<br>      font-size: 12px;<br>      font-weight: 400;<br>      color: #999AAA;<br>      overflow: hidden;<br>      text-overflow: ellipsis;<br>      display: -webkit-box;<br>      -webkit-line-clamp: 1;<br>      -webkit-box-orient: vertical;<br>      word-break: break-all;<br>    }<br>    .extension_official .blog_extension_card_right{<br>      width :8px;<br>      height :12px;<br>    }
 </style>
 <meta charset="utf-8"/>
 <link href="https://blog.csdn.net/java1314777/article/details/143100866" rel="canonical"/>
 <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
 <meta content="webkit" name="renderer"/>
 <meta content="webkit" name="force-rendering"/>
 <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
 <meta content="always" name="referrer"/>
 <meta content="no-siteapp" http-equiv="Cache-Control"/>
 <link href="#" media="handheld" rel="alternate"/>
 <meta content="pc" name="applicable-device"/>
 <link href="https://g.csdnimg.cn/static/logo/favicon32.ico" rel="shortcut icon" type="image/x-icon"/>
 <title>
  YOLOv11改进 | 主干/Backbone篇 | 视觉变换器SwinTransformer目标检测网络（ 适配yolov11全系列模型）_yolo11代码中transformer在框架中的哪个部分-CSDN博客
 </title>
 <meta content="yolo11代码中transformer在框架中的哪个部分" name="keywords"/>
 <meta content='{"autorun":true,"install":true,"keyword":"yolo11代码中transformer在框架中的哪个部分"}' name="csdn-baidu-search"/>
 <meta content="文章浏览阅读1.2k次，点赞24次，收藏32次。本文给大家带来的改进机制是利用替换YOLOv11中的骨干网络其是一个开创性的视觉变换器模型，它通过使用位移窗口来构建分层的特征图，有效地适应了计算机视觉任务。与传统的变换器模型不同，Swin Transformer的自注意力计算仅限于局部窗口内，使得计算复杂度与图像大小成线性关系，而非二次方。这种设计不仅提高了模型的效率，还保持了强大的特征提取能力。Swin Transformer的创新在于其能够在不同层次上捕捉图像的细节和全局信息，使其成为各种视觉任务的强大通用骨干网络。_yolo11代码中transformer在框架中的哪个部分" name="description"/>
 <link href="https://csdnimg.cn/release/blogv2/dist/pc/css/detail_enter-9b2c86aa27.min.css" rel="stylesheet" type="text/css"/>
 <style>
  #content_views{
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none; 
            user-select: none; 
        }
 </style>
 <link href="https://csdnimg.cn/release/blogv2/dist/pc/themesSkin/skin-cookwhite/skin-cookwhite-d114b9ac23.min.css" rel="stylesheet" type="text/css"/>
 <meta content='{"type":"0","fixModel":"1"}' name="toolbar"/>
 <style>
  @charset "UTF-8";:root{--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary-rgb:64,158,255;--el-color-success-rgb:103,194,58;--el-color-warning-rgb:230,162,60;--el-color-danger-rgb:245,108,108;--el-color-error-rgb:245,108,108;--el-color-info-rgb:144,147,153;--el-font-size-extra-large:20px;--el-font-size-large:18px;--el-font-size-medium:16px;--el-font-size-base:14px;--el-font-size-small:13px;--el-font-size-extra-small:12px;--el-font-family:"Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","微软雅黑",Arial,sans-serif;--el-font-weight-primary:500;--el-font-line-height-primary:24px;--el-index-normal:1;--el-index-top:1000;--el-index-popper:2000;--el-border-radius-base:4px;--el-border-radius-small:2px;--el-border-radius-round:20px;--el-border-radius-circle:100%;--el-transition-duration:.3s;--el-transition-duration-fast:.2s;--el-transition-function-ease-in-out-bezier:cubic-bezier(.645, .045, .355, 1);--el-transition-function-fast-bezier:cubic-bezier(.23, 1, .32, 1);--el-transition-all:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);--el-transition-fade:opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-md-fade:transform var(--el-transition-duration) var(--el-transition-function-fast-bezier),opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-fade-linear:opacity var(--el-transition-duration-fast) linear;--el-transition-border:border-color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-box-shadow:box-shadow var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-color:color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-component-size-large:40px;--el-component-size:32px;--el-component-size-small:24px}:root{color-scheme:light;--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary:#409eff;--el-color-primary-light-3:#79bbff;--el-color-primary-light-5:#a0cfff;--el-color-primary-light-7:#c6e2ff;--el-color-primary-light-8:#d9ecff;--el-color-primary-light-9:#ecf5ff;--el-color-primary-dark-2:#337ecc;--el-color-success:#67c23a;--el-color-success-light-3:#95d475;--el-color-success-light-5:#b3e19d;--el-color-success-light-7:#d1edc4;--el-color-success-light-8:#e1f3d8;--el-color-success-light-9:#f0f9eb;--el-color-success-dark-2:#529b2e;--el-color-warning:#e6a23c;--el-color-warning-light-3:#eebe77;--el-color-warning-light-5:#f3d19e;--el-color-warning-light-7:#f8e3c5;--el-color-warning-light-8:#faecd8;--el-color-warning-light-9:#fdf6ec;--el-color-warning-dark-2:#b88230;--el-color-danger:#f56c6c;--el-color-danger-light-3:#f89898;--el-color-danger-light-5:#fab6b6;--el-color-danger-light-7:#fcd3d3;--el-color-danger-light-8:#fde2e2;--el-color-danger-light-9:#fef0f0;--el-color-danger-dark-2:#c45656;--el-color-error:#f56c6c;--el-color-error-light-3:#f89898;--el-color-error-light-5:#fab6b6;--el-color-error-light-7:#fcd3d3;--el-color-error-light-8:#fde2e2;--el-color-error-light-9:#fef0f0;--el-color-error-dark-2:#c45656;--el-color-info:#909399;--el-color-info-light-3:#b1b3b8;--el-color-info-light-5:#c8c9cc;--el-color-info-light-7:#dedfe0;--el-color-info-light-8:#e9e9eb;--el-color-info-light-9:#f4f4f5;--el-color-info-dark-2:#73767a;--el-bg-color:#ffffff;--el-bg-color-page:#f2f3f5;--el-bg-color-overlay:#ffffff;--el-text-color-primary:#303133;--el-text-color-regular:#606266;--el-text-color-secondary:#909399;--el-text-color-placeholder:#a8abb2;--el-text-color-disabled:#c0c4cc;--el-border-color:#dcdfe6;--el-border-color-light:#e4e7ed;--el-border-color-lighter:#ebeef5;--el-border-color-extra-light:#f2f6fc;--el-border-color-dark:#d4d7de;--el-border-color-darker:#cdd0d6;--el-fill-color:#f0f2f5;--el-fill-color-light:#f5f7fa;--el-fill-color-lighter:#fafafa;--el-fill-color-extra-light:#fafcff;--el-fill-color-dark:#ebedf0;--el-fill-color-darker:#e6e8eb;--el-fill-color-blank:#ffffff;--el-box-shadow:0px 12px 32px 4px rgba(0, 0, 0, .04),0px 8px 20px rgba(0, 0, 0, .08);--el-box-shadow-light:0px 0px 12px rgba(0, 0, 0, .12);--el-box-shadow-lighter:0px 0px 6px rgba(0, 0, 0, .12);--el-box-shadow-dark:0px 16px 48px 16px rgba(0, 0, 0, .08),0px 12px 32px rgba(0, 0, 0, .12),0px 8px 16px -8px rgba(0, 0, 0, .16);--el-disabled-bg-color:var(--el-fill-color-light);--el-disabled-text-color:var(--el-text-color-placeholder);--el-disabled-border-color:var(--el-border-color-light);--el-overlay-color:rgba(0, 0, 0, .8);--el-overlay-color-light:rgba(0, 0, 0, .7);--el-overlay-color-lighter:rgba(0, 0, 0, .5);--el-mask-color:rgba(255, 255, 255, .9);--el-mask-color-extra-light:rgba(255, 255, 255, .3);--el-border-width:1px;--el-border-style:solid;--el-border-color-hover:var(--el-text-color-disabled);--el-border:var(--el-border-width) var(--el-border-style) var(--el-border-color);--el-svg-monochrome-grey:var(--el-border-color)}.fade-in-linear-enter-active,.fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.fade-in-linear-enter-from,.fade-in-linear-leave-to{opacity:0}.el-fade-in-linear-enter-active,.el-fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.el-fade-in-linear-enter-from,.el-fade-in-linear-leave-to{opacity:0}.el-fade-in-enter-active,.el-fade-in-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-fade-in-enter-from,.el-fade-in-leave-active{opacity:0}.el-zoom-in-center-enter-active,.el-zoom-in-center-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-zoom-in-center-enter-from,.el-zoom-in-center-leave-active{opacity:0;transform:scaleX(0)}.el-zoom-in-top-enter-active,.el-zoom-in-top-leave-active{opacity:1;transform:scaleY(1);transition:var(--el-transition-md-fade);transform-origin:center top}.el-zoom-in-top-enter-active[data-popper-placement^=top],.el-zoom-in-top-leave-active[data-popper-placement^=top]{transform-origin:center bottom}.el-zoom-in-top-enter-from,.el-zoom-in-top-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-bottom-enter-active,.el-zoom-in-bottom-leave-active{opacity:1;transform:scaleY(1);transition:var(--el-transition-md-fade);transform-origin:center bottom}.el-zoom-in-bottom-enter-from,.el-zoom-in-bottom-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-left-enter-active,.el-zoom-in-left-leave-active{opacity:1;transform:scale(1);transition:var(--el-transition-md-fade);transform-origin:top left}.el-zoom-in-left-enter-from,.el-zoom-in-left-leave-active{opacity:0;transform:scale(.45)}.collapse-transition{transition:var(--el-transition-duration) height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.el-collapse-transition-enter-active,.el-collapse-transition-leave-active{transition:var(--el-transition-duration) max-height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.horizontal-collapse-transition{transition:var(--el-transition-duration) width ease-in-out,var(--el-transition-duration) padding-left ease-in-out,var(--el-transition-duration) padding-right ease-in-out}.el-list-enter-active,.el-list-leave-active{transition:all 1s}.el-list-enter-from,.el-list-leave-to{opacity:0;transform:translateY(-30px)}.el-list-leave-active{position:absolute!important}.el-opacity-transition{transition:opacity var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-drawer{--el-drawer-bg-color:var(--el-dialog-bg-color, var(--el-bg-color));--el-drawer-padding-primary:var(--el-dialog-padding-primary, 20px)}.el-drawer{position:absolute;box-sizing:border-box;background-color:var(--el-drawer-bg-color);display:flex;flex-direction:column;box-shadow:var(--el-box-shadow-dark);overflow:hidden;transition:all var(--el-transition-duration)}.el-drawer .rtl,.el-drawer .ltr,.el-drawer .ttb,.el-drawer .btt{transform:translate(0)}.el-drawer__sr-focus:focus{outline:0!important}.el-drawer__header{align-items:center;color:#72767b;display:flex;margin-bottom:32px;padding:var(--el-drawer-padding-primary);padding-bottom:0}.el-drawer__header>:first-child{flex:1}.el-drawer__title{margin:0;flex:1;line-height:inherit;font-size:1rem}.el-drawer__footer{padding:var(--el-drawer-padding-primary);padding-top:10px;text-align:right}.el-drawer__close-btn{display:inline-flex;border:none;cursor:pointer;font-size:var(--el-font-size-extra-large);color:inherit;background-color:transparent;outline:0}.el-drawer__close-btn:focus i,.el-drawer__close-btn:hover i{color:var(--el-color-primary)}.el-drawer__body{flex:1;padding:var(--el-drawer-padding-primary);overflow:auto}.el-drawer__body>*{box-sizing:border-box}.el-drawer.ltr,.el-drawer.rtl{height:100%;top:0;bottom:0}.el-drawer.btt,.el-drawer.ttb{width:100%;left:0;right:0}.el-drawer.ltr{left:0}.el-drawer.rtl{right:0}.el-drawer.ttb{top:0}.el-drawer.btt{bottom:0}.el-drawer-fade-enter-active,.el-drawer-fade-leave-active{transition:all var(--el-transition-duration)}.el-drawer-fade-enter-active,.el-drawer-fade-enter-from,.el-drawer-fade-enter-to,.el-drawer-fade-leave-active,.el-drawer-fade-leave-from,.el-drawer-fade-leave-to{overflow:hidden!important}.el-drawer-fade-enter-from,.el-drawer-fade-leave-to{opacity:0}.el-drawer-fade-enter-to,.el-drawer-fade-leave-from{opacity:1}.el-drawer-fade-enter-from .rtl,.el-drawer-fade-leave-to .rtl{transform:translate(100%)}.el-drawer-fade-enter-from .ltr,.el-drawer-fade-leave-to .ltr{transform:translate(-100%)}.el-drawer-fade-enter-from .ttb,.el-drawer-fade-leave-to .ttb{transform:translateY(-100%)}.el-drawer-fade-enter-from .btt,.el-drawer-fade-leave-to .btt{transform:translateY(100%)}.el-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2000;height:100%;background-color:var(--el-overlay-color-lighter);overflow:auto}.el-overlay .el-overlay-root{height:0}.el-popper{--el-popper-border-radius:var(--el-popover-border-radius, 4px)}.el-popper{position:absolute;border-radius:var(--el-popper-border-radius);padding:5px 11px;z-index:2000;font-size:12px;line-height:20px;min-width:10px;word-wrap:break-word;visibility:visible}.el-popper.is-dark{color:var(--el-bg-color);background:var(--el-text-color-primary);border:1px solid var(--el-text-color-primary)}.el-popper.is-dark .el-popper__arrow:before{border:1px solid var(--el-text-color-primary);background:var(--el-text-color-primary);right:0}.el-popper.is-light{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color-light)}.el-popper.is-light .el-popper__arrow:before{border:1px solid var(--el-border-color-light);background:var(--el-bg-color-overlay);right:0}.el-popper.is-pure{padding:0}.el-popper__arrow{position:absolute;width:10px;height:10px;z-index:-1}.el-popper__arrow:before{position:absolute;width:10px;height:10px;z-index:-1;content:" ";transform:rotate(45deg);background:var(--el-text-color-primary);box-sizing:border-box}.el-popper[data-popper-placement^=top]>.el-popper__arrow{bottom:-5px}.el-popper[data-popper-placement^=top]>.el-popper__arrow:before{border-bottom-right-radius:2px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow{top:-5px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow:before{border-top-left-radius:2px}.el-popper[data-popper-placement^=left]>.el-popper__arrow{right:-5px}.el-popper[data-popper-placement^=left]>.el-popper__arrow:before{border-top-right-radius:2px}.el-popper[data-popper-placement^=right]>.el-popper__arrow{left:-5px}.el-popper[data-popper-placement^=right]>.el-popper__arrow:before{border-bottom-left-radius:2px}.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-top-color:transparent!important;border-left-color:transparent!important}.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent!important;border-right-color:transparent!important}.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-left-color:transparent!important;border-bottom-color:transparent!important}.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent!important;border-top-color:transparent!important}.el-popover{--el-popover-bg-color:var(--el-bg-color-overlay);--el-popover-font-size:var(--el-font-size-base);--el-popover-border-color:var(--el-border-color-lighter);--el-popover-padding:12px;--el-popover-padding-large:18px 20px;--el-popover-title-font-size:16px;--el-popover-title-text-color:var(--el-text-color-primary);--el-popover-border-radius:4px}.el-popover.el-popper{background:var(--el-popover-bg-color);min-width:150px;border-radius:var(--el-popover-border-radius);border:1px solid var(--el-popover-border-color);padding:var(--el-popover-padding);z-index:var(--el-index-popper);color:var(--el-text-color-regular);line-height:1.4;text-align:justify;font-size:var(--el-popover-font-size);box-shadow:var(--el-box-shadow-light);word-break:break-all;box-sizing:border-box}.el-popover.el-popper--plain{padding:var(--el-popover-padding-large)}.el-popover__title{color:var(--el-popover-title-text-color);font-size:var(--el-popover-title-font-size);line-height:1;margin-bottom:12px}.el-popover__reference:focus:hover,.el-popover__reference:focus:not(.focusing){outline-width:0}.el-popover.el-popper.is-dark{--el-popover-bg-color:var(--el-text-color-primary);--el-popover-border-color:var(--el-text-color-primary);--el-popover-title-text-color:var(--el-bg-color);color:var(--el-bg-color)}.el-popover.el-popper:focus,.el-popover.el-popper:focus:active{outline-width:0}.el-icon-loading{-webkit-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite}.el-icon--right{margin-left:5px}.el-icon--left{margin-right:5px}@-webkit-keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.el-icon{--color:inherit;height:1em;width:1em;line-height:1em;display:inline-flex;justify-content:center;align-items:center;position:relative;fill:currentColor;color:var(--color);font-size:inherit}.el-icon.is-loading{-webkit-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite}.el-icon svg{height:1em;width:1em}.el-badge{--el-badge-bg-color:var(--el-color-danger);--el-badge-radius:10px;--el-badge-font-size:12px;--el-badge-padding:6px;--el-badge-size:18px;position:relative;vertical-align:middle;display:inline-block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.el-badge__content{background-color:var(--el-badge-bg-color);border-radius:var(--el-badge-radius);color:var(--el-color-white);display:inline-flex;justify-content:center;align-items:center;font-size:var(--el-badge-font-size);height:var(--el-badge-size);padding:0 var(--el-badge-padding);white-space:nowrap;border:1px solid var(--el-bg-color)}.el-badge__content.is-fixed{position:absolute;top:0;right:calc(1px + var(--el-badge-size)/ 2);transform:translateY(-50%) translate(100%);z-index:var(--el-index-normal)}.el-badge__content.is-fixed.is-dot{right:5px}.el-badge__content.is-dot{height:8px;width:8px;padding:0;right:0;border-radius:50%}.el-badge__content--primary{background-color:var(--el-color-primary)}.el-badge__content--success{background-color:var(--el-color-success)}.el-badge__content--warning{background-color:var(--el-color-warning)}.el-badge__content--info{background-color:var(--el-color-info)}.el-badge__content--danger{background-color:var(--el-color-danger)}.el-message{--el-message-bg-color:var(--el-color-info-light-9);--el-message-border-color:var(--el-border-color-lighter);--el-message-padding:15px 19px;--el-message-close-size:16px;--el-message-close-icon-color:var(--el-text-color-placeholder);--el-message-close-hover-color:var(--el-text-color-secondary)}.el-message{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:calc(100% - 32px);box-sizing:border-box;border-radius:var(--el-border-radius-base);border-width:var(--el-border-width);border-style:var(--el-border-style);border-color:var(--el-message-border-color);position:fixed;left:50%;top:20px;transform:translate(-50%);background-color:var(--el-message-bg-color);transition:opacity var(--el-transition-duration),transform .4s,top .4s;padding:var(--el-message-padding);display:flex;align-items:center}.el-message.is-center{justify-content:center}.el-message.is-closable .el-message__content{padding-right:31px}.el-message p{margin:0}.el-message--success{--el-message-bg-color:var(--el-color-success-light-9);--el-message-border-color:var(--el-color-success-light-8);--el-message-text-color:var(--el-color-success)}.el-message--success .el-message__content{color:var(--el-message-text-color);overflow-wrap:anywhere}.el-message .el-message-icon--success{color:var(--el-message-text-color)}.el-message--info{--el-message-bg-color:var(--el-color-info-light-9);--el-message-border-color:var(--el-color-info-light-8);--el-message-text-color:var(--el-color-info)}.el-message--info .el-message__content{color:var(--el-message-text-color);overflow-wrap:anywhere}.el-message .el-message-icon--info{color:var(--el-message-text-color)}.el-message--warning{--el-message-bg-color:var(--el-color-warning-light-9);--el-message-border-color:var(--el-color-warning-light-8);--el-message-text-color:var(--el-color-warning)}.el-message--warning .el-message__content{color:var(--el-message-text-color);overflow-wrap:anywhere}.el-message .el-message-icon--warning{color:var(--el-message-text-color)}.el-message--error{--el-message-bg-color:var(--el-color-error-light-9);--el-message-border-color:var(--el-color-error-light-8);--el-message-text-color:var(--el-color-error)}.el-message--error .el-message__content{color:var(--el-message-text-color);overflow-wrap:anywhere}.el-message .el-message-icon--error{color:var(--el-message-text-color)}.el-message__icon{margin-right:10px}.el-message .el-message__badge{position:absolute;top:-8px;right:-8px}.el-message__content{padding:0;font-size:14px;line-height:1}.el-message__content:focus{outline-width:0}.el-message .el-message__closeBtn{position:absolute;top:50%;right:19px;transform:translateY(-50%);cursor:pointer;color:var(--el-message-close-icon-color);font-size:var(--el-message-close-size)}.el-message .el-message__closeBtn:focus{outline-width:0}.el-message .el-message__closeBtn:hover{color:var(--el-message-close-hover-color)}.el-message-fade-enter-from,.el-message-fade-leave-to{opacity:0;transform:translate(-50%,-100%)}@media screen and (min-width: 769px){.scroll-bar-style:hover::-webkit-scrollbar-thumb,.el-popover.chat-order-popper .chat-order-list:hover::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px #0000001a;background:#f7f7fc}.scroll-bar-style::-webkit-scrollbar,.el-popover.chat-order-popper .chat-order-list::-webkit-scrollbar{width:5px;height:5px}.scroll-bar-style::-webkit-scrollbar-thumb,.el-popover.chat-order-popper .chat-order-list::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 5px #0000;background:#0000}.scroll-bar-style::-webkit-scrollbar-track,.el-popover.chat-order-popper .chat-order-list::-webkit-scrollbar-track{border-radius:10px;background:#0000}}.fade-enter-active,.fade-leave-active{transition:opacity .5s ease}.fade-enter-from,.fade-leave-to{opacity:0}.simple .chat-order{bottom:130px}.simple .chat-order-main{height:320px}.simple .chat-order-list{height:266px}.el-popover.chat-order-popper{border-radius:16px;overflow:hidden;padding:16px}.el-popover.chat-order-popper .chat-order{width:100%;z-index:88;display:flex;justify-content:center}.el-popover.chat-order-popper .chat-order-main{position:relative;width:320px;height:400px;background:#fff}.el-popover.chat-order-popper .chat-order-title{display:flex;justify-content:space-between;align-items:center;padding-bottom:18px;font-size:14px;font-weight:500;color:var(--color-text-primary)}.el-popover.chat-order-popper .chat-order-title .chat-icon-tip{width:12px;height:12px}.el-popover.chat-order-popper .chat-order-list{border-radius:8px;background:#fff;overflow:auto;height:366px}.el-popover.chat-order-popper .chat-order-list .order-list-item{margin-bottom:8px}.el-popover.chat-order-popper .chat-order-list .order-list-item .order-time{color:#222226;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:16px}.el-popover.chat-order-popper .chat-order-list .order-list-item .order-pay{padding:12px 0;position:relative;color:#555666;font-size:16px;font-style:normal;line-height:16px}.el-popover.chat-order-popper .chat-order-list .order-list-item .order-pay:before{position:absolute;content:"";top:0;left:8px;height:100%;width:1px;background-color:var(--color-input-border)}.el-popover.chat-order-popper .chat-order-list .order-list-item .order-pay-item{padding:0 16px 16px 24px;display:flex;justify-content:space-between}.el-popover.chat-order-popper .chat-order-list .order-list-item .order-pay-item:last-child{padding-bottom:0}.empty{display:flex;justify-content:center;align-items:center;height:100%}.chat-popper.el-popover.el-popper{background:transparent;border:none;padding:0;border-radius:16px;box-shadow:4px 4px 40px #0000001a}.chat-popper.el-popover.el-popper .right-content{border-radius:16px;overflow:hidden;background:#fff linear-gradient(180deg,#e6fbff 1.51%,#f4f1ff 26.51%,#f5e8ff00 80%);padding:16px;box-sizing:border-box}.chat-user[data-v-fd18637b]{display:flex;padding:0 0 32px;justify-content:center}.chat-user .user-left[data-v-fd18637b]{display:flex;align-items:center;border:1px solid #e8e8f0;width:40px;height:40px;border-radius:40px;position:relative}.chat-user .user-left.user-vip[data-v-fd18637b]{border:none;box-sizing:content-box;overflow:hidden}.chat-user .user-left.user-vip[data-v-fd18637b]:after{position:absolute;top:0;left:0;width:40px;height:40px;content:"";background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA+fSURBVHgB7VxrbBzVFT53Hus4MfGuIIGkUO+SBJUWYZsmqiiqsi6of5O0P1sUpy0trSrsUIHo02sqSvpQbVeqWhAlDir918b5RVsBWVPUVBTwutBGhYDXgBIgwDqJEz92556ec++d2Vk/1/baEGc/aXd27tyZufPted1z71wBHyIwdzDq2U5SIsZt22pE2goUcdRHGxBQ8A9A2gqRo91hRG8EBGSpIOtYIg0Fb1DE9o3AhwQBKwifMGGJnSBhN909RJJuC/8A1L+INNqg2aUKQhDH6LcZuYb6BsjSJ20D9tkjol8kVo7QFSEQx/64EwteOwqxkwiIBUQgkjSJDFEwSCUZ8LyRPECGz6mN7cuWXIPIp2NxDyAqLKvRkjJOxU10lUaBEGUafXJJinsBvSM1V3y9D5YZy0YgPzBEIm2knu0kQlEIhAn7SbD6JMKge9ntaagAJnO/byxIaLGE2EXXT2rRVDKcpZumIJ/vr930rSwsAypOIBMniThqeBvtRlkqCFki8pBTKHQvt70aO/XbOLiRJIlhB+02mOJhallv7eV3dEKFUVECcfQPe8lSpdgZKOuE2I8F6HRjlZG0heJ87tFdlkemAyBpDOyQh3h/3cZv9EKFUBECSeri6LgHJamPKUpTozsrpaJLxdjph8n2Qi89bVypt8C+iYLcH6uAWi+ZQG/08TZEmaJLRUnocp4U90fqv9INH0GMvfsQaQik6MOh0ogN0F678ZuHYAlYNIHK1rluB/2j7aBDjz7bK+z7MGOycsA20rMgRY++VxUI6K7beOd+WCQWRSCrrHTcw2TjmniP4rpOu+72HriIcOHth9s8UUhRGBolGjIFHNsT27Q/CwvEgglk8jzbPkqGJE5uImu7dlLUfnkYLkLkSBpdAUfpZwNFCcMuymTt5u8s6FmshVQe88kDERcSMnnPa7lYyWOwE8kjtCDIQdqN58FK54a64gu5RtkSyORFiDyydg2kuoOOlC0fdXtXLoi0qFUTIcHAJgFW1oXyJbEsCWTyXEWeWHXkMWKJ/SNyYrKFHGGGIor4JIiyJbEsAiOOc5glT6BcdeT5UCRO5lsoqsgAygbhOodZMuc7b14C8+ce65KSRJuM7KSUe1YjeT6YRLTze6jLzurbaLl2x3znzGkDJ88e2kuZjoMkfWc8KZunZkhWK1h9hWsP0M969ODuWMNds3YMZpVAtntEXhf3fKSUnZcKeQySxKywMMUpSE5KnJrDHs5KoCPsLtpEOYuxJrbvI9k1W07Ub26jjoGkfCJG1zji4Gz1ZiSQpK+VYqPdyMFlxE3BpYoC7qPvHEli8r03ulpnqmLNUkh9XO7fYufFHCgvFexUqKvXyVxYCB0zeeVpBOZzBzsoAcqJyGwktq8XLnHEGtp6yBekOccpQbZPPV5CIDsOCdDKWWTa7oMqFDwsdKoxFyHapkphqQR6kKRqcYpt0uR101CFwobEPWnapNmhFGShRApLCCTXrQJHShJcVKmplQCNR3fymCul7u4KlwcETrz3yG6qxSnv7LoVGA682GCkcJiHZU+/+oukX16UQDUkSExLrPjI1WoBmbZeHnUml9zmlykCc5yeB2zlkTSwJ9NQxYywwOrhaSY8ypcb0M5EERjxvCRvSfr6a2PLMwC9GqCSDcjORNRPrp1Mcpki0BKwizt9PGMAqpgTti36KGcohAU7ed+3gUlJhQVvoh+qmBOThfygmqMicDfvC7Z/NV4hR9ZvZO2GO2JQxbx498TPPmBvfGF0PGatKYw3gZ6Mk4EqygKN4PEgFK6tqU1aEhyecgYqlV1FWSC7l5E8acrBBgukTAgOX6S8ZLMuC4XHEkgSR9smi3jkkTbakVUJLBOSJ4YyqOdmcQdZzeHz5KodLKo0LCkyPF+UIr8Gh7SXpzVAIb82C1WUDeU3qP9r0ZClCl1iidU7XFlpbLr+e1nWWh6EN4E0QhULg5Y/QEUgVvlbBATnDiiFihKqWDi0E9F94Sz/Hjv5SANUURaGBlJRzh2QHcxZ5gUVqKJ8uODG9S8ctvidM/Yh4zjWDFWUBXTyUSV0EkYsz/N0Fw5x3qlcVRjYolH/EFmLJ1jrWfaiCaooC+R94xzHUPd3mJIJyEEhxzSNUEVZEPySI08+KEDaAq+Q1j4EqxJYJoivJuN4M5aaQCM4lBH1uTe7klDFnHhrIMXvxkRJCrOJ5tSI7spJ2YdSclhYVeN54Fle0khfmr8UgR5gv34vXA+UVDE7hGWpCQgUvRzhrSLQ9hSbI8ThznJmpl+qGBq4L07SZyRwNM1likC2gzwjiw9IC9qhiplhu0m1dgNCb6K5W6X/grkxBQ971AIQiHuhihlBxKmZu5SAPhKUhSu8n/1VDlWKX7aY2UhVGAwN/HC3sODPJGDD8aYHEn65U1JLYLdA0UGyyvME01ABqKVOXHcXefqk9GQTL3UipYzpoVQZrERBZUIF9PQl1eob/IPLQNUzc7bVOgLqXBU1cKfAbPX+CNXNklfMUKYznR8vHOFQAyoA6mi0cfMo+5IqKQ/vsAPxQA6pgaYCtmzYtngpVC8num4bPVgr8AsrOgWuUrlShh8a9fiCIVQEZBripIoOfAL9c/xdvTID19MXFHqXtmb9Gdr2ennoJCKzsEiQ9PEiFkfpYlnyvy2J5gNZ/1jJDFU1+0jKHtViR8z7mtNMUOu7nHusy7Ht1+lh2SGxV/cXyAktnKOJAQx/OCQ1xzG0AI9hTOoVQJSggi+lOi8XSGRwfTQDPxJbaeRnaHjwR10DA+2LjDDwoPk7D4XJY0ybpe9YTje/fEz1k+8O/bwNFgCWurxlDQCWenIMVh8CYeJNJT16lRyhVoEoqS8xGHMIJA3MWjA+YZocYc4tIQ99iQX/n1PkE3vrBo4fuy8OC8CJge+38jJUvOzUluafpqYen0ag6trpWao8k7CDs69QBiZzB5v4lViSkLgIPZQ5jOaxSs7Raoe+6gV2zj9TrznjV/bP5ml4QtPD7ATqjsKQFrqNNMtD+S3Bhpoa6+lXnrunrH4/x3228DWRF9aYjhlftNm49d5ektd+unt07WW1B2EesOSBZfErsXHVTESfPKO6LG1a+IThLciCT3ndMbRsVrGeX1eTLAyxwXpbEP5j1AxSvbaJ8UlYlHpQQ5G27RwuSxKF3cGpKzIr5IwePDRjldnOPXX8wbgTsV+Ueq2r9o1b7p1x5r5eUMwe8MmbdjywfdJXu1I1NARdODcKzz/xDIyPXoByULOuFhpv+wzYjm1shLaRxh6qezKZkn164HjQtInXMYOhM2LspmYTEE8FOQ5ezqVbcA9tQjYnbi61fT5mfdmQB4/JIytVpjakcq//smGmetKhf4nIE0U7VqKnquX8ACpWMTaqVJMhPzEJLzzx97LJY0ycH4MT//qPfzEhMVgqL1jljSkNVoVT0lcUGPqdWC9rZ3SUx1WXjVVWndU+G3mMOV+4vmrLfT10V5a8+glZSLNUho+rN5u0wwh5VxCGzEB5DIvmQaTWzpD3/d9zgzA2eh4Wig9OnoZTJ94qGRTDoBGoVRimWMEQiRzbvf7iD0oEg8mrQXGUTo6S6v56NtX1Me8b6+ed8U566EH6M+PCxsNhp+K6bkfQFqGNe/hcw5gx7gKDxzNOgD+vDfwXTr46DItF9t+vwNnTOdDCp+NKE0eKQGWlurkwdtVvsG8Tg4iBw5watHg9HNIoyGzdfmDevMC8BCYSqRH0YA+3lTOxNWvdo0wi2z7UQbJupDHw4UUSgyFT7YNNKCKMTdIYOzdd8m7+Uids3fHFaeU33vZtuPWrv5tWfv7MKEAxQvKlz4RBxXizKH1Fe0i1Wpk4/qz3aknyJHvoLFFTVmqvrEUn1GQaD1qIgywR0MgkThTJ01oq/Pg3vNJkqW6ZnlhRTKnghs9th01bS83r6TcGFVlXfLyY32VC+XPylX+U1L36E3EyNVejH6j7TfBvGPaSRQkUoWJZH4Waveux9ihVbuJhXiHs5LU3PVCWWghYAJQNFPIotTbuuDWwPnY5ecGS7nSIGy1lpE5FT+x3tZhE31MalRt86p9w+s1TwYWYwM3XfRaeevROcGvWwa1fewjOvPMaPPP4d4M6V1+fUATytVSUKX0vW+wCynBXcOrDixLbzRWGrUlomctpTLsGLBCnjqeIRPdpunHCsh2IbbgSLNsG3/4ZyQP9PDpZYLpnoT4qBskDAN33LUxMwAt/fRZGc2fVfdw1daSuD5F6vg3r6q9UTX3m8bvhwpl31PFriLyPEXn6lnQtaa6srishHCaZbsocT6WOZRdKHmNBSz8xNl2fyo5j/vNEScajXvr775yEC6NngwBXt0bojIpqux9dGMKMrYTAK6ouHTqRCNz0hVugLrZe3Sc/PgrH/vRjiF65BdbWXwWDT/4mRN61RF4C/PNNT8RYjGIXTpgt+qJpzjBbf5///MxiyNP3WQLefPkn3cK8eLdmbR3UkTWhKF+rRTH1JLCYRQnUDYIgGswjqlgRJ8fHRebJY4EkbrruFoiQCg+/9De1v3nbNdhw43W+CYAg+4JFVZX+saL5ANNHnNZzodIe2x5PJWYJqOfDkghkvPXy/a10lS5qStQie1i3PqrILDZeezxZzJaE+r7S13bUQbYmmgPrzFPH4HzuXMm9NjZsgq3bPxm2qUEfWKstF9NfIYM/0Di1QJOLDy5gxPOgc9uOB5e0IsmSCWQMkV2MSKuLmq5cP0khXEYOxiW1xCldtpBUgk9YII1QTKwWiMTn//Ks6nEwmLxtO24wklq8hp9jLJIotfNlIxKKBTWMegtIiwnYtxiVnYqKEOjjjZdTLI0dILlrR6mxSA3UrqsjFVwTIlJLnVYzNOoOJUT6joZ6J2Lw6eegfkMMtm3/FMzgHBShxsRRkaeD5vC9TE5D2zrIUtXOrZ8+0AsVQkUJ9DH8UipFTnkvtTnOD8ISWVt3GThuhH7brK/GM2NJ2h6MWsqiDSUJvICR2jUmTClNQhipDme2gxApPPOWYrsRT2KP44x3L9bWzYZlIZBBvZU4DTgnLR5jESZTQw/M3tYlyXQcF9hm+slT0y9WBCjpVLm+UOZGyiBWNk4C/WMq1lQfb0q4IkbkMhEX3AFWADyiRQHTbsELv4YeUFgCOJZkCeWeDMeT3CQr6DJgEBB7ZPGLRLEEeyUqXQTSwJKVprKebTsOpGGZsSIE+tCJiELSEriLHjmJOlVucg7GW/q5E0AojX0DB6DHnsL9BzU5CvuIuP5z9li6eZmkbSasKIFTMaQGeeqaSLKSlsXv7EnOK9K4tLKd0XDPENRy7orArEC1Rn4GbCZuoj+xgoRNxf8BYAi3Ku0FuL8AAAAASUVORK5CYII=) center/cover no-repeat}.chat-user .set[data-v-fd18637b]{position:absolute;right:-2px;bottom:0}.chat-user .user-img[data-v-fd18637b]{display:block;width:39px;height:39px;border-radius:40px}.chat-user .user-login[data-v-fd18637b]{display:block;width:40px;height:40px;border-radius:40px;background-color:#0000001a;color:#999aaa;line-height:40px;text-align:center;cursor:pointer}.user-right[data-v-fd18637b]{display:flex;flex-direction:column;justify-content:center;flex:1;color:var(--color-text-primary);width:100%}.user-right .user-name[data-v-fd18637b]{font-weight:400;font-size:14px}.user-right .user-desc[data-v-fd18637b]{margin-top:4px;font-size:12px;color:var(--color-text-content);white-space:pre;padding-bottom:2px}.vip-status[data-v-fd18637b]{display:inline-block;width:94px;height:30px;color:#fff;text-align:center;font-size:14px;font-style:normal;font-weight:600;line-height:30px;border-radius:8px;background:linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%);cursor:pointer}.popper[data-v-fd18637b]{padding:8px 10px!important}.popper .user-desc[data-v-fd18637b]{margin-bottom:8px}.popper .vip-status[data-v-fd18637b]{margin-left:4px}.setting[data-v-fd18637b]{padding:6px 14px;align-items:center;background:#fafafc;cursor:pointer;color:var(--color-text-content);font-size:12px;line-height:16px;vertical-align:middle;margin-bottom:6px;border-radius:8px}.setting.setting-vip[data-v-fd18637b]{margin-top:-8px;border-radius:0 0 8px 8px}.setting.setting-bottom[data-v-fd18637b]{background:#f8f8f8}.setting .list-item[data-v-fd18637b]{padding-bottom:6px;font-size:12px}.setting .list-item[data-v-fd18637b]:last-child{padding-top:8px;padding-bottom:0;border-top:1px solid var(--color-input-border)}.setting .icon-receipt[data-v-fd18637b]{width:20px;height:20px;background:url("data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_7521_21106)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.24609%206.49077L12.2719%204.1665L13.6171%206.4966L8.24609%206.49077Z'%20stroke='%23574FF5'%20stroke-width='0.875'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.16797%207.08333C4.16797%206.76116%204.42914%206.5%204.7513%206.5H15.2513C15.5735%206.5%2015.8346%206.76116%2015.8346%207.08333V15.25C15.8346%2015.5722%2015.5735%2015.8333%2015.2513%2015.8333H4.7513C4.42914%2015.8333%204.16797%2015.5722%204.16797%2015.25V7.08333Z'%20stroke='%23574FF5'%20stroke-width='0.875'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.2812%2012.6252H15.8333V9.7085H13.2812C12.4356%209.7085%2011.75%2010.3614%2011.75%2011.1668C11.75%2011.9722%2012.4356%2012.6252%2013.2812%2012.6252Z'%20stroke='%23574FF5'%20stroke-width='0.875'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.832%207.8125V14.8125'%20stroke='%23574FF5'%20stroke-width='0.875'%20stroke-linecap='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_7521_21106'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(3%203)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e") center/cover no-repeat}.setting .icon-question[data-v-fd18637b]{width:20px;height:20px;background:url("data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.34322%204.38427C8.54328%204.49849%207.54356%204.90276%206.85751%205.38952C6.43037%205.69258%205.71882%206.43193%205.4214%206.88181C4.72997%207.9274%204.38173%209.31756%204.51544%2010.4982C4.60684%2011.3048%204.95322%2012.3743%205.35787%2013.0995C5.4355%2013.2387%205.49904%2013.3783%205.49904%2013.4098C5.49904%2013.4413%205.20462%2013.9387%204.84477%2014.5152C4.48492%2015.0916%204.17525%2015.5893%204.15657%2015.6211C4.13414%2015.6594%205.27694%2015.677%207.54223%2015.6732C10.8036%2015.6677%2010.9845%2015.6619%2011.4532%2015.5468C14.7079%2014.7474%2016.5723%2011.4594%2015.5736%208.28017C14.7461%205.64628%2012.099%203.99098%209.34322%204.38427ZM11.0617%205.26964C12.9918%205.63888%2014.5062%207.13597%2014.8961%209.06022C15.0463%209.80102%2014.9906%2010.7703%2014.7566%2011.49C14.3442%2012.7583%2013.506%2013.7229%2012.2914%2014.3269C11.3116%2014.8141%2011.0554%2014.8449%208.13135%2014.827L5.67107%2014.8119L6.10636%2014.1114L6.54165%2013.4109L6.29926%2013.0132C5.98965%2012.5049%205.72142%2011.8865%205.52499%2011.2281C5.39816%2010.803%205.36885%2010.5863%205.36452%2010.0432C5.35394%208.70058%205.77726%207.63614%206.7057%206.67095C7.44552%205.90183%208.46871%205.36593%209.45883%205.22905C9.86233%205.17322%2010.6641%205.19351%2011.0617%205.26964ZM7.5801%2010.2479V10.6838L8.0281%2010.667L8.47611%2010.6501L8.49311%2010.231L8.5101%209.81195H8.0451H7.5801V10.2479ZM9.71897%2010.2455V10.679H10.1525H10.5861V10.2455V9.81195H10.1525H9.71897V10.2455ZM11.8119%2010.231L11.8289%2010.6501L12.2769%2010.667L12.7249%2010.6838V10.2479V9.81195H12.2599H11.7949L11.8119%2010.231Z'%20fill='%23574FF5'/%3e%3c/svg%3e") center/cover no-repeat}.setting a[data-v-fd18637b]{color:var(--color-text-content)}.setting .icon-text[data-v-fd18637b]{padding-left:4px;flex:1;font-size:12px}.setting .icon-right[data-v-fd18637b]{transform:scale(1.2);color:var(--color-text-desc)}.setting .progress[data-v-fd18637b]{margin-bottom:8px;column-gap:4px}.setting .progress-bar[data-v-fd18637b]{width:100%;display:flex;position:relative;background:#6d5ffd1a;height:6px;border-radius:10px}.setting .progress-bar .percent[data-v-fd18637b]{position:absolute;top:0;left:0;height:100%;border-radius:10px;background:linear-gradient(115.24deg,#bb89fa 2.14%,#635bff)}.setting .progress-bar .percent.percent-extra[data-v-fd18637b]{background:linear-gradient(107.62deg,#ffab49 1.98%,#ffebb7 73.4%)}.setting-item[data-v-fd18637b]{display:flex;align-items:center;column-gap:2px}.setting .icon-text[data-v-fd18637b]{font-size:12px}.logout[data-v-fd18637b]{font-size:12px;color:var(--color-text-desc);display:flex;align-items:center;justify-content:center;cursor:pointer;width:280px;margin:16px auto 0}.get-vip-btn[data-v-fd18637b]{width:100%;height:36px;line-height:36px;color:#fff;background:linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%);font-size:16px;font-weight:600;text-align:center;border-radius:8px;cursor:pointer;margin-bottom:8px}.right-list[data-v-fd18637b]{font-size:12px;background:#fff;border-radius:8px;margin:10px 0}.right-list .top[data-v-fd18637b]{display:flex;align-items:center;padding:8px 16px;box-sizing:border-box;color:var(--color-text-primary);font-weight:600;column-gap:6px;height:40px;border-bottom:1px solid var(--color-input-border)}.right-list .top img[data-v-fd18637b]{width:18px}.right-list .top .vip-1024-img[data-v-fd18637b]{margin-left:auto;-webkit-user-drag:none;cursor:pointer}.right-list .bottom[data-v-fd18637b]{padding:8px 14px;box-sizing:border-box}.right-list .bottom .right-item[data-v-fd18637b]{display:flex;align-items:center;column-gap:8px;color:var(--color-text-content);height:32px}.right-list .bottom .right-item+.right-item[data-v-fd18637b]{margin-top:4px}.right-list .bottom .right-item span[data-v-fd18637b]{width:20px;height:20px;border-radius:50%;background:#f3f0fe;display:flex;justify-content:center;align-items:center}.right-list .bottom .right-item span svg[data-v-fd18637b]{width:12px;height:12px}.strong[data-v-fd18637b]{font-weight:500}.chat-icon-tip[data-v-fd18637b]{overflow:hidden;vertical-align:-4px;width:10px;height:10px}.el-dialog{--el-dialog-width:50%;--el-dialog-margin-top:15vh;--el-dialog-bg-color:var(--el-bg-color);--el-dialog-box-shadow:var(--el-box-shadow);--el-dialog-title-font-size:var(--el-font-size-large);--el-dialog-content-font-size:14px;--el-dialog-font-line-height:var(--el-font-line-height-primary);--el-dialog-padding-primary:20px;--el-dialog-border-radius:var(--el-border-radius-small);position:relative;margin:var(--el-dialog-margin-top,15vh) auto 50px;background:var(--el-dialog-bg-color);border-radius:var(--el-dialog-border-radius);box-shadow:var(--el-dialog-box-shadow);box-sizing:border-box;width:var(--el-dialog-width,50%)}.el-dialog:focus{outline:0!important}.el-dialog.is-align-center{margin:auto}.el-dialog.is-fullscreen{--el-dialog-width:100%;--el-dialog-margin-top:0;margin-bottom:0;height:100%;overflow:auto}.el-dialog__wrapper{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;margin:0}.el-dialog.is-draggable .el-dialog__header{cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.el-dialog__header{padding:var(--el-dialog-padding-primary);padding-bottom:10px;margin-right:16px}.el-dialog__headerbtn{position:absolute;top:6px;right:0;padding:0;width:54px;height:54px;background:0 0;border:none;outline:0;cursor:pointer;font-size:var(--el-message-close-size,16px)}.el-dialog__headerbtn .el-dialog__close{color:var(--el-color-info);font-size:inherit}.el-dialog__headerbtn:focus .el-dialog__close,.el-dialog__headerbtn:hover .el-dialog__close{color:var(--el-color-primary)}.el-dialog__title{line-height:var(--el-dialog-font-line-height);font-size:var(--el-dialog-title-font-size);color:var(--el-text-color-primary)}.el-dialog__body{padding:calc(var(--el-dialog-padding-primary) + 10px) var(--el-dialog-padding-primary);color:var(--el-text-color-regular);font-size:var(--el-dialog-content-font-size)}.el-dialog__footer{padding:var(--el-dialog-padding-primary);padding-top:10px;text-align:right;box-sizing:border-box}.el-dialog--center{text-align:center}.el-dialog--center .el-dialog__body{text-align:initial;padding:25px calc(var(--el-dialog-padding-primary) + 5px) 30px}.el-dialog--center .el-dialog__footer{text-align:inherit}.el-overlay-dialog{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto}.dialog-fade-enter-active{-webkit-animation:modal-fade-in var(--el-transition-duration);animation:modal-fade-in var(--el-transition-duration)}.dialog-fade-enter-active .el-overlay-dialog{-webkit-animation:dialog-fade-in var(--el-transition-duration);animation:dialog-fade-in var(--el-transition-duration)}.dialog-fade-leave-active{-webkit-animation:modal-fade-out var(--el-transition-duration);animation:modal-fade-out var(--el-transition-duration)}.dialog-fade-leave-active .el-overlay-dialog{-webkit-animation:dialog-fade-out var(--el-transition-duration);animation:dialog-fade-out var(--el-transition-duration)}@-webkit-keyframes dialog-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@keyframes dialog-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@-webkit-keyframes dialog-fade-out{0%{transform:translateZ(0);opacity:1}to{transform:translate3d(0,-20px,0);opacity:0}}@keyframes dialog-fade-out{0%{transform:translateZ(0);opacity:1}to{transform:translate3d(0,-20px,0);opacity:0}}@-webkit-keyframes modal-fade-in{0%{opacity:0}to{opacity:1}}@keyframes modal-fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes modal-fade-out{0%{opacity:1}to{opacity:0}}@keyframes modal-fade-out{0%{opacity:1}to{opacity:0}}.el-button{--el-button-font-weight:var(--el-font-weight-primary);--el-button-border-color:var(--el-border-color);--el-button-bg-color:var(--el-fill-color-blank);--el-button-text-color:var(--el-text-color-regular);--el-button-disabled-text-color:var(--el-disabled-text-color);--el-button-disabled-bg-color:var(--el-fill-color-blank);--el-button-disabled-border-color:var(--el-border-color-light);--el-button-divide-border-color:rgba(255, 255, 255, .5);--el-button-hover-text-color:var(--el-color-primary);--el-button-hover-bg-color:var(--el-color-primary-light-9);--el-button-hover-border-color:var(--el-color-primary-light-7);--el-button-active-text-color:var(--el-button-hover-text-color);--el-button-active-border-color:var(--el-color-primary);--el-button-active-bg-color:var(--el-button-hover-bg-color);--el-button-outline-color:var(--el-color-primary-light-5);--el-button-hover-link-text-color:var(--el-color-info);--el-button-active-color:var(--el-text-color-primary)}.el-button{display:inline-flex;justify-content:center;align-items:center;line-height:1;height:32px;white-space:nowrap;cursor:pointer;color:var(--el-button-text-color);text-align:center;box-sizing:border-box;outline:0;transition:.1s;font-weight:var(--el-button-font-weight);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-webkit-appearance:none;background-color:var(--el-button-bg-color);border:var(--el-border);border-color:var(--el-button-border-color);padding:8px 15px;font-size:var(--el-font-size-base);border-radius:var(--el-border-radius-base)}.el-button:focus,.el-button:hover{color:var(--el-button-hover-text-color);border-color:var(--el-button-hover-border-color);background-color:var(--el-button-hover-bg-color);outline:0}.el-button:active{color:var(--el-button-active-text-color);border-color:var(--el-button-active-border-color);background-color:var(--el-button-active-bg-color);outline:0}.el-button:focus-visible{outline:2px solid var(--el-button-outline-color);outline-offset:1px}.el-button>span{display:inline-flex;align-items:center}.el-button+.el-button{margin-left:12px}.el-button.is-round{padding:8px 15px}.el-button::-moz-focus-inner{border:0}.el-button [class*=el-icon]+span{margin-left:6px}.el-button [class*=el-icon] svg{vertical-align:bottom}.el-button.is-plain{--el-button-hover-text-color:var(--el-color-primary);--el-button-hover-bg-color:var(--el-fill-color-blank);--el-button-hover-border-color:var(--el-color-primary)}.el-button.is-active{color:var(--el-button-active-text-color);border-color:var(--el-button-active-border-color);background-color:var(--el-button-active-bg-color);outline:0}.el-button.is-disabled,.el-button.is-disabled:focus,.el-button.is-disabled:hover{color:var(--el-button-disabled-text-color);cursor:not-allowed;background-image:none;background-color:var(--el-button-disabled-bg-color);border-color:var(--el-button-disabled-border-color)}.el-button.is-loading{position:relative;pointer-events:none}.el-button.is-loading:before{z-index:1;pointer-events:none;content:"";position:absolute;left:-1px;top:-1px;right:-1px;bottom:-1px;border-radius:inherit;background-color:var(--el-mask-color-extra-light)}.el-button.is-round{border-radius:var(--el-border-radius-round)}.el-button.is-circle{width:32px;border-radius:50%;padding:8px}.el-button.is-text{color:var(--el-button-text-color);border:0 solid transparent;background-color:transparent}.el-button.is-text.is-disabled{color:var(--el-button-disabled-text-color);background-color:transparent!important}.el-button.is-text:not(.is-disabled):focus,.el-button.is-text:not(.is-disabled):hover{background-color:var(--el-fill-color-light)}.el-button.is-text:not(.is-disabled):focus-visible{outline:2px solid var(--el-button-outline-color);outline-offset:1px}.el-button.is-text:not(.is-disabled):active{background-color:var(--el-fill-color)}.el-button.is-text:not(.is-disabled).is-has-bg{background-color:var(--el-fill-color-light)}.el-button.is-text:not(.is-disabled).is-has-bg:focus,.el-button.is-text:not(.is-disabled).is-has-bg:hover{background-color:var(--el-fill-color)}.el-button.is-text:not(.is-disabled).is-has-bg:active{background-color:var(--el-fill-color-dark)}.el-button__text--expand{letter-spacing:.3em;margin-right:-.3em}.el-button.is-link{border-color:transparent;color:var(--el-button-text-color);background:0 0;padding:2px;height:auto}.el-button.is-link:focus,.el-button.is-link:hover{color:var(--el-button-hover-link-text-color)}.el-button.is-link.is-disabled{color:var(--el-button-disabled-text-color);background-color:transparent!important;border-color:transparent!important}.el-button.is-link:not(.is-disabled):focus,.el-button.is-link:not(.is-disabled):hover{border-color:transparent;background-color:transparent}.el-button.is-link:not(.is-disabled):active{color:var(--el-button-active-color);border-color:transparent;background-color:transparent}.el-button--text{border-color:transparent;background:0 0;color:var(--el-color-primary);padding-left:0;padding-right:0}.el-button--text.is-disabled{color:var(--el-button-disabled-text-color);background-color:transparent!important;border-color:transparent!important}.el-button--text:not(.is-disabled):focus,.el-button--text:not(.is-disabled):hover{color:var(--el-color-primary-light-3);border-color:transparent;background-color:transparent}.el-button--text:not(.is-disabled):active{color:var(--el-color-primary-dark-2);border-color:transparent;background-color:transparent}.el-button__link--expand{letter-spacing:.3em;margin-right:-.3em}.el-button--primary{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-primary);--el-button-border-color:var(--el-color-primary);--el-button-outline-color:var(--el-color-primary-light-5);--el-button-active-color:var(--el-color-primary-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-primary-light-5);--el-button-hover-bg-color:var(--el-color-primary-light-3);--el-button-hover-border-color:var(--el-color-primary-light-3);--el-button-active-bg-color:var(--el-color-primary-dark-2);--el-button-active-border-color:var(--el-color-primary-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-primary-light-5);--el-button-disabled-border-color:var(--el-color-primary-light-5)}.el-button--primary.is-link,.el-button--primary.is-plain,.el-button--primary.is-text{--el-button-text-color:var(--el-color-primary);--el-button-bg-color:var(--el-color-primary-light-9);--el-button-border-color:var(--el-color-primary-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-primary);--el-button-hover-border-color:var(--el-color-primary);--el-button-active-text-color:var(--el-color-white)}.el-button--primary.is-link.is-disabled,.el-button--primary.is-link.is-disabled:active,.el-button--primary.is-link.is-disabled:focus,.el-button--primary.is-link.is-disabled:hover,.el-button--primary.is-plain.is-disabled,.el-button--primary.is-plain.is-disabled:active,.el-button--primary.is-plain.is-disabled:focus,.el-button--primary.is-plain.is-disabled:hover,.el-button--primary.is-text.is-disabled,.el-button--primary.is-text.is-disabled:active,.el-button--primary.is-text.is-disabled:focus,.el-button--primary.is-text.is-disabled:hover{color:var(--el-color-primary-light-5);background-color:var(--el-color-primary-light-9);border-color:var(--el-color-primary-light-8)}.el-button--success{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-success);--el-button-border-color:var(--el-color-success);--el-button-outline-color:var(--el-color-success-light-5);--el-button-active-color:var(--el-color-success-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-success-light-5);--el-button-hover-bg-color:var(--el-color-success-light-3);--el-button-hover-border-color:var(--el-color-success-light-3);--el-button-active-bg-color:var(--el-color-success-dark-2);--el-button-active-border-color:var(--el-color-success-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-success-light-5);--el-button-disabled-border-color:var(--el-color-success-light-5)}.el-button--success.is-link,.el-button--success.is-plain,.el-button--success.is-text{--el-button-text-color:var(--el-color-success);--el-button-bg-color:var(--el-color-success-light-9);--el-button-border-color:var(--el-color-success-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-success);--el-button-hover-border-color:var(--el-color-success);--el-button-active-text-color:var(--el-color-white)}.el-button--success.is-link.is-disabled,.el-button--success.is-link.is-disabled:active,.el-button--success.is-link.is-disabled:focus,.el-button--success.is-link.is-disabled:hover,.el-button--success.is-plain.is-disabled,.el-button--success.is-plain.is-disabled:active,.el-button--success.is-plain.is-disabled:focus,.el-button--success.is-plain.is-disabled:hover,.el-button--success.is-text.is-disabled,.el-button--success.is-text.is-disabled:active,.el-button--success.is-text.is-disabled:focus,.el-button--success.is-text.is-disabled:hover{color:var(--el-color-success-light-5);background-color:var(--el-color-success-light-9);border-color:var(--el-color-success-light-8)}.el-button--warning{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-warning);--el-button-border-color:var(--el-color-warning);--el-button-outline-color:var(--el-color-warning-light-5);--el-button-active-color:var(--el-color-warning-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-warning-light-5);--el-button-hover-bg-color:var(--el-color-warning-light-3);--el-button-hover-border-color:var(--el-color-warning-light-3);--el-button-active-bg-color:var(--el-color-warning-dark-2);--el-button-active-border-color:var(--el-color-warning-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-warning-light-5);--el-button-disabled-border-color:var(--el-color-warning-light-5)}.el-button--warning.is-link,.el-button--warning.is-plain,.el-button--warning.is-text{--el-button-text-color:var(--el-color-warning);--el-button-bg-color:var(--el-color-warning-light-9);--el-button-border-color:var(--el-color-warning-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-warning);--el-button-hover-border-color:var(--el-color-warning);--el-button-active-text-color:var(--el-color-white)}.el-button--warning.is-link.is-disabled,.el-button--warning.is-link.is-disabled:active,.el-button--warning.is-link.is-disabled:focus,.el-button--warning.is-link.is-disabled:hover,.el-button--warning.is-plain.is-disabled,.el-button--warning.is-plain.is-disabled:active,.el-button--warning.is-plain.is-disabled:focus,.el-button--warning.is-plain.is-disabled:hover,.el-button--warning.is-text.is-disabled,.el-button--warning.is-text.is-disabled:active,.el-button--warning.is-text.is-disabled:focus,.el-button--warning.is-text.is-disabled:hover{color:var(--el-color-warning-light-5);background-color:var(--el-color-warning-light-9);border-color:var(--el-color-warning-light-8)}.el-button--danger{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-danger);--el-button-border-color:var(--el-color-danger);--el-button-outline-color:var(--el-color-danger-light-5);--el-button-active-color:var(--el-color-danger-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-danger-light-5);--el-button-hover-bg-color:var(--el-color-danger-light-3);--el-button-hover-border-color:var(--el-color-danger-light-3);--el-button-active-bg-color:var(--el-color-danger-dark-2);--el-button-active-border-color:var(--el-color-danger-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-danger-light-5);--el-button-disabled-border-color:var(--el-color-danger-light-5)}.el-button--danger.is-link,.el-button--danger.is-plain,.el-button--danger.is-text{--el-button-text-color:var(--el-color-danger);--el-button-bg-color:var(--el-color-danger-light-9);--el-button-border-color:var(--el-color-danger-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-danger);--el-button-hover-border-color:var(--el-color-danger);--el-button-active-text-color:var(--el-color-white)}.el-button--danger.is-link.is-disabled,.el-button--danger.is-link.is-disabled:active,.el-button--danger.is-link.is-disabled:focus,.el-button--danger.is-link.is-disabled:hover,.el-button--danger.is-plain.is-disabled,.el-button--danger.is-plain.is-disabled:active,.el-button--danger.is-plain.is-disabled:focus,.el-button--danger.is-plain.is-disabled:hover,.el-button--danger.is-text.is-disabled,.el-button--danger.is-text.is-disabled:active,.el-button--danger.is-text.is-disabled:focus,.el-button--danger.is-text.is-disabled:hover{color:var(--el-color-danger-light-5);background-color:var(--el-color-danger-light-9);border-color:var(--el-color-danger-light-8)}.el-button--info{--el-button-text-color:var(--el-color-white);--el-button-bg-color:var(--el-color-info);--el-button-border-color:var(--el-color-info);--el-button-outline-color:var(--el-color-info-light-5);--el-button-active-color:var(--el-color-info-dark-2);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-link-text-color:var(--el-color-info-light-5);--el-button-hover-bg-color:var(--el-color-info-light-3);--el-button-hover-border-color:var(--el-color-info-light-3);--el-button-active-bg-color:var(--el-color-info-dark-2);--el-button-active-border-color:var(--el-color-info-dark-2);--el-button-disabled-text-color:var(--el-color-white);--el-button-disabled-bg-color:var(--el-color-info-light-5);--el-button-disabled-border-color:var(--el-color-info-light-5)}.el-button--info.is-link,.el-button--info.is-plain,.el-button--info.is-text{--el-button-text-color:var(--el-color-info);--el-button-bg-color:var(--el-color-info-light-9);--el-button-border-color:var(--el-color-info-light-5);--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-info);--el-button-hover-border-color:var(--el-color-info);--el-button-active-text-color:var(--el-color-white)}.el-button--info.is-link.is-disabled,.el-button--info.is-link.is-disabled:active,.el-button--info.is-link.is-disabled:focus,.el-button--info.is-link.is-disabled:hover,.el-button--info.is-plain.is-disabled,.el-button--info.is-plain.is-disabled:active,.el-button--info.is-plain.is-disabled:focus,.el-button--info.is-plain.is-disabled:hover,.el-button--info.is-text.is-disabled,.el-button--info.is-text.is-disabled:active,.el-button--info.is-text.is-disabled:focus,.el-button--info.is-text.is-disabled:hover{color:var(--el-color-info-light-5);background-color:var(--el-color-info-light-9);border-color:var(--el-color-info-light-8)}.el-button--large{--el-button-size:40px;height:var(--el-button-size);padding:12px 19px;font-size:var(--el-font-size-base);border-radius:var(--el-border-radius-base)}.el-button--large [class*=el-icon]+span{margin-left:8px}.el-button--large.is-round{padding:12px 19px}.el-button--large.is-circle{width:var(--el-button-size);padding:12px}.el-button--small{--el-button-size:24px;height:var(--el-button-size);padding:5px 11px;font-size:12px;border-radius:calc(var(--el-border-radius-base) - 1px)}.el-button--small [class*=el-icon]+span{margin-left:4px}.el-button--small.is-round{padding:5px 11px}.el-button--small.is-circle{width:var(--el-button-size);padding:5px}.chat-roles-list{display:flex;flex-wrap:wrap;gap:16px;row-gap:16px;overflow-y:auto}.chat-roles-list .chat-role-item{width:256px;height:76px;padding:8px 16px;border:1px solid var(--color-border);border-radius:8px;font-size:14px;color:var(--color-text-primary)}.chat-roles-list .chat-role-item img{display:inline-block;width:18px;height:18px;margin-right:4px;vertical-align:middle}.chat-roles-list .chat-role-item .name{height:20px;font-size:14px;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#222226;line-height:20px;vertical-align:middle}.chat-roles-list .desc{margin-top:8px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#999aaa;line-height:16px}.player.is-fold[data-v-29bfd76b]{padding:0 24px}.player.is-fold .chat-player[data-v-29bfd76b]{height:32px;padding:0;justify-content:center}.chat-player[data-v-29bfd76b]{height:38px;display:flex;align-items:center;border-radius:8px;border:1px solid #d8f;background:linear-gradient(92deg,#dd88ff1a .32%,#6d5ffd1a);padding:0 12px;cursor:pointer}.chat-player .player-text[data-v-29bfd76b]{margin-left:8px}@media screen and (min-width: 769px){.scroll-bar-style:hover::-webkit-scrollbar-thumb,.chat-aside .aside-right .aside-main:hover::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px #0000001a;background:#f7f7fc}.scroll-bar-style::-webkit-scrollbar,.chat-aside .aside-right .aside-main::-webkit-scrollbar{width:5px;height:5px}.scroll-bar-style::-webkit-scrollbar-thumb,.chat-aside .aside-right .aside-main::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 5px #0000;background:#0000}.scroll-bar-style::-webkit-scrollbar-track,.chat-aside .aside-right .aside-main::-webkit-scrollbar-track{border-radius:10px;background:#0000}}@keyframes breathe{0%{opacity:0}50%{opacity:1}to{opacity:0}}.add-simple{padding:4px;border-radius:20px;margin:auto 8px;display:none}.add-wrap{width:192px;padding:4px;border-radius:20px;margin:26px auto 12px;z-index:1}.new-chat-btn{color:#fff;cursor:pointer;background:linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%);width:130px;height:29px;box-sizing:border-box;border-radius:8px;position:relative;transition:width .3s;transform-origin:left;overflow:hidden;display:flex;justify-content:center;align-items:center}.new-chat-btn:hover .add{font-weight:600}.new-chat-btn .add{font-size:14px;display:flex;justify-content:center;align-items:center;border-radius:20px}.new-chat-btn .add svg{margin-right:8px}.chat-aside{position:relative;display:flex;transition:width .3s linear;padding:12px 0 25px 12px}.chat-aside .aside-left{display:flex;flex-direction:column;height:100%;width:65px;border-right:1px solid rgba(0,0,0,.05);background:#fff;border-radius:12px 0 0 12px;position:relative}.chat-aside .aside-left .logo-aside{padding:24px 12px 0;text-align:center}.chat-aside .aside-left .logo-aside svg{vertical-align:middle}.chat-aside .aside-left .vip-button{display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:8px;margin-bottom:27px;cursor:pointer}.chat-aside .aside-left .vip-button img{width:24px}.chat-aside .aside-left .vip-button span{font-size:12px;color:var(--color-text-primary)}.chat-aside .aside-left .aside-items{flex:1;padding:0 4px}.chat-aside .aside-left .aside-items .aside-chat-item{margin:8px 0 24px;text-align:center;height:52px;width:56px;border-radius:12px;padding:4px;font-size:12px;line-height:16px;color:var(--color-text-desc);box-sizing:border-box;font-weight:500;cursor:pointer}.chat-aside .aside-left .aside-items .aside-chat-item .chat-icon-text{white-space:nowrap}.chat-aside .aside-left .aside-items .aside-chat-item svg{color:var(--color-text-desc)}.chat-aside .aside-left .aside-items .aside-chat-item.active{background-color:#fff;color:var(--color-text-active);background:#f3f0fe}.chat-aside .aside-left .aside-items .aside-chat-item.active svg{color:var(--color-text-active)}.chat-aside .aside-right{width:164px;position:relative;display:flex;flex-direction:column;box-sizing:border-box}.chat-aside .aside-right:after{position:absolute;content:"";width:1px;height:100%;background:#0000000d;top:0;right:0}.chat-aside .aside-right .aside-top{background:#fff}.chat-aside .aside-right .aside-main{flex:1;overflow-y:auto;padding:0 8px;background:#fff}.chat-aside .aside-right .aside-bottom{padding:0 12px 24px}.chat-aside .fold-icon{opacity:0;position:absolute;top:50%;transform:translateY(-50%);left:0;width:14px;height:110px;z-index:2;pointer-events:none;cursor:pointer}.chat-aside .fold-icon .icon-fold-open,.chat-aside .fold-icon .icon-fold-close{width:100%;height:100%}#chat-pro .fold .aside-right{display:none}#chat-pro .fold .add-simple{display:block;width:48px}.simple-dialog{font-size:14px;overflow:hidden}.simple-dialog .el-dialog__header{background-color:#fff}.simple-dialog.bold .el-dialog__header{font-weight:500}.simple-dialog .el-dialog__header{padding:24px 24px 0;margin-right:0}.simple-dialog .el-dialog__body{padding:16px 24px}.simple-dialog .el-dialog__footer{padding:0 24px 24px}:root{--el-popup-modal-bg-color:var(--el-color-black);--el-popup-modal-opacity:.5}.v-modal-enter{-webkit-animation:v-modal-in var(--el-transition-duration-fast) ease;animation:v-modal-in var(--el-transition-duration-fast) ease}.v-modal-leave{-webkit-animation:v-modal-out var(--el-transition-duration-fast) ease forwards;animation:v-modal-out var(--el-transition-duration-fast) ease forwards}@-webkit-keyframes v-modal-in{0%{opacity:0}}@keyframes v-modal-in{0%{opacity:0}}@-webkit-keyframes v-modal-out{to{opacity:0}}@keyframes v-modal-out{to{opacity:0}}.v-modal{position:fixed;left:0;top:0;width:100%;height:100%;opacity:var(--el-popup-modal-opacity);background:var(--el-popup-modal-bg-color)}.el-popup-parent--hidden{overflow:hidden}.el-message-box{--el-messagebox-title-color:var(--el-text-color-primary);--el-messagebox-width:420px;--el-messagebox-border-radius:4px;--el-messagebox-font-size:var(--el-font-size-large);--el-messagebox-content-font-size:var(--el-font-size-base);--el-messagebox-content-color:var(--el-text-color-regular);--el-messagebox-error-font-size:12px;--el-messagebox-padding-primary:15px}.el-message-box{display:inline-block;max-width:var(--el-messagebox-width);width:100%;padding-bottom:10px;vertical-align:middle;background-color:var(--el-bg-color);border-radius:var(--el-messagebox-border-radius);border:1px solid var(--el-border-color-lighter);font-size:var(--el-messagebox-font-size);box-shadow:var(--el-box-shadow-light);text-align:left;overflow:hidden;-webkit-backface-visibility:hidden;backface-visibility:hidden;box-sizing:border-box}.el-message-box:focus{outline:0!important}.el-overlay.is-message-box .el-overlay-message-box{text-align:center;position:fixed;top:0;right:0;bottom:0;left:0;padding:16px;overflow:auto}.el-overlay.is-message-box .el-overlay-message-box:after{content:"";display:inline-block;height:100%;width:0;vertical-align:middle}.el-message-box.is-draggable .el-message-box__header{cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.el-message-box__header{position:relative;padding:var(--el-messagebox-padding-primary);padding-bottom:10px}.el-message-box__title{padding-left:0;margin-bottom:0;font-size:var(--el-messagebox-font-size);line-height:1;color:var(--el-messagebox-title-color)}.el-message-box__headerbtn{position:absolute;top:var(--el-messagebox-padding-primary);right:var(--el-messagebox-padding-primary);padding:0;border:none;outline:0;background:0 0;font-size:var(--el-message-close-size,16px);cursor:pointer}.el-message-box__headerbtn .el-message-box__close{color:var(--el-color-info);font-size:inherit}.el-message-box__headerbtn:focus .el-message-box__close,.el-message-box__headerbtn:hover .el-message-box__close{color:var(--el-color-primary)}.el-message-box__content{padding:10px var(--el-messagebox-padding-primary);color:var(--el-messagebox-content-color);font-size:var(--el-messagebox-content-font-size)}.el-message-box__container{position:relative}.el-message-box__input{padding-top:15px}.el-message-box__input div.invalid>input{border-color:var(--el-color-error)}.el-message-box__input div.invalid>input:focus{border-color:var(--el-color-error)}.el-message-box__status{position:absolute;top:50%;transform:translateY(-50%);font-size:24px!important}.el-message-box__status:before{padding-left:1px}.el-message-box__status.el-icon{position:absolute}.el-message-box__status+.el-message-box__message{padding-left:36px;padding-right:12px;word-break:break-word}.el-message-box__status.el-message-box-icon--success{--el-messagebox-color:var(--el-color-success);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--info{--el-messagebox-color:var(--el-color-info);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--warning{--el-messagebox-color:var(--el-color-warning);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--error{--el-messagebox-color:var(--el-color-error);color:var(--el-messagebox-color)}.el-message-box__message{margin:0}.el-message-box__message p{margin:0;line-height:24px}.el-message-box__errormsg{color:var(--el-color-error);font-size:var(--el-messagebox-error-font-size);min-height:18px;margin-top:2px}.el-message-box__btns{padding:5px 15px 0;display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center}.el-message-box__btns button:nth-child(2){margin-left:10px}.el-message-box__btns-reverse{flex-direction:row-reverse}.el-message-box--center .el-message-box__title{position:relative;display:flex;align-items:center;justify-content:center}.el-message-box--center .el-message-box__status{position:relative;top:auto;padding-right:5px;text-align:center;transform:translateY(-1px)}.el-message-box--center .el-message-box__message{margin-left:0}.el-message-box--center .el-message-box__btns{justify-content:center}.el-message-box--center .el-message-box__content{padding-left:calc(var(--el-messagebox-padding-primary) + 12px);padding-right:calc(var(--el-messagebox-padding-primary) + 12px);text-align:center}.fade-in-linear-enter-active .el-overlay-message-box{-webkit-animation:msgbox-fade-in var(--el-transition-duration);animation:msgbox-fade-in var(--el-transition-duration)}.fade-in-linear-leave-active .el-overlay-message-box{animation:msgbox-fade-in var(--el-transition-duration) reverse}@-webkit-keyframes msgbox-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@keyframes msgbox-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}.el-textarea{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%}.el-textarea{position:relative;display:inline-block;width:100%;vertical-align:bottom;font-size:var(--el-font-size-base)}.el-textarea__inner{position:relative;display:block;resize:vertical;padding:5px 11px;line-height:1.5;box-sizing:border-box;width:100%;font-size:inherit;font-family:inherit;color:var(--el-input-text-color,var(--el-text-color-regular));background-color:var(--el-input-bg-color,var(--el-fill-color-blank));background-image:none;-webkit-appearance:none;box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));transition:var(--el-transition-box-shadow);border:none}.el-textarea__inner::-moz-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner:-ms-input-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-textarea__inner:focus{outline:0;box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-textarea .el-input__count{color:var(--el-color-info);background:var(--el-fill-color-blank);position:absolute;font-size:12px;line-height:14px;bottom:5px;right:10px}.el-textarea.is-disabled .el-textarea__inner{box-shadow:0 0 0 1px var(--el-disabled-border-color) inset;background-color:var(--el-disabled-bg-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-textarea.is-disabled .el-textarea__inner::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-disabled .el-textarea__inner:-ms-input-placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-disabled .el-textarea__inner::placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-exceed .el-textarea__inner{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-textarea.is-exceed .el-input__count{color:var(--el-color-danger)}.el-input{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border);--el-input-hover-border:var(--el-border-color-hover);--el-input-focus-border:var(--el-color-primary);--el-input-transparent-border:0 0 0 1px transparent inset;--el-input-border-color:var(--el-border-color);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-fill-color-blank);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border-color:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border-color:var(--el-color-primary);--el-input-width:100%}.el-input{--el-input-height:var(--el-component-size);position:relative;font-size:var(--el-font-size-base);display:inline-flex;width:var(--el-input-width);line-height:var(--el-input-height);box-sizing:border-box;vertical-align:middle}.el-input::-webkit-scrollbar{z-index:11;width:6px}.el-input::-webkit-scrollbar:horizontal{height:6px}.el-input::-webkit-scrollbar-thumb{border-radius:5px;width:6px;background:var(--el-text-color-disabled)}.el-input::-webkit-scrollbar-corner{background:var(--el-fill-color-blank)}.el-input::-webkit-scrollbar-track{background:var(--el-fill-color-blank)}.el-input::-webkit-scrollbar-track-piece{background:var(--el-fill-color-blank);width:6px}.el-input .el-input__clear,.el-input .el-input__password{color:var(--el-input-icon-color);font-size:14px;cursor:pointer}.el-input .el-input__clear:hover,.el-input .el-input__password:hover{color:var(--el-input-clear-hover-color)}.el-input .el-input__count{height:100%;display:inline-flex;align-items:center;color:var(--el-color-info);font-size:12px}.el-input .el-input__count .el-input__count-inner{background:var(--el-fill-color-blank);line-height:initial;display:inline-block;padding-left:8px}.el-input__wrapper{display:inline-flex;flex-grow:1;align-items:center;justify-content:center;padding:1px 11px;background-color:var(--el-input-bg-color,var(--el-fill-color-blank));background-image:none;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));cursor:text;transition:var(--el-transition-box-shadow);transform:translateZ(0);box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset}.el-input__wrapper:hover{box-shadow:0 0 0 1px var(--el-input-hover-border-color) inset}.el-input__wrapper.is-focus{box-shadow:0 0 0 1px var(--el-input-focus-border-color) inset}.el-input__inner{--el-input-inner-height:calc(var(--el-input-height, 32px) - 2px);width:100%;flex-grow:1;-webkit-appearance:none;color:var(--el-input-text-color,var(--el-text-color-regular));font-size:inherit;height:var(--el-input-inner-height);line-height:var(--el-input-inner-height);padding:0;outline:0;border:none;background:0 0;box-sizing:border-box}.el-input__inner:focus{outline:0}.el-input__inner::-moz-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner:-ms-input-placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner[type=password]::-ms-reveal{display:none}.el-input__prefix{display:inline-flex;white-space:nowrap;flex-shrink:0;flex-wrap:nowrap;height:100%;text-align:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));transition:all var(--el-transition-duration);pointer-events:none}.el-input__prefix-inner{pointer-events:all;display:inline-flex;align-items:center;justify-content:center}.el-input__prefix-inner>:last-child{margin-right:8px}.el-input__prefix-inner>:first-child,.el-input__prefix-inner>:first-child.el-input__icon{margin-left:0}.el-input__suffix{display:inline-flex;white-space:nowrap;flex-shrink:0;flex-wrap:nowrap;height:100%;text-align:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));transition:all var(--el-transition-duration);pointer-events:none}.el-input__suffix-inner{pointer-events:all;display:inline-flex;align-items:center;justify-content:center}.el-input__suffix-inner>:first-child{margin-left:8px}.el-input .el-input__icon{height:inherit;line-height:inherit;display:flex;justify-content:center;align-items:center;transition:all var(--el-transition-duration);margin-left:8px}.el-input__validateIcon{pointer-events:none}.el-input.is-active .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-color,) inset}.el-input.is-disabled{cursor:not-allowed}.el-input.is-disabled .el-input__wrapper{background-color:var(--el-disabled-bg-color);box-shadow:0 0 0 1px var(--el-disabled-border-color) inset}.el-input.is-disabled .el-input__inner{color:var(--el-disabled-text-color);-webkit-text-fill-color:var(--el-disabled-text-color);cursor:not-allowed}.el-input.is-disabled .el-input__inner::-moz-placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__inner:-ms-input-placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__inner::placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__icon{cursor:not-allowed}.el-input.is-exceed .el-input__wrapper{box-shadow:0 0 0 1px var(--el-color-danger) inset}.el-input.is-exceed .el-input__suffix .el-input__count{color:var(--el-color-danger)}.el-input--large{--el-input-height:var(--el-component-size-large);font-size:14px}.el-input--large .el-input__wrapper{padding:1px 15px}.el-input--large .el-input__inner{--el-input-inner-height:calc(var(--el-input-height, 40px) - 2px)}.el-input--small{--el-input-height:var(--el-component-size-small);font-size:12px}.el-input--small .el-input__wrapper{padding:1px 7px}.el-input--small .el-input__inner{--el-input-inner-height:calc(var(--el-input-height, 24px) - 2px)}.el-input-group{display:inline-flex;width:100%;align-items:stretch}.el-input-group__append,.el-input-group__prepend{background-color:var(--el-fill-color-light);color:var(--el-color-info);position:relative;display:inline-flex;align-items:center;justify-content:center;min-height:100%;border-radius:var(--el-input-border-radius);padding:0 20px;white-space:nowrap}.el-input-group__append:focus,.el-input-group__prepend:focus{outline:0}.el-input-group__append .el-button,.el-input-group__append .el-select,.el-input-group__prepend .el-button,.el-input-group__prepend .el-select{display:inline-block;margin:0 -20px}.el-input-group__append button.el-button,.el-input-group__append button.el-button:hover,.el-input-group__append div.el-select .el-input__wrapper,.el-input-group__append div.el-select:hover .el-input__wrapper,.el-input-group__prepend button.el-button,.el-input-group__prepend button.el-button:hover,.el-input-group__prepend div.el-select .el-input__wrapper,.el-input-group__prepend div.el-select:hover .el-input__wrapper{border-color:transparent;background-color:transparent;color:inherit}.el-input-group__append .el-button,.el-input-group__append .el-input,.el-input-group__prepend .el-button,.el-input-group__prepend .el-input{font-size:inherit}.el-input-group__prepend{border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;box-shadow:1px 0 0 0 var(--el-input-border-color) inset,0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset}.el-input-group__append{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset,-1px 0 0 0 var(--el-input-border-color) inset}.el-input-group--prepend>.el-input__wrapper{border-top-left-radius:0;border-bottom-left-radius:0}.el-input-group--prepend .el-input-group__prepend .el-select .el-input .el-input__inner{box-shadow:none!important}.el-input-group--prepend .el-input-group__prepend .el-select .el-input .el-input__wrapper{border-top-right-radius:0;border-bottom-right-radius:0;box-shadow:1px 0 0 0 var(--el-input-border-color) inset,0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset}.el-input-group--prepend .el-input-group__prepend .el-select .el-input.is-focus .el-input__inner{box-shadow:none!important}.el-input-group--prepend .el-input-group__prepend .el-select .el-input.is-focus .el-input__wrapper{box-shadow:1px 0 0 0 var(--el-input-focus-border-color) inset,1px 0 0 0 var(--el-input-focus-border-color),0 1px 0 0 var(--el-input-focus-border-color) inset,0 -1px 0 0 var(--el-input-focus-border-color) inset!important;z-index:2}.el-input-group--prepend .el-input-group__prepend .el-select .el-input.is-focus .el-input__wrapper:focus{outline:0;z-index:2;box-shadow:1px 0 0 0 var(--el-input-focus-border-color) inset,1px 0 0 0 var(--el-input-focus-border-color),0 1px 0 0 var(--el-input-focus-border-color) inset,0 -1px 0 0 var(--el-input-focus-border-color) inset!important}.el-input-group--prepend .el-input-group__prepend .el-select:hover .el-input__inner{box-shadow:none!important}.el-input-group--prepend .el-input-group__prepend .el-select:hover .el-input__wrapper{z-index:1;box-shadow:1px 0 0 0 var(--el-input-hover-border-color) inset,1px 0 0 0 var(--el-input-hover-border-color),0 1px 0 0 var(--el-input-hover-border-color) inset,0 -1px 0 0 var(--el-input-hover-border-color) inset!important}.el-input-group--append>.el-input__wrapper{border-top-right-radius:0;border-bottom-right-radius:0}.el-input-group--append .el-input-group__append .el-select .el-input .el-input__inner{box-shadow:none!important}.el-input-group--append .el-input-group__append .el-select .el-input .el-input__wrapper{border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:0 1px 0 0 var(--el-input-border-color) inset,0 -1px 0 0 var(--el-input-border-color) inset,-1px 0 0 0 var(--el-input-border-color) inset}.el-input-group--append .el-input-group__append .el-select .el-input.is-focus .el-input__inner{box-shadow:none!important}.el-input-group--append .el-input-group__append .el-select .el-input.is-focus .el-input__wrapper{z-index:2;box-shadow:-1px 0 0 0 var(--el-input-focus-border-color),-1px 0 0 0 var(--el-input-focus-border-color) inset,0 1px 0 0 var(--el-input-focus-border-color) inset,0 -1px 0 0 var(--el-input-focus-border-color) inset!important}.el-input-group--append .el-input-group__append .el-select:hover .el-input__inner{box-shadow:none!important}.el-input-group--append .el-input-group__append .el-select:hover .el-input__wrapper{z-index:1;box-shadow:-1px 0 0 0 var(--el-input-hover-border-color),-1px 0 0 0 var(--el-input-hover-border-color) inset,0 1px 0 0 var(--el-input-hover-border-color) inset,0 -1px 0 0 var(--el-input-hover-border-color) inset!important}.el-skeleton{--el-skeleton-color:var(--el-fill-color);--el-skeleton-to-color:var(--el-fill-color-darker)}@-webkit-keyframes el-skeleton-loading{0%{background-position:100% 50%}to{background-position:0 50%}}@keyframes el-skeleton-loading{0%{background-position:100% 50%}to{background-position:0 50%}}.el-skeleton{width:100%}.el-skeleton__first-line,.el-skeleton__paragraph{height:16px;margin-top:16px;background:var(--el-skeleton-color)}.el-skeleton.is-animated .el-skeleton__item{background:linear-gradient(90deg,var(--el-skeleton-color) 25%,var(--el-skeleton-to-color) 37%,var(--el-skeleton-color) 63%);background-size:400% 100%;-webkit-animation:el-skeleton-loading 1.4s ease infinite;animation:el-skeleton-loading 1.4s ease infinite}.el-skeleton{--el-skeleton-circle-size:var(--el-avatar-size)}.el-skeleton__item{background:var(--el-skeleton-color);display:inline-block;height:16px;border-radius:var(--el-border-radius-base);width:100%}.el-skeleton__circle{border-radius:50%;width:var(--el-skeleton-circle-size);height:var(--el-skeleton-circle-size);line-height:var(--el-skeleton-circle-size)}.el-skeleton__button{height:40px;width:64px;border-radius:4px}.el-skeleton__p{width:100%}.el-skeleton__p.is-last{width:61%}.el-skeleton__p.is-first{width:33%}.el-skeleton__text{width:100%;height:var(--el-font-size-small)}.el-skeleton__caption{height:var(--el-font-size-extra-small)}.el-skeleton__h1{height:var(--el-font-size-extra-large)}.el-skeleton__h3{height:var(--el-font-size-large)}.el-skeleton__h5{height:var(--el-font-size-medium)}.el-skeleton__image{width:unset;display:flex;align-items:center;justify-content:center;border-radius:0}.el-skeleton__image svg{color:var(--el-svg-monochrome-grey);fill:currentColor;width:22%;height:22%}.ske-item[data-v-cbf91674]{width:100%;margin-bottom:16px}.chat-history[data-v-cbf91674]{position:relative;height:100%}.chat-history .chat-no-data[data-v-cbf91674]{height:calc(100% - 120px);flex-direction:column;display:flex;justify-content:center;align-items:center}.chat-history .chat-history-list[data-v-cbf91674]{position:relative}.chat-history .his-item-wrap[data-v-cbf91674]{min-width:0;width:100%;padding:4px 6px}.chat-history .his-item-wrap .his-item-title[data-v-cbf91674]{display:flex;align-items:center}.chat-history .his-item-wrap .his-item-title .c-icon[data-v-cbf91674]{margin-right:4px}.chat-history .chat-history-item[data-v-cbf91674],.chat-history .chat-history-clear[data-v-cbf91674]{color:var(--color-text-desc);position:relative;opacity:1;display:flex;align-items:center;cursor:pointer;transition:opacity .3s}.chat-history .chat-history-item i[data-v-cbf91674],.chat-history .chat-history-clear i[data-v-cbf91674]{margin-right:10px}.chat-history .chat-history-item[data-v-cbf91674]{color:var(--color-text-primary);font-size:14px;border-radius:8px;margin-bottom:4px;box-sizing:border-box;border:1px solid transparent}.chat-history .chat-history-item[data-v-cbf91674]:hover{background:#fff;box-shadow:0 2px 4px #0000000a;color:var(--color-text-active);border:1px solid #f3f0fe}.chat-history .chat-history-item:hover .chat-history-message[data-v-cbf91674]{font-weight:600}.chat-history .chat-history-item:hover .his-action[data-v-cbf91674]{opacity:1}.chat-history .chat-history-item.selected[data-v-cbf91674]{background:#fff;box-shadow:0 2px 4px #0000000a;border:1px solid #f3f0fe;color:var(--color-text-active)}.chat-history .chat-history-item.selected .chat-history-message[data-v-cbf91674]{font-weight:600}.chat-history .chat-history-item img[data-v-cbf91674]{width:18px;height:18px;margin-right:8px}.chat-history .chat-history-item:hover .icon-delete[data-v-cbf91674]{opacity:1}.chat-history .chat-history-item .chat-history-message[data-v-cbf91674]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:22px;font-weight:400}.chat-history .chat-history-item .his-action[data-v-cbf91674]{display:flex;opacity:0;align-items:center;position:absolute;right:4px;top:0;width:16px;height:100%;z-index:2}.chat-history .chat-history-item .chat-history-ctime[data-v-cbf91674]{line-height:16px;padding-top:4px;color:#999aaa}.chat-history .chat-history-item .c-icon[data-v-cbf91674]{z-index:9}.chat-history .chat-history-item .c-icon svg[data-v-cbf91674]{border-radius:4px;background:#f3f0fe;width:16px;height:16px}.chat-history .chat-history-item .icon-more[data-v-cbf91674]{height:100%;display:flex;align-items:center}.chat-history .chat-history-item .icon-more span[data-v-cbf91674]{line-height:0;border-radius:0;transition:all .2s}.chat-history .chat-history-item .icon-more:hover span[data-v-cbf91674]{border-radius:4px;background:#f2f2f5}.chat-history .edit-input[data-v-cbf91674]{height:22px;line-height:22px}.chat-history .edit-input[data-v-cbf91674] .el-input__wrapper{box-shadow:none;padding:1px 0}.chat-history .edit-input[data-v-cbf91674] .el-input__inner{--el-input-inner-height: 22px;padding-right:0}.chat-history .edit-input[data-v-cbf91674] .el-input__suffix{position:static}.chat-history .chat-history-clear[data-v-cbf91674]{position:absolute;right:8px;top:12px;margin-top:0;font-size:12px;white-space:nowrap}.chat-history .chat-history-clear img[data-v-cbf91674]{width:16px;height:16px;margin-right:9px}.el-popper.his-action-popover{padding:6px 0;border:none;border-radius:8px;background:#fff}.el-popper.his-action-popover.el-popper{min-width:unset}.el-popper.his-action-popover .his-action-popover-content ul{padding:0 10px;box-sizing:border-box}.el-popper.his-action-popover .his-action-popover-content ul li{display:flex;align-items:center;justify-content:center;padding:4px 0;text-align:center;cursor:pointer;transition:all .2s}.el-popper.his-action-popover .his-action-popover-content ul li span{margin-left:8px;color:var(--color-text-primary);font-size:14px;font-weight:400;line-height:22px}.el-popper.his-action-popover .his-action-popover-content ul li+li{border-top:1px solid var(--color-input-border)}.el-popper.his-action-popover .his-action-popover-content ul li:hover span,.el-popper.his-action-popover .his-action-popover-content ul li:hover svg{color:var(--color-text-active)}.el-checkbox{--el-checkbox-font-size:14px;--el-checkbox-font-weight:var(--el-font-weight-primary);--el-checkbox-text-color:var(--el-text-color-regular);--el-checkbox-input-height:14px;--el-checkbox-input-width:14px;--el-checkbox-border-radius:var(--el-border-radius-small);--el-checkbox-bg-color:var(--el-fill-color-blank);--el-checkbox-input-border:var(--el-border);--el-checkbox-disabled-border-color:var(--el-border-color);--el-checkbox-disabled-input-fill:var(--el-fill-color-light);--el-checkbox-disabled-icon-color:var(--el-text-color-placeholder);--el-checkbox-disabled-checked-input-fill:var(--el-border-color-extra-light);--el-checkbox-disabled-checked-input-border-color:var(--el-border-color);--el-checkbox-disabled-checked-icon-color:var(--el-text-color-placeholder);--el-checkbox-checked-text-color:var(--el-color-primary);--el-checkbox-checked-input-border-color:var(--el-color-primary);--el-checkbox-checked-bg-color:var(--el-color-primary);--el-checkbox-checked-icon-color:var(--el-color-white);--el-checkbox-input-border-color-hover:var(--el-color-primary)}.el-checkbox{color:var(--el-checkbox-text-color);font-weight:var(--el-checkbox-font-weight);font-size:var(--el-font-size-base);position:relative;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:30px;height:var(--el-checkbox-height,32px)}.el-checkbox.is-disabled{cursor:not-allowed}.el-checkbox.is-bordered{padding:0 15px 0 9px;border-radius:var(--el-border-radius-base);border:var(--el-border);box-sizing:border-box}.el-checkbox.is-bordered.is-checked{border-color:var(--el-color-primary)}.el-checkbox.is-bordered.is-disabled{border-color:var(--el-border-color-lighter)}.el-checkbox.is-bordered.el-checkbox--large{padding:0 19px 0 11px;border-radius:var(--el-border-radius-base)}.el-checkbox.is-bordered.el-checkbox--large .el-checkbox__label{font-size:var(--el-font-size-base)}.el-checkbox.is-bordered.el-checkbox--large .el-checkbox__inner{height:14px;width:14px}.el-checkbox.is-bordered.el-checkbox--small{padding:0 11px 0 7px;border-radius:calc(var(--el-border-radius-base) - 1px)}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__label{font-size:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner{height:12px;width:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner:after{height:6px;width:2px}.el-checkbox input:focus-visible+.el-checkbox__inner{outline:2px solid var(--el-checkbox-input-border-color-hover);outline-offset:1px;border-radius:var(--el-checkbox-border-radius)}.el-checkbox__input{white-space:nowrap;cursor:pointer;outline:0;display:inline-flex;position:relative}.el-checkbox__input.is-disabled .el-checkbox__inner{background-color:var(--el-checkbox-disabled-input-fill);border-color:var(--el-checkbox-disabled-border-color);cursor:not-allowed}.el-checkbox__input.is-disabled .el-checkbox__inner:after{cursor:not-allowed;border-color:var(--el-checkbox-disabled-icon-color)}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner{background-color:var(--el-checkbox-disabled-checked-input-fill);border-color:var(--el-checkbox-disabled-checked-input-border-color)}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner:after{border-color:var(--el-checkbox-disabled-checked-icon-color)}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner{background-color:var(--el-checkbox-disabled-checked-input-fill);border-color:var(--el-checkbox-disabled-checked-input-border-color)}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner:before{background-color:var(--el-checkbox-disabled-checked-icon-color);border-color:var(--el-checkbox-disabled-checked-icon-color)}.el-checkbox__input.is-disabled+span.el-checkbox__label{color:var(--el-disabled-text-color);cursor:not-allowed}.el-checkbox__input.is-checked .el-checkbox__inner{background-color:var(--el-checkbox-checked-bg-color);border-color:var(--el-checkbox-checked-input-border-color)}.el-checkbox__input.is-checked .el-checkbox__inner:after{transform:rotate(45deg) scaleY(1);border-color:var(--el-checkbox-checked-icon-color)}.el-checkbox__input.is-checked+.el-checkbox__label{color:var(--el-checkbox-checked-text-color)}.el-checkbox__input.is-focus:not(.is-checked) .el-checkbox__original:not(:focus-visible){border-color:var(--el-checkbox-input-border-color-hover)}.el-checkbox__input.is-indeterminate .el-checkbox__inner{background-color:var(--el-checkbox-checked-bg-color);border-color:var(--el-checkbox-checked-input-border-color)}.el-checkbox__input.is-indeterminate .el-checkbox__inner:before{content:"";position:absolute;display:block;background-color:var(--el-checkbox-checked-icon-color);height:2px;transform:scale(.5);left:0;right:0;top:5px}.el-checkbox__input.is-indeterminate .el-checkbox__inner:after{display:none}.el-checkbox__inner{display:inline-block;position:relative;border:var(--el-checkbox-input-border);border-radius:var(--el-checkbox-border-radius);box-sizing:border-box;width:var(--el-checkbox-input-width);height:var(--el-checkbox-input-height);background-color:var(--el-checkbox-bg-color);z-index:var(--el-index-normal);transition:border-color .25s cubic-bezier(.71,-.46,.29,1.46),background-color .25s cubic-bezier(.71,-.46,.29,1.46),outline .25s cubic-bezier(.71,-.46,.29,1.46)}.el-checkbox__inner:hover{border-color:var(--el-checkbox-input-border-color-hover)}.el-checkbox__inner:after{box-sizing:content-box;content:"";border:1px solid transparent;border-left:0;border-top:0;height:7px;left:4px;position:absolute;top:1px;transform:rotate(45deg) scaleY(0);width:3px;transition:transform .15s ease-in 50ms;transform-origin:center}.el-checkbox__original{opacity:0;outline:0;position:absolute;margin:0;width:0;height:0;z-index:-1}.el-checkbox__label{display:inline-block;padding-left:8px;line-height:1;font-size:var(--el-checkbox-font-size)}.el-checkbox.el-checkbox--large{height:40px}.el-checkbox.el-checkbox--large .el-checkbox__label{font-size:14px}.el-checkbox.el-checkbox--large .el-checkbox__inner{width:14px;height:14px}.el-checkbox.el-checkbox--small{height:24px}.el-checkbox.el-checkbox--small .el-checkbox__label{font-size:12px}.el-checkbox.el-checkbox--small .el-checkbox__inner{width:12px;height:12px}.el-checkbox.el-checkbox--small .el-checkbox__input.is-indeterminate .el-checkbox__inner:before{top:4px}.el-checkbox.el-checkbox--small .el-checkbox__inner:after{width:2px;height:6px}.el-checkbox:last-of-type{margin-right:0}.el-row{display:flex;flex-wrap:wrap;position:relative;box-sizing:border-box}.el-row.is-justify-center{justify-content:center}.el-row.is-justify-end{justify-content:flex-end}.el-row.is-justify-space-between{justify-content:space-between}.el-row.is-justify-space-around{justify-content:space-around}.el-row.is-justify-space-evenly{justify-content:space-evenly}.el-row.is-align-top{align-items:flex-start}.el-row.is-align-middle{align-items:center}.el-row.is-align-bottom{align-items:flex-end}[class*=el-col-]{box-sizing:border-box}[class*=el-col-].is-guttered{display:block;min-height:1px}.el-col-0,.el-col-0.is-guttered{display:none}.el-col-0{max-width:0%;flex:0 0 0%}.el-col-offset-0{margin-left:0}.el-col-pull-0{position:relative;right:0}.el-col-push-0{position:relative;left:0}.el-col-1{max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-offset-1{margin-left:4.1666666667%}.el-col-pull-1{position:relative;right:4.1666666667%}.el-col-push-1{position:relative;left:4.1666666667%}.el-col-2{max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-offset-2{margin-left:8.3333333333%}.el-col-pull-2{position:relative;right:8.3333333333%}.el-col-push-2{position:relative;left:8.3333333333%}.el-col-3{max-width:12.5%;flex:0 0 12.5%}.el-col-offset-3{margin-left:12.5%}.el-col-pull-3{position:relative;right:12.5%}.el-col-push-3{position:relative;left:12.5%}.el-col-4{max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-offset-4{margin-left:16.6666666667%}.el-col-pull-4{position:relative;right:16.6666666667%}.el-col-push-4{position:relative;left:16.6666666667%}.el-col-5{max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-offset-5{margin-left:20.8333333333%}.el-col-pull-5{position:relative;right:20.8333333333%}.el-col-push-5{position:relative;left:20.8333333333%}.el-col-6{max-width:25%;flex:0 0 25%}.el-col-offset-6{margin-left:25%}.el-col-pull-6{position:relative;right:25%}.el-col-push-6{position:relative;left:25%}.el-col-7{max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-offset-7{margin-left:29.1666666667%}.el-col-pull-7{position:relative;right:29.1666666667%}.el-col-push-7{position:relative;left:29.1666666667%}.el-col-8{max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-offset-8{margin-left:33.3333333333%}.el-col-pull-8{position:relative;right:33.3333333333%}.el-col-push-8{position:relative;left:33.3333333333%}.el-col-9{max-width:37.5%;flex:0 0 37.5%}.el-col-offset-9{margin-left:37.5%}.el-col-pull-9{position:relative;right:37.5%}.el-col-push-9{position:relative;left:37.5%}.el-col-10{max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-offset-10{margin-left:41.6666666667%}.el-col-pull-10{position:relative;right:41.6666666667%}.el-col-push-10{position:relative;left:41.6666666667%}.el-col-11{max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-offset-11{margin-left:45.8333333333%}.el-col-pull-11{position:relative;right:45.8333333333%}.el-col-push-11{position:relative;left:45.8333333333%}.el-col-12{max-width:50%;flex:0 0 50%}.el-col-offset-12{margin-left:50%}.el-col-pull-12{position:relative;right:50%}.el-col-push-12{position:relative;left:50%}.el-col-13{max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-offset-13{margin-left:54.1666666667%}.el-col-pull-13{position:relative;right:54.1666666667%}.el-col-push-13{position:relative;left:54.1666666667%}.el-col-14{max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-offset-14{margin-left:58.3333333333%}.el-col-pull-14{position:relative;right:58.3333333333%}.el-col-push-14{position:relative;left:58.3333333333%}.el-col-15{max-width:62.5%;flex:0 0 62.5%}.el-col-offset-15{margin-left:62.5%}.el-col-pull-15{position:relative;right:62.5%}.el-col-push-15{position:relative;left:62.5%}.el-col-16{max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-offset-16{margin-left:66.6666666667%}.el-col-pull-16{position:relative;right:66.6666666667%}.el-col-push-16{position:relative;left:66.6666666667%}.el-col-17{max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-offset-17{margin-left:70.8333333333%}.el-col-pull-17{position:relative;right:70.8333333333%}.el-col-push-17{position:relative;left:70.8333333333%}.el-col-18{max-width:75%;flex:0 0 75%}.el-col-offset-18{margin-left:75%}.el-col-pull-18{position:relative;right:75%}.el-col-push-18{position:relative;left:75%}.el-col-19{max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-offset-19{margin-left:79.1666666667%}.el-col-pull-19{position:relative;right:79.1666666667%}.el-col-push-19{position:relative;left:79.1666666667%}.el-col-20{max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-offset-20{margin-left:83.3333333333%}.el-col-pull-20{position:relative;right:83.3333333333%}.el-col-push-20{position:relative;left:83.3333333333%}.el-col-21{max-width:87.5%;flex:0 0 87.5%}.el-col-offset-21{margin-left:87.5%}.el-col-pull-21{position:relative;right:87.5%}.el-col-push-21{position:relative;left:87.5%}.el-col-22{max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-offset-22{margin-left:91.6666666667%}.el-col-pull-22{position:relative;right:91.6666666667%}.el-col-push-22{position:relative;left:91.6666666667%}.el-col-23{max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-offset-23{margin-left:95.8333333333%}.el-col-pull-23{position:relative;right:95.8333333333%}.el-col-push-23{position:relative;left:95.8333333333%}.el-col-24{max-width:100%;flex:0 0 100%}.el-col-offset-24{margin-left:100%}.el-col-pull-24{position:relative;right:100%}.el-col-push-24{position:relative;left:100%}@media only screen and (max-width:768px){.el-col-xs-0,.el-col-xs-0.is-guttered{display:none}.el-col-xs-0{max-width:0%;flex:0 0 0%}.el-col-xs-offset-0{margin-left:0}.el-col-xs-pull-0{position:relative;right:0}.el-col-xs-push-0{position:relative;left:0}.el-col-xs-1{display:block;max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-xs-offset-1{margin-left:4.1666666667%}.el-col-xs-pull-1{position:relative;right:4.1666666667%}.el-col-xs-push-1{position:relative;left:4.1666666667%}.el-col-xs-2{display:block;max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-xs-offset-2{margin-left:8.3333333333%}.el-col-xs-pull-2{position:relative;right:8.3333333333%}.el-col-xs-push-2{position:relative;left:8.3333333333%}.el-col-xs-3{display:block;max-width:12.5%;flex:0 0 12.5%}.el-col-xs-offset-3{margin-left:12.5%}.el-col-xs-pull-3{position:relative;right:12.5%}.el-col-xs-push-3{position:relative;left:12.5%}.el-col-xs-4{display:block;max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-xs-offset-4{margin-left:16.6666666667%}.el-col-xs-pull-4{position:relative;right:16.6666666667%}.el-col-xs-push-4{position:relative;left:16.6666666667%}.el-col-xs-5{display:block;max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-xs-offset-5{margin-left:20.8333333333%}.el-col-xs-pull-5{position:relative;right:20.8333333333%}.el-col-xs-push-5{position:relative;left:20.8333333333%}.el-col-xs-6{display:block;max-width:25%;flex:0 0 25%}.el-col-xs-offset-6{margin-left:25%}.el-col-xs-pull-6{position:relative;right:25%}.el-col-xs-push-6{position:relative;left:25%}.el-col-xs-7{display:block;max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-xs-offset-7{margin-left:29.1666666667%}.el-col-xs-pull-7{position:relative;right:29.1666666667%}.el-col-xs-push-7{position:relative;left:29.1666666667%}.el-col-xs-8{display:block;max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-xs-offset-8{margin-left:33.3333333333%}.el-col-xs-pull-8{position:relative;right:33.3333333333%}.el-col-xs-push-8{position:relative;left:33.3333333333%}.el-col-xs-9{display:block;max-width:37.5%;flex:0 0 37.5%}.el-col-xs-offset-9{margin-left:37.5%}.el-col-xs-pull-9{position:relative;right:37.5%}.el-col-xs-push-9{position:relative;left:37.5%}.el-col-xs-10{display:block;max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-xs-offset-10{margin-left:41.6666666667%}.el-col-xs-pull-10{position:relative;right:41.6666666667%}.el-col-xs-push-10{position:relative;left:41.6666666667%}.el-col-xs-11{display:block;max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-xs-offset-11{margin-left:45.8333333333%}.el-col-xs-pull-11{position:relative;right:45.8333333333%}.el-col-xs-push-11{position:relative;left:45.8333333333%}.el-col-xs-12{display:block;max-width:50%;flex:0 0 50%}.el-col-xs-offset-12{margin-left:50%}.el-col-xs-pull-12{position:relative;right:50%}.el-col-xs-push-12{position:relative;left:50%}.el-col-xs-13{display:block;max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-xs-offset-13{margin-left:54.1666666667%}.el-col-xs-pull-13{position:relative;right:54.1666666667%}.el-col-xs-push-13{position:relative;left:54.1666666667%}.el-col-xs-14{display:block;max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-xs-offset-14{margin-left:58.3333333333%}.el-col-xs-pull-14{position:relative;right:58.3333333333%}.el-col-xs-push-14{position:relative;left:58.3333333333%}.el-col-xs-15{display:block;max-width:62.5%;flex:0 0 62.5%}.el-col-xs-offset-15{margin-left:62.5%}.el-col-xs-pull-15{position:relative;right:62.5%}.el-col-xs-push-15{position:relative;left:62.5%}.el-col-xs-16{display:block;max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-xs-offset-16{margin-left:66.6666666667%}.el-col-xs-pull-16{position:relative;right:66.6666666667%}.el-col-xs-push-16{position:relative;left:66.6666666667%}.el-col-xs-17{display:block;max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-xs-offset-17{margin-left:70.8333333333%}.el-col-xs-pull-17{position:relative;right:70.8333333333%}.el-col-xs-push-17{position:relative;left:70.8333333333%}.el-col-xs-18{display:block;max-width:75%;flex:0 0 75%}.el-col-xs-offset-18{margin-left:75%}.el-col-xs-pull-18{position:relative;right:75%}.el-col-xs-push-18{position:relative;left:75%}.el-col-xs-19{display:block;max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-xs-offset-19{margin-left:79.1666666667%}.el-col-xs-pull-19{position:relative;right:79.1666666667%}.el-col-xs-push-19{position:relative;left:79.1666666667%}.el-col-xs-20{display:block;max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-xs-offset-20{margin-left:83.3333333333%}.el-col-xs-pull-20{position:relative;right:83.3333333333%}.el-col-xs-push-20{position:relative;left:83.3333333333%}.el-col-xs-21{display:block;max-width:87.5%;flex:0 0 87.5%}.el-col-xs-offset-21{margin-left:87.5%}.el-col-xs-pull-21{position:relative;right:87.5%}.el-col-xs-push-21{position:relative;left:87.5%}.el-col-xs-22{display:block;max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-xs-offset-22{margin-left:91.6666666667%}.el-col-xs-pull-22{position:relative;right:91.6666666667%}.el-col-xs-push-22{position:relative;left:91.6666666667%}.el-col-xs-23{display:block;max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-xs-offset-23{margin-left:95.8333333333%}.el-col-xs-pull-23{position:relative;right:95.8333333333%}.el-col-xs-push-23{position:relative;left:95.8333333333%}.el-col-xs-24{display:block;max-width:100%;flex:0 0 100%}.el-col-xs-offset-24{margin-left:100%}.el-col-xs-pull-24{position:relative;right:100%}.el-col-xs-push-24{position:relative;left:100%}}@media only screen and (min-width:768px){.el-col-sm-0,.el-col-sm-0.is-guttered{display:none}.el-col-sm-0{max-width:0%;flex:0 0 0%}.el-col-sm-offset-0{margin-left:0}.el-col-sm-pull-0{position:relative;right:0}.el-col-sm-push-0{position:relative;left:0}.el-col-sm-1{display:block;max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-sm-offset-1{margin-left:4.1666666667%}.el-col-sm-pull-1{position:relative;right:4.1666666667%}.el-col-sm-push-1{position:relative;left:4.1666666667%}.el-col-sm-2{display:block;max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-sm-offset-2{margin-left:8.3333333333%}.el-col-sm-pull-2{position:relative;right:8.3333333333%}.el-col-sm-push-2{position:relative;left:8.3333333333%}.el-col-sm-3{display:block;max-width:12.5%;flex:0 0 12.5%}.el-col-sm-offset-3{margin-left:12.5%}.el-col-sm-pull-3{position:relative;right:12.5%}.el-col-sm-push-3{position:relative;left:12.5%}.el-col-sm-4{display:block;max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-sm-offset-4{margin-left:16.6666666667%}.el-col-sm-pull-4{position:relative;right:16.6666666667%}.el-col-sm-push-4{position:relative;left:16.6666666667%}.el-col-sm-5{display:block;max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-sm-offset-5{margin-left:20.8333333333%}.el-col-sm-pull-5{position:relative;right:20.8333333333%}.el-col-sm-push-5{position:relative;left:20.8333333333%}.el-col-sm-6{display:block;max-width:25%;flex:0 0 25%}.el-col-sm-offset-6{margin-left:25%}.el-col-sm-pull-6{position:relative;right:25%}.el-col-sm-push-6{position:relative;left:25%}.el-col-sm-7{display:block;max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-sm-offset-7{margin-left:29.1666666667%}.el-col-sm-pull-7{position:relative;right:29.1666666667%}.el-col-sm-push-7{position:relative;left:29.1666666667%}.el-col-sm-8{display:block;max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-sm-offset-8{margin-left:33.3333333333%}.el-col-sm-pull-8{position:relative;right:33.3333333333%}.el-col-sm-push-8{position:relative;left:33.3333333333%}.el-col-sm-9{display:block;max-width:37.5%;flex:0 0 37.5%}.el-col-sm-offset-9{margin-left:37.5%}.el-col-sm-pull-9{position:relative;right:37.5%}.el-col-sm-push-9{position:relative;left:37.5%}.el-col-sm-10{display:block;max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-sm-offset-10{margin-left:41.6666666667%}.el-col-sm-pull-10{position:relative;right:41.6666666667%}.el-col-sm-push-10{position:relative;left:41.6666666667%}.el-col-sm-11{display:block;max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-sm-offset-11{margin-left:45.8333333333%}.el-col-sm-pull-11{position:relative;right:45.8333333333%}.el-col-sm-push-11{position:relative;left:45.8333333333%}.el-col-sm-12{display:block;max-width:50%;flex:0 0 50%}.el-col-sm-offset-12{margin-left:50%}.el-col-sm-pull-12{position:relative;right:50%}.el-col-sm-push-12{position:relative;left:50%}.el-col-sm-13{display:block;max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-sm-offset-13{margin-left:54.1666666667%}.el-col-sm-pull-13{position:relative;right:54.1666666667%}.el-col-sm-push-13{position:relative;left:54.1666666667%}.el-col-sm-14{display:block;max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-sm-offset-14{margin-left:58.3333333333%}.el-col-sm-pull-14{position:relative;right:58.3333333333%}.el-col-sm-push-14{position:relative;left:58.3333333333%}.el-col-sm-15{display:block;max-width:62.5%;flex:0 0 62.5%}.el-col-sm-offset-15{margin-left:62.5%}.el-col-sm-pull-15{position:relative;right:62.5%}.el-col-sm-push-15{position:relative;left:62.5%}.el-col-sm-16{display:block;max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-sm-offset-16{margin-left:66.6666666667%}.el-col-sm-pull-16{position:relative;right:66.6666666667%}.el-col-sm-push-16{position:relative;left:66.6666666667%}.el-col-sm-17{display:block;max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-sm-offset-17{margin-left:70.8333333333%}.el-col-sm-pull-17{position:relative;right:70.8333333333%}.el-col-sm-push-17{position:relative;left:70.8333333333%}.el-col-sm-18{display:block;max-width:75%;flex:0 0 75%}.el-col-sm-offset-18{margin-left:75%}.el-col-sm-pull-18{position:relative;right:75%}.el-col-sm-push-18{position:relative;left:75%}.el-col-sm-19{display:block;max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-sm-offset-19{margin-left:79.1666666667%}.el-col-sm-pull-19{position:relative;right:79.1666666667%}.el-col-sm-push-19{position:relative;left:79.1666666667%}.el-col-sm-20{display:block;max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-sm-offset-20{margin-left:83.3333333333%}.el-col-sm-pull-20{position:relative;right:83.3333333333%}.el-col-sm-push-20{position:relative;left:83.3333333333%}.el-col-sm-21{display:block;max-width:87.5%;flex:0 0 87.5%}.el-col-sm-offset-21{margin-left:87.5%}.el-col-sm-pull-21{position:relative;right:87.5%}.el-col-sm-push-21{position:relative;left:87.5%}.el-col-sm-22{display:block;max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-sm-offset-22{margin-left:91.6666666667%}.el-col-sm-pull-22{position:relative;right:91.6666666667%}.el-col-sm-push-22{position:relative;left:91.6666666667%}.el-col-sm-23{display:block;max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-sm-offset-23{margin-left:95.8333333333%}.el-col-sm-pull-23{position:relative;right:95.8333333333%}.el-col-sm-push-23{position:relative;left:95.8333333333%}.el-col-sm-24{display:block;max-width:100%;flex:0 0 100%}.el-col-sm-offset-24{margin-left:100%}.el-col-sm-pull-24{position:relative;right:100%}.el-col-sm-push-24{position:relative;left:100%}}@media only screen and (min-width:992px){.el-col-md-0,.el-col-md-0.is-guttered{display:none}.el-col-md-0{max-width:0%;flex:0 0 0%}.el-col-md-offset-0{margin-left:0}.el-col-md-pull-0{position:relative;right:0}.el-col-md-push-0{position:relative;left:0}.el-col-md-1{display:block;max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-md-offset-1{margin-left:4.1666666667%}.el-col-md-pull-1{position:relative;right:4.1666666667%}.el-col-md-push-1{position:relative;left:4.1666666667%}.el-col-md-2{display:block;max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-md-offset-2{margin-left:8.3333333333%}.el-col-md-pull-2{position:relative;right:8.3333333333%}.el-col-md-push-2{position:relative;left:8.3333333333%}.el-col-md-3{display:block;max-width:12.5%;flex:0 0 12.5%}.el-col-md-offset-3{margin-left:12.5%}.el-col-md-pull-3{position:relative;right:12.5%}.el-col-md-push-3{position:relative;left:12.5%}.el-col-md-4{display:block;max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-md-offset-4{margin-left:16.6666666667%}.el-col-md-pull-4{position:relative;right:16.6666666667%}.el-col-md-push-4{position:relative;left:16.6666666667%}.el-col-md-5{display:block;max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-md-offset-5{margin-left:20.8333333333%}.el-col-md-pull-5{position:relative;right:20.8333333333%}.el-col-md-push-5{position:relative;left:20.8333333333%}.el-col-md-6{display:block;max-width:25%;flex:0 0 25%}.el-col-md-offset-6{margin-left:25%}.el-col-md-pull-6{position:relative;right:25%}.el-col-md-push-6{position:relative;left:25%}.el-col-md-7{display:block;max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-md-offset-7{margin-left:29.1666666667%}.el-col-md-pull-7{position:relative;right:29.1666666667%}.el-col-md-push-7{position:relative;left:29.1666666667%}.el-col-md-8{display:block;max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-md-offset-8{margin-left:33.3333333333%}.el-col-md-pull-8{position:relative;right:33.3333333333%}.el-col-md-push-8{position:relative;left:33.3333333333%}.el-col-md-9{display:block;max-width:37.5%;flex:0 0 37.5%}.el-col-md-offset-9{margin-left:37.5%}.el-col-md-pull-9{position:relative;right:37.5%}.el-col-md-push-9{position:relative;left:37.5%}.el-col-md-10{display:block;max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-md-offset-10{margin-left:41.6666666667%}.el-col-md-pull-10{position:relative;right:41.6666666667%}.el-col-md-push-10{position:relative;left:41.6666666667%}.el-col-md-11{display:block;max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-md-offset-11{margin-left:45.8333333333%}.el-col-md-pull-11{position:relative;right:45.8333333333%}.el-col-md-push-11{position:relative;left:45.8333333333%}.el-col-md-12{display:block;max-width:50%;flex:0 0 50%}.el-col-md-offset-12{margin-left:50%}.el-col-md-pull-12{position:relative;right:50%}.el-col-md-push-12{position:relative;left:50%}.el-col-md-13{display:block;max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-md-offset-13{margin-left:54.1666666667%}.el-col-md-pull-13{position:relative;right:54.1666666667%}.el-col-md-push-13{position:relative;left:54.1666666667%}.el-col-md-14{display:block;max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-md-offset-14{margin-left:58.3333333333%}.el-col-md-pull-14{position:relative;right:58.3333333333%}.el-col-md-push-14{position:relative;left:58.3333333333%}.el-col-md-15{display:block;max-width:62.5%;flex:0 0 62.5%}.el-col-md-offset-15{margin-left:62.5%}.el-col-md-pull-15{position:relative;right:62.5%}.el-col-md-push-15{position:relative;left:62.5%}.el-col-md-16{display:block;max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-md-offset-16{margin-left:66.6666666667%}.el-col-md-pull-16{position:relative;right:66.6666666667%}.el-col-md-push-16{position:relative;left:66.6666666667%}.el-col-md-17{display:block;max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-md-offset-17{margin-left:70.8333333333%}.el-col-md-pull-17{position:relative;right:70.8333333333%}.el-col-md-push-17{position:relative;left:70.8333333333%}.el-col-md-18{display:block;max-width:75%;flex:0 0 75%}.el-col-md-offset-18{margin-left:75%}.el-col-md-pull-18{position:relative;right:75%}.el-col-md-push-18{position:relative;left:75%}.el-col-md-19{display:block;max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-md-offset-19{margin-left:79.1666666667%}.el-col-md-pull-19{position:relative;right:79.1666666667%}.el-col-md-push-19{position:relative;left:79.1666666667%}.el-col-md-20{display:block;max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-md-offset-20{margin-left:83.3333333333%}.el-col-md-pull-20{position:relative;right:83.3333333333%}.el-col-md-push-20{position:relative;left:83.3333333333%}.el-col-md-21{display:block;max-width:87.5%;flex:0 0 87.5%}.el-col-md-offset-21{margin-left:87.5%}.el-col-md-pull-21{position:relative;right:87.5%}.el-col-md-push-21{position:relative;left:87.5%}.el-col-md-22{display:block;max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-md-offset-22{margin-left:91.6666666667%}.el-col-md-pull-22{position:relative;right:91.6666666667%}.el-col-md-push-22{position:relative;left:91.6666666667%}.el-col-md-23{display:block;max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-md-offset-23{margin-left:95.8333333333%}.el-col-md-pull-23{position:relative;right:95.8333333333%}.el-col-md-push-23{position:relative;left:95.8333333333%}.el-col-md-24{display:block;max-width:100%;flex:0 0 100%}.el-col-md-offset-24{margin-left:100%}.el-col-md-pull-24{position:relative;right:100%}.el-col-md-push-24{position:relative;left:100%}}@media only screen and (min-width:1200px){.el-col-lg-0,.el-col-lg-0.is-guttered{display:none}.el-col-lg-0{max-width:0%;flex:0 0 0%}.el-col-lg-offset-0{margin-left:0}.el-col-lg-pull-0{position:relative;right:0}.el-col-lg-push-0{position:relative;left:0}.el-col-lg-1{display:block;max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-lg-offset-1{margin-left:4.1666666667%}.el-col-lg-pull-1{position:relative;right:4.1666666667%}.el-col-lg-push-1{position:relative;left:4.1666666667%}.el-col-lg-2{display:block;max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-lg-offset-2{margin-left:8.3333333333%}.el-col-lg-pull-2{position:relative;right:8.3333333333%}.el-col-lg-push-2{position:relative;left:8.3333333333%}.el-col-lg-3{display:block;max-width:12.5%;flex:0 0 12.5%}.el-col-lg-offset-3{margin-left:12.5%}.el-col-lg-pull-3{position:relative;right:12.5%}.el-col-lg-push-3{position:relative;left:12.5%}.el-col-lg-4{display:block;max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-lg-offset-4{margin-left:16.6666666667%}.el-col-lg-pull-4{position:relative;right:16.6666666667%}.el-col-lg-push-4{position:relative;left:16.6666666667%}.el-col-lg-5{display:block;max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-lg-offset-5{margin-left:20.8333333333%}.el-col-lg-pull-5{position:relative;right:20.8333333333%}.el-col-lg-push-5{position:relative;left:20.8333333333%}.el-col-lg-6{display:block;max-width:25%;flex:0 0 25%}.el-col-lg-offset-6{margin-left:25%}.el-col-lg-pull-6{position:relative;right:25%}.el-col-lg-push-6{position:relative;left:25%}.el-col-lg-7{display:block;max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-lg-offset-7{margin-left:29.1666666667%}.el-col-lg-pull-7{position:relative;right:29.1666666667%}.el-col-lg-push-7{position:relative;left:29.1666666667%}.el-col-lg-8{display:block;max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-lg-offset-8{margin-left:33.3333333333%}.el-col-lg-pull-8{position:relative;right:33.3333333333%}.el-col-lg-push-8{position:relative;left:33.3333333333%}.el-col-lg-9{display:block;max-width:37.5%;flex:0 0 37.5%}.el-col-lg-offset-9{margin-left:37.5%}.el-col-lg-pull-9{position:relative;right:37.5%}.el-col-lg-push-9{position:relative;left:37.5%}.el-col-lg-10{display:block;max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-lg-offset-10{margin-left:41.6666666667%}.el-col-lg-pull-10{position:relative;right:41.6666666667%}.el-col-lg-push-10{position:relative;left:41.6666666667%}.el-col-lg-11{display:block;max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-lg-offset-11{margin-left:45.8333333333%}.el-col-lg-pull-11{position:relative;right:45.8333333333%}.el-col-lg-push-11{position:relative;left:45.8333333333%}.el-col-lg-12{display:block;max-width:50%;flex:0 0 50%}.el-col-lg-offset-12{margin-left:50%}.el-col-lg-pull-12{position:relative;right:50%}.el-col-lg-push-12{position:relative;left:50%}.el-col-lg-13{display:block;max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-lg-offset-13{margin-left:54.1666666667%}.el-col-lg-pull-13{position:relative;right:54.1666666667%}.el-col-lg-push-13{position:relative;left:54.1666666667%}.el-col-lg-14{display:block;max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-lg-offset-14{margin-left:58.3333333333%}.el-col-lg-pull-14{position:relative;right:58.3333333333%}.el-col-lg-push-14{position:relative;left:58.3333333333%}.el-col-lg-15{display:block;max-width:62.5%;flex:0 0 62.5%}.el-col-lg-offset-15{margin-left:62.5%}.el-col-lg-pull-15{position:relative;right:62.5%}.el-col-lg-push-15{position:relative;left:62.5%}.el-col-lg-16{display:block;max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-lg-offset-16{margin-left:66.6666666667%}.el-col-lg-pull-16{position:relative;right:66.6666666667%}.el-col-lg-push-16{position:relative;left:66.6666666667%}.el-col-lg-17{display:block;max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-lg-offset-17{margin-left:70.8333333333%}.el-col-lg-pull-17{position:relative;right:70.8333333333%}.el-col-lg-push-17{position:relative;left:70.8333333333%}.el-col-lg-18{display:block;max-width:75%;flex:0 0 75%}.el-col-lg-offset-18{margin-left:75%}.el-col-lg-pull-18{position:relative;right:75%}.el-col-lg-push-18{position:relative;left:75%}.el-col-lg-19{display:block;max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-lg-offset-19{margin-left:79.1666666667%}.el-col-lg-pull-19{position:relative;right:79.1666666667%}.el-col-lg-push-19{position:relative;left:79.1666666667%}.el-col-lg-20{display:block;max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-lg-offset-20{margin-left:83.3333333333%}.el-col-lg-pull-20{position:relative;right:83.3333333333%}.el-col-lg-push-20{position:relative;left:83.3333333333%}.el-col-lg-21{display:block;max-width:87.5%;flex:0 0 87.5%}.el-col-lg-offset-21{margin-left:87.5%}.el-col-lg-pull-21{position:relative;right:87.5%}.el-col-lg-push-21{position:relative;left:87.5%}.el-col-lg-22{display:block;max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-lg-offset-22{margin-left:91.6666666667%}.el-col-lg-pull-22{position:relative;right:91.6666666667%}.el-col-lg-push-22{position:relative;left:91.6666666667%}.el-col-lg-23{display:block;max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-lg-offset-23{margin-left:95.8333333333%}.el-col-lg-pull-23{position:relative;right:95.8333333333%}.el-col-lg-push-23{position:relative;left:95.8333333333%}.el-col-lg-24{display:block;max-width:100%;flex:0 0 100%}.el-col-lg-offset-24{margin-left:100%}.el-col-lg-pull-24{position:relative;right:100%}.el-col-lg-push-24{position:relative;left:100%}}@media only screen and (min-width:1920px){.el-col-xl-0,.el-col-xl-0.is-guttered{display:none}.el-col-xl-0{max-width:0%;flex:0 0 0%}.el-col-xl-offset-0{margin-left:0}.el-col-xl-pull-0{position:relative;right:0}.el-col-xl-push-0{position:relative;left:0}.el-col-xl-1{display:block;max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-xl-offset-1{margin-left:4.1666666667%}.el-col-xl-pull-1{position:relative;right:4.1666666667%}.el-col-xl-push-1{position:relative;left:4.1666666667%}.el-col-xl-2{display:block;max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-xl-offset-2{margin-left:8.3333333333%}.el-col-xl-pull-2{position:relative;right:8.3333333333%}.el-col-xl-push-2{position:relative;left:8.3333333333%}.el-col-xl-3{display:block;max-width:12.5%;flex:0 0 12.5%}.el-col-xl-offset-3{margin-left:12.5%}.el-col-xl-pull-3{position:relative;right:12.5%}.el-col-xl-push-3{position:relative;left:12.5%}.el-col-xl-4{display:block;max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-xl-offset-4{margin-left:16.6666666667%}.el-col-xl-pull-4{position:relative;right:16.6666666667%}.el-col-xl-push-4{position:relative;left:16.6666666667%}.el-col-xl-5{display:block;max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-xl-offset-5{margin-left:20.8333333333%}.el-col-xl-pull-5{position:relative;right:20.8333333333%}.el-col-xl-push-5{position:relative;left:20.8333333333%}.el-col-xl-6{display:block;max-width:25%;flex:0 0 25%}.el-col-xl-offset-6{margin-left:25%}.el-col-xl-pull-6{position:relative;right:25%}.el-col-xl-push-6{position:relative;left:25%}.el-col-xl-7{display:block;max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-xl-offset-7{margin-left:29.1666666667%}.el-col-xl-pull-7{position:relative;right:29.1666666667%}.el-col-xl-push-7{position:relative;left:29.1666666667%}.el-col-xl-8{display:block;max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-xl-offset-8{margin-left:33.3333333333%}.el-col-xl-pull-8{position:relative;right:33.3333333333%}.el-col-xl-push-8{position:relative;left:33.3333333333%}.el-col-xl-9{display:block;max-width:37.5%;flex:0 0 37.5%}.el-col-xl-offset-9{margin-left:37.5%}.el-col-xl-pull-9{position:relative;right:37.5%}.el-col-xl-push-9{position:relative;left:37.5%}.el-col-xl-10{display:block;max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-xl-offset-10{margin-left:41.6666666667%}.el-col-xl-pull-10{position:relative;right:41.6666666667%}.el-col-xl-push-10{position:relative;left:41.6666666667%}.el-col-xl-11{display:block;max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-xl-offset-11{margin-left:45.8333333333%}.el-col-xl-pull-11{position:relative;right:45.8333333333%}.el-col-xl-push-11{position:relative;left:45.8333333333%}.el-col-xl-12{display:block;max-width:50%;flex:0 0 50%}.el-col-xl-offset-12{margin-left:50%}.el-col-xl-pull-12{position:relative;right:50%}.el-col-xl-push-12{position:relative;left:50%}.el-col-xl-13{display:block;max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-xl-offset-13{margin-left:54.1666666667%}.el-col-xl-pull-13{position:relative;right:54.1666666667%}.el-col-xl-push-13{position:relative;left:54.1666666667%}.el-col-xl-14{display:block;max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-xl-offset-14{margin-left:58.3333333333%}.el-col-xl-pull-14{position:relative;right:58.3333333333%}.el-col-xl-push-14{position:relative;left:58.3333333333%}.el-col-xl-15{display:block;max-width:62.5%;flex:0 0 62.5%}.el-col-xl-offset-15{margin-left:62.5%}.el-col-xl-pull-15{position:relative;right:62.5%}.el-col-xl-push-15{position:relative;left:62.5%}.el-col-xl-16{display:block;max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-xl-offset-16{margin-left:66.6666666667%}.el-col-xl-pull-16{position:relative;right:66.6666666667%}.el-col-xl-push-16{position:relative;left:66.6666666667%}.el-col-xl-17{display:block;max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-xl-offset-17{margin-left:70.8333333333%}.el-col-xl-pull-17{position:relative;right:70.8333333333%}.el-col-xl-push-17{position:relative;left:70.8333333333%}.el-col-xl-18{display:block;max-width:75%;flex:0 0 75%}.el-col-xl-offset-18{margin-left:75%}.el-col-xl-pull-18{position:relative;right:75%}.el-col-xl-push-18{position:relative;left:75%}.el-col-xl-19{display:block;max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-xl-offset-19{margin-left:79.1666666667%}.el-col-xl-pull-19{position:relative;right:79.1666666667%}.el-col-xl-push-19{position:relative;left:79.1666666667%}.el-col-xl-20{display:block;max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-xl-offset-20{margin-left:83.3333333333%}.el-col-xl-pull-20{position:relative;right:83.3333333333%}.el-col-xl-push-20{position:relative;left:83.3333333333%}.el-col-xl-21{display:block;max-width:87.5%;flex:0 0 87.5%}.el-col-xl-offset-21{margin-left:87.5%}.el-col-xl-pull-21{position:relative;right:87.5%}.el-col-xl-push-21{position:relative;left:87.5%}.el-col-xl-22{display:block;max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-xl-offset-22{margin-left:91.6666666667%}.el-col-xl-pull-22{position:relative;right:91.6666666667%}.el-col-xl-push-22{position:relative;left:91.6666666667%}.el-col-xl-23{display:block;max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-xl-offset-23{margin-left:95.8333333333%}.el-col-xl-pull-23{position:relative;right:95.8333333333%}.el-col-xl-push-23{position:relative;left:95.8333333333%}.el-col-xl-24{display:block;max-width:100%;flex:0 0 100%}.el-col-xl-offset-24{margin-left:100%}.el-col-xl-pull-24{position:relative;right:100%}.el-col-xl-push-24{position:relative;left:100%}}.csdn-tree[data-v-48fd8c29]{box-sizing:border-box;padding:0 40px 12px 35px}.csdn-tree .box-title[data-v-48fd8c29]{padding:26px 0 24px;color:#222226;font-family:PingFang SC;font-size:20px;font-weight:600}.csdn-tree .box-item-title[data-v-48fd8c29]{display:flex;align-items:center}.csdn-tree .box-item-title .box-item-name[data-v-48fd8c29]{color:#000;font-family:PingFang SC;font-size:14px;padding-left:4px;cursor:pointer}.csdn-tree .box-item-title .tree-arrow[data-v-48fd8c29]{display:flex;align-items:center;justify-content:center;height:16px;width:16px;margin-left:6px;background-color:#fff;border-radius:16px;cursor:pointer}.csdn-tree .box-item-title .tree-arrow svg[data-v-48fd8c29]{height:12px;width:12px;transform:rotateX(0);transition:transform .3s ease-in-out}.csdn-tree .box-item-title .tree-arrow svg.active[data-v-48fd8c29]{transform:rotateX(180deg)}.csdn-tree .box-item-title .box-item-avater[data-v-48fd8c29]{position:relative;display:inline-flex;width:24px;height:24px;margin-right:14px;z-index:9}.csdn-tree .box-item-title .box-item-avater[data-v-48fd8c29]:after{position:absolute;display:block;left:100%;top:50%;margin-top:-1px;content:" ";border-radius:0 2px 2px 0;height:2px;width:16px;background:linear-gradient(90deg,#6d5ffd80,#59c6f880 63.7%,#52edf600)}.csdn-tree .box-item-children[data-v-48fd8c29]{position:relative;margin-left:11px;padding-left:24px;padding-top:6px;overflow:hidden}.csdn-tree .box-item-children .box-item-main[data-v-48fd8c29]{padding-bottom:46px}.csdn-tree .box-item-children[data-v-48fd8c29]:after{position:absolute;display:block;left:0;top:0;content:" ";border-radius:0 0 2px 2px;height:100%;width:2px;transition:all .7s cubic-bezier(.16,1,.3,1);background:linear-gradient(180deg,#6d5ffd00 1.48%,#6587fb80 28.51%,#59c6f880 55.71%,#52edf600 101.49%)}.csdn-tree .box-item-children.first[data-v-48fd8c29]:after{background:linear-gradient(180deg,#6d5ffd80,#59c6f880 63.7%,#52edf600)}.csdn-tree .box-item-children--item[data-v-48fd8c29]{height:104px;padding:22px 15px 12px;flex-shrink:0;border-radius:8px;background:#fffc;margin-bottom:8px;cursor:pointer}.csdn-tree .box-item-children--item .c-tree-name[data-v-48fd8c29]{display:flex;align-items:center;overflow:hidden}.csdn-tree .box-item-children--item[data-v-48fd8c29]:hover{border-radius:8px;border:1px solid #6d5ffd;background:#fff;box-shadow:-6px -2px 18.2px #7d42f929}.csdn-tree .box-item-children--item:hover .c-tree-name[data-v-48fd8c29]{color:#fff;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(90deg,#a391ff,#7782ff)}.csdn-tree .box-item-children--item:hover .c-arrow-plus[data-v-48fd8c29]{visibility:visible}.csdn-tree .box-item-children--item .c-arrow-plus[data-v-48fd8c29]{width:20px;height:20px;visibility:hidden}.csdn-tree .box-item-children--item .c-tree--title[data-v-48fd8c29]{color:#222226;font-family:PingFang SC;font-size:16px;font-weight:600;display:flex;justify-content:space-between;align-items:center}.csdn-tree .box-item-children--item .c-tree--desc[data-v-48fd8c29]{margin-top:8px;color:#222226;font-family:PingFang SC;font-size:12px;font-style:normal;font-weight:400;line-height:16px}.simple .csdn-tree[data-v-48fd8c29]{padding:0 26px 12px}.simple .csdn-tree .box-title[data-v-48fd8c29]{font-size:14px;padding:13px 0 6px}.simple .box-item-title .box-item-name[data-v-48fd8c29]{font-size:11px}.simple .box-item-title .box-item-avater[data-v-48fd8c29]{width:18px;height:18px}.simple .box-item-title .tree-arrow[data-v-48fd8c29]{width:12px;height:12px}.simple .box-item-title .tree-arrow svg[data-v-48fd8c29]{height:8px;width:8px}.simple .box-item-children[data-v-48fd8c29]{margin-left:8px}.simple .box-item-children .box-item-main[data-v-48fd8c29]{padding-bottom:16px}.simple .box-item-children .box-item-children--item[data-v-48fd8c29]{height:68px;padding:6px 10px;cursor:pointer}.simple .box-item-children .box-item-children--item .c-tree--title[data-v-48fd8c29]{font-size:12px}.simple .box-item-children .box-item-children--item .c-tree--desc[data-v-48fd8c29]{font-size:12px;margin-top:4px}.simple .box-item-children .box-item-children--item .c-arrow-plus[data-v-48fd8c29]{width:14px;height:14px}.dot[data-v-48fd8c29]{display:inline-block;width:4px;height:4px;border-radius:99px;background-color:#999aaa;margin-right:8px}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-keyword,.hljs-formula{color:#c678dd}.hljs-section,.hljs-name,.hljs-selector-tag,.hljs-deletion,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-string,.hljs-regexp,.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string{color:#98c379}.hljs-attr,.hljs-variable,.hljs-template-variable,.hljs-type,.hljs-selector-class,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-number{color:#d19a66}.hljs-symbol,.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-title.class_,.hljs-class .hljs-title{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}.chat-md{box-sizing:border-box}.chat-md :first-child{margin-top:0}.chat-md h1{font-size:2.2em;font-weight:700;line-height:1.1;padding-top:16px;margin-bottom:4px}.chat-md h2,.chat-md h3,.chat-md h4,.chat-md h5,.chat-md h6{line-height:1.5em;margin-top:2.2em;margin-bottom:4px}.chat-md h2{font-size:1.4em;margin:40px 10px 20px 0;padding-left:9px;border-left:6px solid #ff7e79;font-weight:700;line-height:1.4}.chat-md h3{font-weight:700;font-size:1.2em;line-height:1.4;margin:10px 0 5px;padding-top:10px}.chat-md h4{font-weight:700;text-transform:uppercase;font-size:1.1em;line-height:1.4;margin:10px 0 5px;padding-top:10px}.chat-md h5,.chat-md h6{font-size:.9em}.chat-md h5{font-weight:700;text-transform:uppercase}.chat-md h6{font-weight:400;color:#aaa}.chat-md img{width:50%;border-radius:5px;display:block;margin-bottom:15px;height:auto}.chat-md dl,.chat-md ol,.chat-md ul{padding-left:1.5em;line-height:1.8}.chat-md p{margin:0 0 20px;padding:0;line-height:1.5}.chat-md a{color:#f22f27;text-decoration:none}.chat-md a:hover{color:#f55852;text-decoration:underline}.chat-md a:focus{outline-offset:-2px}.chat-md blockquote{font-size:1em;font-style:normal;padding:30px 38px;margin:0 0 15px;position:relative;line-height:1.8;text-indent:0;border:none;color:#888}.chat-md blockquote:before{content:"“";left:12px;top:0;color:#e0e0e0;font-size:4em;font-family:Arial,serif;line-height:1em;font-weight:700;position:absolute}.chat-md blockquote:after{content:"”";right:12px;color:#e0e0e0;font-size:4em;font-family:Arial,serif;line-height:1em;font-weight:700;position:absolute;bottom:-31px}.chat-md strong,.chat-md dfn{font-weight:700}.chat-md em,.chat-md dfn{font-style:italic;font-weight:400}.chat-md del{text-decoration:line-through}.chat-md table{border-collapse:collapse;display:table;width:100%;text-align:left;margin-bottom:24px;margin-left:auto;margin-right:auto}.chat-md table tr{border:0;border-top:1px solid #ddd;background-color:#fff}.chat-md table tr:nth-child(2n){background-color:#f7f7f7}.chat-md table tr th{font-weight:700;background-color:#eff3f5;padding:8px;border:1px solid #ddd}.chat-md table tr th p{font-weight:700}.chat-md table tr td{padding:8px;border:1px solid #ddd}.chat-md figure{margin:1em 0}.chat-md figcaption{font-size:.75em;padding:.5em 2em;margin-bottom:2em}.chat-md figure img{margin-bottom:0}.chat-md hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eee}.chat-md ol p,.chat-md ul p{margin-bottom:0}.chat-md li{margin-bottom:.5em;margin-top:.5em}.chat-md ol#footnotes{font-size:.95em;padding-top:1em;border-top:1px solid #eaeaea;counter-reset:footer-counter;list-style:none;color:#555;padding-left:5%;margin:20px 0}.chat-md ol#footnotes li{margin-bottom:10px;margin-left:16px;font-weight:400;line-height:2;list-style-type:none}.chat-md ol#footnotes li:before{content:counter(footer-counter) ". ";counter-increment:footer-counter;font-weight:800;font-size:.95em}@keyframes highfade{0%{background-color:none}20%{background-color:#ff0}to{background-color:none}}@-webkit-keyframes highfade{0%{background-color:none}20%{background-color:#ff0}to{background-color:none}}.chat-md a:target,.chat-md ol#footnotes li:target,.chat-md sup a:target{animation-name:highfade;animation-duration:2s;animation-iteration-count:1;animation-timing-function:ease-in-out;-webkit-animation-name:highfade;-webkit-animation-duration:2s;-webkit-animation-iteration-count:1;-webkit-animation-timing-function:ease-in-out}.chat-md a:target{border:0;outline:0}.chat-md .hljs{background:#1c1c28;vertical-align:middle}.chat-md li{list-style:inherit}.chat-md ol{list-style:decimal}.chat-md ul{list-style:inherit}.chat-md code:not(.hljs code){color:#c7254e;font-size:90%;background-color:#f9f2f4;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.md_code_container{position:relative;font-size:0;border-radius:8px;margin:10px 0}.md_code_container code{padding:16px 8px;display:block;font-size:15px!important;overflow-y:auto}.md_code_container code::-webkit-scrollbar{width:0}.md_code_container .code-operation{display:flex;align-items:center;justify-content:space-between;height:36px;padding:0 10px;border-bottom:1px solid #666f8d}.md_code_container .code-operation .lang{color:#e8e8f0;line-height:22px;font-size:14px;font-weight:500;font-family:Courier,sans-serif}.md_code_container .chat-btns{position:relative;display:flex;justify-content:flex-end;align-items:center;white-space:initial}.md_code_container .chat_copy_btn{position:relative;display:inline-block;font-size:14px;width:24px;height:24px;padding:0;cursor:pointer;background:url(http://cdn-static-devbit.csdn.net/ai100/chat/imgs/md-copy.png);background-size:contain;z-index:8}.md_code_container .chat_copy_btn.disabled{opacity:.2}.md_code_container .chat_copy_btn.disabled:hover:before{display:none}.md_code_container .chat_copy_btn:before{display:none;content:"复制代码";position:absolute;right:-20px;top:28px;width:58px;padding:4px 8px;color:#fff;background-color:#0009;border-radius:5px;text-align:center}.md_code_container .chat_copy_btn:hover:before{display:block}.md_code_container .chat_run_btn{margin-right:10px;display:inline-block;font-size:14px;width:24px;height:24px;padding:0;cursor:pointer;background:url(https://cdn-static-devbit.csdn.net/ai100/imgs/code-operation-1.png);background-size:contain}.md_code_container .chat_run_btn.disabled{opacity:.2}.md_code_container .chat_run_btn.disabled:hover:before{display:none}.md_code_container .chat_run_btn:before{display:none;content:"运行";position:absolute;right:22px;top:28px;padding:4px 8px;color:#fff;width:28px;background-color:#0009;border-radius:5px;z-index:99;text-align:center}.md_code_container .chat_run_btn:hover:before{display:block}.md_code_container .chat_vscode_btn{margin-right:10px;display:inline-block;font-size:14px;width:24px;height:24px;padding:0;cursor:pointer;background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/codegpt.png);background-size:contain}.md_code_container .chat_vscode_btn.disabled{opacity:.2}.md_code_container .chat_vscode_btn.disabled:hover:before{display:none}.md_code_container .chat_vscode_btn:before{display:none;content:"使用代码插件";position:absolute;right:0;top:28px;padding:4px 8px;color:#fff;width:88px;background-color:#0009;border-radius:5px;z-index:99;text-align:center}.md_code_container .chat_vscode_btn:hover:before{display:block}.chat-feedback[data-v-8ffb91e3]{height:24px;border-radius:4px;display:inline-flex;justify-content:center;align-items:center;margin-left:10px;background-color:#0000000d}.chat-feedback .chat-seach-cm-icon[data-v-8ffb91e3]{cursor:pointer;position:relative;color:var(--color-text-content);font-size:24px;margin-right:8px;width:24px;height:100%;line-height:0;transition:color .2s}.chat-feedback .chat-seach-cm-icon[data-v-8ffb91e3]:hover,.chat-feedback .chat-seach-cm-icon[data-v-8ffb91e3]:active{opacity:.85}.chat-feedback .chat-seach-cm-icon[data-v-8ffb91e3]:last-child{margin-right:0}.chat-feedback .chat-seach-cm-icon.like[data-v-8ffb91e3],.chat-feedback .chat-seach-cm-icon.unlike[data-v-8ffb91e3]{color:#6d5ffd}.references{display:flex;align-items:flex-start;margin-top:10px}.references .reference_title{display:flex;align-items:center;font-size:16px;padding-left:4px;position:relative;color:var(--color-text-primary);padding-top:0;font-size:14px;font-weight:600;column-gap:4px;white-space:nowrap;height:26px}.references .reference_list{padding-left:8px;flex:1;display:flex;align-items:center;flex-wrap:wrap;column-gap:10px;row-gap:10px;line-height:18px;list-style:none}.references .reference_list .reference_item{padding:4px;border-radius:12px;background:#6d5ffd1a;max-width:100%;min-width:0;list-style:none;display:inline-flex;align-items:center;column-gap:4px;margin:0}.references .reference_list .reference_item a{font-size:13px;width:100%;height:100%;color:var(--color-text-content);flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-decoration:none}.references .reference_list .reference_item a:hover{color:var(--color-text-primary)}.references .reference_list .reference_item .certification{display:flex;align-items:center;margin-left:4px}.references .reference_list .reference_item .certification img{width:16px;height:16px;margin-right:2px}.references .reference_list .reference_item .certification img:last-child{margin-right:0}.reference-em{position:relative;height:16px;width:16px;display:inline-block;text-align:center;margin:0 2px;font-family:PingFang SC;font-size:12px;line-height:16px;border-radius:50%;color:#fff;background-color:#555570;font-style:normal!important;vertical-align:text-top}.questions-pro{margin-top:14px;display:flex;font-size:14px;font-weight:400;overflow:hidden;column-gap:10px}.questions-pro .qs-left{display:flex;align-items:center;height:22px}.questions-pro .qs-left img{display:inline}.questions-pro .qs-left .qs-icon{width:16px;height:16px}.questions-pro .qs-left span{margin-left:4px;font-size:14px;color:var(--color-text-empty);line-height:20px;font-weight:400;white-space:nowrap}.questions-pro .qs-left+.q{width:max-content;overflow:visible}.questions-pro .q{color:var(--color-text-desc);display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;background:#fff;cursor:pointer;line-height:20px;padding:1px 10px;border-radius:4px;margin-bottom:10px;position:relative}.questions-pro .q .icon-arrow{position:absolute;top:50%;right:0;transform:translateY(-50%)}.simple .chat-item-markmap{height:290px}.chat-item-markmap{height:370px;overflow:hidden}.chat-item-markmap .c-markmap{width:100%;height:100%}.chat-item-markmap .c-markmap .markmap{display:flex;align-items:center;width:100%;height:100%}.chat-item-markmap_toolbar{position:absolute;top:4px;right:4px}.c-markmap-loading{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;height:356px;color:#555666;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:24px}.c-markmap-loading img{width:48px!important;height:48px!important}.c-markmap-loading .markmap-text{margin-bottom:24px}.c-markmap-error{height:356px;text-align:center;display:flex;align-items:center;justify-content:center;color:#555666;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:24px}.c-markmap-error img{margin-bottom:24px}.c-markmap-error button{width:224px;margin-top:24px}.markmap-dialog-wrap{border-radius:0!important;position:relative;width:auto!important;padding:0!important}.markmap-dialog-wrap .el-dialog__headerbtn{width:16px;height:16px;top:16px;right:16px}.markmap-dialog-wrap .el-dialog__headerbtn .el-dialog__close{color:#222226}.markmap-dialog-wrap .el-dialog__header,.markmap-dialog-wrap .el-dialog__body{padding:0}.markmap-dialog-wrap .markmap-download{position:absolute;bottom:16px;right:16px}.markmap-dialog{width:auto;display:flex;justify-content:center;width:100vw;height:100vh;overflow:auto;background-color:#fff}.chat-login-btn{display:flex;padding:4px 12px;align-items:flex-start;border-radius:16px;background:#6d5ffd;color:#fff;font-family:PingFang SC;font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer}.file-doc{padding:10px;display:flex;background-color:#fff;margin-top:10px;color:#555666;border-radius:4px}.file-doc img{display:inline-block;width:24px;height:24px;margin-right:10px}.chat-item-link .link-info{padding:10px;display:flex;background-color:#fff;margin-top:10px;border-radius:4px;color:#555666;align-items:center;line-height:20px}.chat-item-link .link-info img{display:inline-block;width:24px;height:24px;margin-right:10px}.chat-item-link .link-info span{display:inline-block;word-break:break-all;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chat-item-link .link-info span a{color:#555666}.icon-loading-link[data-v-882eb42b]{width:34px;height:34px;margin:-7px!important}.icon-loading-error[data-v-882eb42b]{width:16px;height:16px}.msg-link-error[data-v-e4757782]{display:flex;align-items:center}.msg-link-error span[data-v-e4757782]{line-height:1}.msg-link-error .icon-error[data-v-e4757782]{width:16px;height:16px;margin-left:4px}.msg-error[data-v-e4757782]{display:flex;align-items:center}.msg-error span[data-v-e4757782]{line-height:1}.msg-error .icon-error[data-v-e4757782]{width:16px;height:16px;margin-left:4px}.msg-action[data-v-67e827fd]{color:var(--color-text-active);font-size:14px;line-height:16px;font-weight:500}.msg-action .controlBtn[data-v-67e827fd]{cursor:pointer}.msg-action .controlBtn svg[data-v-67e827fd]{width:18px;vertical-align:-4px}.msg-left[data-v-a3f6de8d] .md_doc_content{line-height:2px}.msg-left[data-v-a3f6de8d] .md_doc_content code{line-height:20px}.msg-left[data-v-a3f6de8d] .md_doc_content .chat-btns{line-height:25px}.markmap-icon[data-v-a3f6de8d]{height:10px}.global-search-prev[data-v-a3f6de8d]{font-size:15px;color:#222226;font-weight:500;display:flex;align-items:center;margin-bottom:12px;column-gap:4px}.global-search-prev svg[data-v-a3f6de8d]{width:16px;height:16px}.chat-markmap[data-v-a3f6de8d]{position:absolute;right:0;bottom:0;height:20px;border-radius:12px 0;background:linear-gradient(141deg,#e2b1ff 5.23%,#6e60fd 97.15%);color:#fff;font-size:12px;font-weight:500;line-height:16px;padding:0 4px;display:flex;align-items:center;column-gap:2px;cursor:pointer}.chat-tree[data-v-a3f6de8d]{padding:0!important;border-radius:12px!important;background:linear-gradient(180deg,#6d5ffd33,#60bbfd33)!important}.paper{display:inline-flex;align-items:center;height:16px;line-height:16px;margin-right:10px}.paper .paper-main{-webkit-user-select:none;user-select:none;vertical-align:middle;font-size:12px;margin:0 4px;overflow:hidden}.paper .next,.paper .prev{cursor:pointer}.paper svg{display:inline-block;width:16px;height:16px;vertical-align:middle;stroke:#555666}.paper svg.disable{stroke:#999aaa}.vscode-dark svg{stroke:#ccccd8}.vscode-dark svg.disable{stroke:#999aaa}.chat-search_re_feedback{margin-left:10px;color:#555666}.chat-search_re_feedback .re_feedback_inner{display:flex;align-items:center;border-radius:4px;background:#f2f2f5;padding:4px 10px}.chat-search_re_feedback .re_feedback_inner .re_feedback-item{cursor:pointer;padding:0 3px;line-height:0}.chat-search_re_feedback .re_feedback_inner .re_feedback-item:last-child{margin-right:0}.chat-search_re_feedback .re_feedback_inner .re_feedback-item img{-webkit-user-select:none;user-select:none;-webkit-user-drag:none;width:24px;height:24px}:root,:host{--van-black: #000;--van-white: #fff;--van-gray-1: #f7f8fa;--van-gray-2: #f2f3f5;--van-gray-3: #ebedf0;--van-gray-4: #dcdee0;--van-gray-5: #c8c9cc;--van-gray-6: #969799;--van-gray-7: #646566;--van-gray-8: #323233;--van-red: #ee0a24;--van-blue: #1989fa;--van-orange: #ff976a;--van-orange-dark: #ed6a0c;--van-orange-light: #fffbe8;--van-green: #07c160;--van-gradient-red: linear-gradient(to right, #ff6034, #ee0a24);--van-gradient-orange: linear-gradient(to right, #ffd01e, #ff8917);--van-primary-color: var(--van-blue);--van-success-color: var(--van-green);--van-danger-color: var(--van-red);--van-warning-color: var(--van-orange);--van-text-color: var(--van-gray-8);--van-text-color-2: var(--van-gray-6);--van-text-color-3: var(--van-gray-5);--van-active-color: var(--van-gray-2);--van-active-opacity: .6;--van-disabled-opacity: .5;--van-background: var(--van-gray-1);--van-background-2: var(--van-white);--van-background-3: var(--van-white);--van-padding-base: 4px;--van-padding-xs: 8px;--van-padding-sm: 12px;--van-padding-md: 16px;--van-padding-lg: 24px;--van-padding-xl: 32px;--van-font-bold: 600;--van-font-size-xs: 10px;--van-font-size-sm: 12px;--van-font-size-md: 14px;--van-font-size-lg: 16px;--van-line-height-xs: 14px;--van-line-height-sm: 18px;--van-line-height-md: 20px;--van-line-height-lg: 22px;--van-base-font: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Segoe UI, Arial, Roboto, "PingFang SC", "miui", "Hiragino Sans GB", "Microsoft Yahei", sans-serif;--van-price-font: avenir-heavy, "PingFang SC", helvetica neue, arial, sans-serif;--van-duration-base: .3s;--van-duration-fast: .2s;--van-ease-out: ease-out;--van-ease-in: ease-in;--van-border-color: var(--van-gray-3);--van-border-width: 1px;--van-radius-sm: 2px;--van-radius-md: 4px;--van-radius-lg: 8px;--van-radius-max: 999px}.van-theme-dark{--van-text-color: #f5f5f5;--van-text-color-2: #707070;--van-text-color-3: #4d4d4d;--van-border-color: #3a3a3c;--van-active-color: #3a3a3c;--van-background: #000;--van-background-2: #1c1c1e;--van-background-3: #37363b}html{-webkit-tap-highlight-color:transparent}body{margin:0;font-family:var(--van-base-font)}a{text-decoration:none}input,button,textarea{color:inherit;font:inherit}a:focus,input:focus,button:focus,textarea:focus,[class*=van-]:focus{outline:none}ol,ul{margin:0;padding:0;list-style:none}@keyframes van-slide-up-enter{0%{transform:translate3d(0,100%,0)}}@keyframes van-slide-up-leave{to{transform:translate3d(0,100%,0)}}@keyframes van-slide-down-enter{0%{transform:translate3d(0,-100%,0)}}@keyframes van-slide-down-leave{to{transform:translate3d(0,-100%,0)}}@keyframes van-slide-left-enter{0%{transform:translate3d(-100%,0,0)}}@keyframes van-slide-left-leave{to{transform:translate3d(-100%,0,0)}}@keyframes van-slide-right-enter{0%{transform:translate3d(100%,0,0)}}@keyframes van-slide-right-leave{to{transform:translate3d(100%,0,0)}}@keyframes van-fade-in{0%{opacity:0}to{opacity:1}}@keyframes van-fade-out{0%{opacity:1}to{opacity:0}}@keyframes van-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.van-fade-enter-active{animation:var(--van-duration-base) van-fade-in both var(--van-ease-out)}.van-fade-leave-active{animation:var(--van-duration-base) van-fade-out both var(--van-ease-in)}.van-slide-up-enter-active{animation:van-slide-up-enter var(--van-duration-base) both var(--van-ease-out)}.van-slide-up-leave-active{animation:van-slide-up-leave var(--van-duration-base) both var(--van-ease-in)}.van-slide-down-enter-active{animation:van-slide-down-enter var(--van-duration-base) both var(--van-ease-out)}.van-slide-down-leave-active{animation:van-slide-down-leave var(--van-duration-base) both var(--van-ease-in)}.van-slide-left-enter-active{animation:van-slide-left-enter var(--van-duration-base) both var(--van-ease-out)}.van-slide-left-leave-active{animation:van-slide-left-leave var(--van-duration-base) both var(--van-ease-in)}.van-slide-right-enter-active{animation:van-slide-right-enter var(--van-duration-base) both var(--van-ease-out)}.van-slide-right-leave-active{animation:van-slide-right-leave var(--van-duration-base) both var(--van-ease-in)}.van-clearfix:after{display:table;clear:both;content:""}.van-ellipsis{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.van-multi-ellipsis--l2{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;line-break:anywhere;-webkit-box-orient:vertical}.van-multi-ellipsis--l3{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3;line-break:anywhere;-webkit-box-orient:vertical}.van-safe-area-top{padding-top:constant(safe-area-inset-top);padding-top:env(safe-area-inset-top)}.van-safe-area-bottom{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.van-haptics-feedback{cursor:pointer}.van-haptics-feedback:active{opacity:var(--van-active-opacity)}[class*=van-hairline]:after{position:absolute;box-sizing:border-box;content:" ";pointer-events:none;top:-50%;right:-50%;bottom:-50%;left:-50%;border:0 solid var(--van-border-color);transform:scale(.5)}.van-hairline,.van-hairline--top,.van-hairline--left,.van-hairline--right,.van-hairline--bottom,.van-hairline--surround,.van-hairline--top-bottom{position:relative}.van-hairline--top:after{border-top-width:var(--van-border-width)}.van-hairline--left:after{border-left-width:var(--van-border-width)}.van-hairline--right:after{border-right-width:var(--van-border-width)}.van-hairline--bottom:after{border-bottom-width:var(--van-border-width)}.van-hairline--top-bottom:after,.van-hairline-unset--top-bottom:after{border-width:var(--van-border-width) 0}.van-hairline--surround:after{border-width:var(--van-border-width)}:root,:host{--van-swipe-indicator-size: 6px;--van-swipe-indicator-margin: var(--van-padding-sm);--van-swipe-indicator-active-opacity: 1;--van-swipe-indicator-inactive-opacity: .3;--van-swipe-indicator-active-background: var(--van-primary-color);--van-swipe-indicator-inactive-background: var(--van-border-color)}.van-swipe{position:relative;overflow:hidden;transform:translateZ(0);cursor:-webkit-grab;cursor:grab;-webkit-user-select:none;user-select:none}.van-swipe__track{display:flex;height:100%;transition-property:transform}.van-swipe__track--vertical{flex-direction:column}.van-swipe__indicators{position:absolute;bottom:var(--van-swipe-indicator-margin);left:50%;display:flex;transform:translate(-50%)}.van-swipe__indicators--vertical{top:50%;bottom:auto;left:var(--van-swipe-indicator-margin);flex-direction:column;transform:translateY(-50%)}.van-swipe__indicators--vertical .van-swipe__indicator:not(:last-child){margin-bottom:var(--van-swipe-indicator-size)}.van-swipe__indicator{width:var(--van-swipe-indicator-size);height:var(--van-swipe-indicator-size);background-color:var(--van-swipe-indicator-inactive-background);border-radius:100%;opacity:var(--van-swipe-indicator-inactive-opacity);transition:opacity var(--van-duration-fast),background-color var(--van-duration-fast)}.van-swipe__indicator:not(:last-child){margin-right:var(--van-swipe-indicator-size)}.van-swipe__indicator--active{background-color:var(--van-swipe-indicator-active-background);opacity:var(--van-swipe-indicator-active-opacity)}.chat-swipe-pro[data-v-7a06925c]{max-width:100%}.chat-swipe-pro .chat-swipe-content[data-v-7a06925c]{position:relative;border-radius:0 12px 12px}.chat-swipe-pro .chat-swipe-content[data-v-7a06925c] .van-swipe{transition:all .2s;cursor:auto;-webkit-user-select:auto;user-select:auto;position:relative;border-top-right-radius:12px;border-bottom-left-radius:12px;border-bottom-right-radius:12px;background-color:#6d5ffd0d;z-index:1;height:var(--swipe-height);transition-duration:.3s;transition-delay:0;transition-property:height}.chat-swipe-pro .chat-swipe-content[data-v-7a06925c] .van-swipe .swipe-item.mind-item .swipe-item—inner{height:100%}.chat-swipe-pro .chat-swipe-content[data-v-7a06925c]:after{content:"";position:absolute;bottom:-8px;width:calc(100% - 20px);height:8px;left:10px;background:#6d5ffd1a;border-radius:0 0 10px 10px}.chat-swipe-pro .control-view[data-v-7a06925c]{margin-top:10px;display:flex;justify-content:space-between;align-items:center;height:32px}.chat-swipe-pro .control-view.end[data-v-7a06925c]{justify-content:flex-end}.chat-swipe-pro .control-view.start[data-v-7a06925c]{justify-content:flex-start}.chat-swipe-pro .control-view .middle[data-v-7a06925c]{align-items:center;display:flex}.re-issus[data-v-5f078984]{width:100%;text-align:center;-webkit-user-select:none;user-select:none;padding-bottom:30px}.re-issus.block[data-v-5f078984]{margin:auto}.re-issus img[data-v-5f078984]{width:138px;height:153px;-webkit-user-drag:none;margin-bottom:160px}.re-issus-line[data-v-5f078984]{margin-top:24px;display:flex;align-items:center;justify-content:space-between}.re-issus-line .line[data-v-5f078984]{flex:1;display:block;width:100px;height:1px;background:linear-gradient(90deg,#fff0,#ccccd8e6)}.re-issus-line .line[data-v-5f078984]:last-child{transform:rotate(180deg)}.re-issus-line .msg[data-v-5f078984]{margin:0 8px;font-size:12px;color:#999aaa;font-style:normal;font-weight:400;line-height:24px}.re-issus-btn[data-v-5f078984]{cursor:pointer;margin:24px auto 0;width:240px;border:none;display:flex;padding:10px 0;height:32px;color:#fff;justify-content:center;align-items:center;background-color:#6d5ffd;border-radius:20px;transition:all .2s;font-size:12px;font-weight:400;line-height:28px}.re-issus-btn[data-v-5f078984]:active{opacity:.9}:root{--el-loading-spinner-size:42px;--el-loading-fullscreen-spinner-size:50px}.el-loading-parent--relative{position:relative!important}.el-loading-parent--hidden{overflow:hidden!important}.el-loading-mask{position:absolute;z-index:2000;background-color:var(--el-mask-color);margin:0;top:0;right:0;bottom:0;left:0;transition:opacity var(--el-transition-duration)}.el-loading-mask.is-fullscreen{position:fixed}.el-loading-mask.is-fullscreen .el-loading-spinner{margin-top:calc((0px - var(--el-loading-fullscreen-spinner-size))/ 2)}.el-loading-mask.is-fullscreen .el-loading-spinner .circular{height:var(--el-loading-fullscreen-spinner-size);width:var(--el-loading-fullscreen-spinner-size)}.el-loading-spinner{top:50%;margin-top:calc((0px - var(--el-loading-spinner-size))/ 2);width:100%;text-align:center;position:absolute}.el-loading-spinner .el-loading-text{color:var(--el-color-primary);margin:3px 0;font-size:14px}.el-loading-spinner .circular{display:inline;height:var(--el-loading-spinner-size);width:var(--el-loading-spinner-size);-webkit-animation:loading-rotate 2s linear infinite;animation:loading-rotate 2s linear infinite}.el-loading-spinner .path{-webkit-animation:loading-dash 1.5s ease-in-out infinite;animation:loading-dash 1.5s ease-in-out infinite;stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:2;stroke:var(--el-color-primary);stroke-linecap:round}.el-loading-spinner i{color:var(--el-color-primary)}.el-loading-fade-enter-from,.el-loading-fade-leave-to{opacity:0}@-webkit-keyframes loading-rotate{to{transform:rotate(360deg)}}@keyframes loading-rotate{to{transform:rotate(360deg)}}@-webkit-keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}to{stroke-dasharray:90,150;stroke-dashoffset:-120px}}@keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}to{stroke-dasharray:90,150;stroke-dashoffset:-120px}}.el-scrollbar{--el-scrollbar-opacity:.3;--el-scrollbar-bg-color:var(--el-text-color-secondary);--el-scrollbar-hover-opacity:.5;--el-scrollbar-hover-bg-color:var(--el-text-color-secondary)}.el-scrollbar{overflow:hidden;position:relative;height:100%}.el-scrollbar__wrap{overflow:auto;height:100%}.el-scrollbar__wrap--hidden-default{scrollbar-width:none}.el-scrollbar__wrap--hidden-default::-webkit-scrollbar{display:none}.el-scrollbar__thumb{position:relative;display:block;width:0;height:0;cursor:pointer;border-radius:inherit;background-color:var(--el-scrollbar-bg-color,var(--el-text-color-secondary));transition:var(--el-transition-duration) background-color;opacity:var(--el-scrollbar-opacity,.3)}.el-scrollbar__thumb:hover{background-color:var(--el-scrollbar-hover-bg-color,var(--el-text-color-secondary));opacity:var(--el-scrollbar-hover-opacity,.5)}.el-scrollbar__bar{position:absolute;right:2px;bottom:2px;z-index:1;border-radius:4px}.el-scrollbar__bar.is-vertical{width:6px;top:2px}.el-scrollbar__bar.is-vertical>div{width:100%}.el-scrollbar__bar.is-horizontal{height:6px;left:2px}.el-scrollbar__bar.is-horizontal>div{height:100%}.el-scrollbar-fade-enter-active{transition:opacity .34s ease-out}.el-scrollbar-fade-leave-active{transition:opacity .12s ease-out}.el-scrollbar-fade-enter-from,.el-scrollbar-fade-leave-active{opacity:0}.share-chat-item.code-preline[data-v-39eb842a] .md_doc_content .md_code_container code{white-space:pre-wrap}.share-chat-item[data-v-39eb842a] .md_doc_content .reference-em{display:none}.share-chat-item[data-v-39eb842a] .md_doc_content .md_code_container .chat_copy_btn:before{right:-4px}.share-chat-item .file-msg[data-v-39eb842a]{border:1px solid #E8E8F0;display:inline-flex;padding:6px 10px;border-radius:4px;margin-top:6px;align-items:center}.share-chat-item .file-msg img[data-v-39eb842a]{width:24px;margin-right:6px}.share-chat-item .link-msg[data-v-39eb842a]{display:flex;max-width:max-content}.share-chat-item .link-msg img[data-v-39eb842a],.share-chat-item .link-msg span[data-v-39eb842a]:first-child{flex-shrink:0}.share-chat-item .link-msg span[data-v-39eb842a]:last-child{max-width:90%}.share-chat-item .link-msg a[data-v-39eb842a]{color:#1874d2;width:100%;text-overflow:ellipsis;overflow:hidden;word-break:break-all;white-space:nowrap;display:block}.share-chat-item .msg-left[data-v-39eb842a] .md_doc_content{line-height:2px}.share-chat-item .msg-left[data-v-39eb842a] .md_doc_content code{line-height:20px}.share-chat-item .msg-left[data-v-39eb842a] .md_doc_content .chat-btns{line-height:25px}.share-chat-item .markmap-icon[data-v-39eb842a]{height:10px}.share-chat-item .chat-markmap[data-v-39eb842a]{position:absolute;right:0;bottom:0;height:20px;border-radius:12px 0;background:linear-gradient(141deg,#e2b1ff 5.23%,#6e60fd 97.15%);color:#fff;font-size:12px;font-weight:500;line-height:16px;padding:0 4px;display:flex;align-items:center;column-gap:2px;cursor:pointer}.share-preview .share-preview-inner[data-v-a9ad2497]{padding:4px 24px 0}.share-preview .share-preview-inner .share-preview-item[data-v-a9ad2497]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:8px}.share-preview .share-preview-inner .share-preview-item[data-v-a9ad2497]:last-child{margin-bottom:0}.share-preview .share-preview-inner .share-preview-item .user-avatar[data-v-a9ad2497]{border-radius:50%;width:32px;height:32px;font-size:0}.share-preview .share-preview-inner .share-preview-item .user-avatar img[data-v-a9ad2497]{border-radius:50%;width:100%;height:100%}.share-preview .share-preview-inner .share-preview-item .share-preview-item-content[data-v-a9ad2497]{margin-left:8px;flex:1;overflow:hidden;color:#222226;width:100%;box-sizing:border-box;font-size:15px;padding:4px 0}.share-preview .share-preview-inner .share-preview-item .share-preview-item-content[data-v-a9ad2497] .chat-md p{margin:0;white-space:pre-line;line-height:24px}.share-preview .share-empty[data-v-a9ad2497]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:40%}.share-preview .share-empty img[data-v-a9ad2497]{width:120px}.share-preview .share-empty p[data-v-a9ad2497]{margin:0;text-align:center;font-size:14px;color:#999aaa}.share-preview-content_inner[data-v-95fbabac],.export-image-content_inner[data-v-95fbabac]{overflow-y:auto;padding:24px 0 0}.share-preview-content_footer[data-v-95fbabac],.export-image-content_footer[data-v-95fbabac]{padding:4px;height:48px;border-radius:8px;margin:18px 24px 0;background:#6d5ffd0d;display:flex;align-items:center;justify-content:space-between}.share-preview-content_footer span[data-v-95fbabac],.export-image-content_footer span[data-v-95fbabac]{overflow:hidden;color:#999aaa;text-overflow:ellipsis;font-size:16px;font-weight:400;display:block;flex:1;padding-left:10px;word-break:break-all;white-space:nowrap}.share-preview-content_footer button[data-v-95fbabac],.export-image-content_footer button[data-v-95fbabac]{border:none;cursor:pointer;padding:0 16px;margin-left:10px;flex-shrink:0;height:40px;line-height:40px;border-radius:25px;transition:all .2s;font-weight:500;color:#fff;font-size:16px;text-align:center;background-color:#6d5ffd}.share-preview-content_footer button.save[data-v-95fbabac],.export-image-content_footer button.save[data-v-95fbabac]{padding:0 60px;margin:0 auto}.share-preview-content_footer button[data-v-95fbabac]:hover,.export-image-content_footer button[data-v-95fbabac]:hover{opacity:.9}.share-preview-content_footer.btns[data-v-95fbabac],.export-image-content_footer.btns[data-v-95fbabac]{height:40px;background:#0000}.share-export-action[data-v-95fbabac]{position:absolute;bottom:0;left:0;width:100%;padding:40px;z-index:100;display:flex;justify-content:center;align-items:center;background-color:#fff}.share-export-action[data-v-95fbabac]:before{display:block;content:" ";position:absolute;top:-38px;left:-1px;right:-1px;height:38px;pointer-events:none;background:linear-gradient(0deg,#fffc,#fff3 60%,#fff0)}.share-export-action button[data-v-95fbabac]{cursor:pointer;margin-right:32px;width:120px;height:32px;line-height:30px;border-radius:20px;transition:all .2s;font-weight:500;color:#999aaa;background-color:#fff;font-size:12px;text-align:center;border:1px solid #F2F2F5}.share-export-action button[data-v-95fbabac]:hover{background-color:#f2f2f5}.share-export-action button.primary-btn[data-v-95fbabac]{background-color:#6d5ffd;color:#fff}.share-export-action button.primary-btn[data-v-95fbabac]:hover{opacity:.9}.share-export-action button[data-v-95fbabac]:last-child{margin-right:0}.share-export-action button[data-v-95fbabac]:active{opacity:.9}.export-image-dialog{width:80%;max-width:1200px}.share-preview-dialog .el-dialog__header,.export-image-dialog .el-dialog__header{padding:0}.share-preview-dialog .el-dialog__header .el-dialog__headerbtn,.export-image-dialog .el-dialog__header .el-dialog__headerbtn{width:24px;height:24px;top:8px;right:8px;z-index:10}.share-preview-dialog .el-dialog__body,.export-image-dialog .el-dialog__body{padding:0 0 16px}@media screen and (min-width: 769px){.scroll-bar-style:hover::-webkit-scrollbar-thumb,.chat-items:hover::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px #0000001a;background:#f7f7fc}.scroll-bar-style::-webkit-scrollbar,.chat-items::-webkit-scrollbar{width:5px;height:5px}.scroll-bar-style::-webkit-scrollbar-thumb,.chat-items::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 5px #0000;background:#0000}.scroll-bar-style::-webkit-scrollbar-track,.chat-items::-webkit-scrollbar-track{border-radius:10px;background:#0000}}.chat-items{flex:1;overflow-y:auto;height:100%;min-width:0;position:relative;display:flex;flex-direction:column}.chat-items.enable-checkbox{padding-bottom:112px}.chat-items .chat-items-scroll{padding:0 0 60px;max-width:1036px;margin:0 auto;width:100%}.chat-items .record-item{color:var(--color-text-primary);width:100%;box-sizing:border-box;display:flex;justify-content:flex-start;align-items:flex-start;font-size:15px;position:relative}.chat-items .record-item .enable-check-overlay{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:6px;cursor:not-allowed;z-index:10;padding:10px 0;box-sizing:content-box}.chat-items .record-item .chat-item-checkbox{position:absolute;left:-20px;top:0}.chat-items .record-item.left .text .msg{border-radius:0 12px 12px;position:relative;background:#f8f8f8}.chat-items .record-item.right{flex-direction:row-reverse}.chat-items .record-item.right .text{color:#fff;border-radius:12px 0 12px 12px;background:linear-gradient(90deg,#a391ff,#7782ff)}.chat-items .record-item .text{border-radius:4px;position:relative;max-width:100%;height:100%;word-break:break-all}.chat-items .record-item .text .msg{width:100%;height:100%;overflow:auto;padding:10px}.chat-items .record-item .text .chat-item-loading{display:flex;align-items:center}.chat-items .record-item .text .chat-item-loading img{margin-left:4px}.chat-items .record-item .text p{margin:0;white-space:pre-line;line-height:22px}.chat-items .record-item .text p+p,.chat-items .record-item .text p+pre{margin-top:8px}.chat-items .record-item .text .icon-loading{width:20px;height:20px;vertical-align:middle}.chat-items .record-item+.record-item{margin-top:20px}.hots{margin-top:24px}.hots .hots-title{line-height:24px;display:flex;align-items:center;justify-content:space-between;color:var(--color-text-desc)}.hots .hots-title:active{opacity:.8}.hots .hots-title svg,.hots .hots-title span{cursor:pointer;vertical-align:middle}.hots .hots-title a{color:var(--color-text-active)}.hots .hots-title a:hover{color:#3d3ad1;font-weight:600}.hots .icon-refresh{transition:transform .5s linear}.hots .hots-list{margin-top:12px;display:flex;flex-wrap:wrap;justify-content:space-between}.hots .hots-list .hot{margin-bottom:14px;width:calc((100% - 32px) / 3);cursor:pointer}.hots .hots-list .hot .hot-item{padding:12px 10px;border-radius:8px;box-shadow:4px 4px 12px var(--color-box-shadow);color:var(--color-text-content);display:flex;justify-content:space-between;align-items:center}.hots .hots-list .hot .hot-item:hover,.hots .hots-list .hot .hot-item:hover .icon-arrow-right{color:var(--color-text-active)}.hots .hots-list .hot .hot-item .hot-title{flex:1}.simple .hots-list{column-count:3!important}@keyframes dot-scale-dbd31b96{0%,to{width:10px;height:10px}50%{width:6px;height:6px}}.chat-search-loading-icon[data-v-dbd31b96]{width:40px;height:28px;border-radius:8px;position:relative;background:linear-gradient(141deg,#6794f5 16.67%,#9003ff 85%)}.chat-search-loading-icon .dot[data-v-dbd31b96]{background:#fff;border-radius:50%;position:absolute;top:50%;left:50%}.chat-search-loading-icon .dot[data-v-dbd31b96]:first-child{width:10px;height:10px;transform:translate(calc(-50% - 4.5px),-50%);animation:dot-scale-dbd31b96 .9s linear infinite}.chat-search-loading-icon .dot[data-v-dbd31b96]:last-child{width:6px;height:6px;transform:translate(calc(-50% + 4.5px),-50%);animation:dot-scale-dbd31b96 .9s linear infinite;animation-delay:.45s}.sug-container[data-v-3dc1fece]{max-width:890px;padding:0;position:absolute;left:0;bottom:100%;width:100%;z-index:10;margin-top:-10px}.chat-sug[data-v-3dc1fece]{width:100%;box-sizing:border-box;background:transparent;border-radius:16px;box-shadow:0 4px 12px 0 var(--color-box-shadow)}.chat-sug .sug-box[data-v-3dc1fece]{color:var(--color-text-primary);padding:10px 0;width:100%;z-index:1;position:relative;overflow:hidden;background:var(--color-sug-bg);border-radius:8px}.chat-sug .sug-box img[data-v-3dc1fece]{width:16px;vertical-align:-3px;margin-left:4px}.chat-sug .sug-box .icon-arrow[data-v-3dc1fece]{display:none}.chat-sug .sug-box .sug-header[data-v-3dc1fece]{height:32px;display:flex;justify-content:space-between;align-items:center;font-size:14px;padding:0 14px;margin-bottom:4px}.chat-sug .sug-box .sug-header .title[data-v-3dc1fece]{color:#fc5531;flex:1;overflow:hidden}.chat-sug .sug-box .sug-header .-icon-close[data-v-3dc1fece]{cursor:pointer;color:#fc5531}.chat-sug .sug-box .sug-header .change[data-v-3dc1fece]{cursor:pointer}.chat-sug .sug-box p[data-v-3dc1fece]{padding:14px}.chat-sug .sug-box .sug-list .sug-item[data-v-3dc1fece]{display:flex;justify-content:space-between;align-items:center;height:32px;padding:0 14px;cursor:pointer}.chat-sug .sug-box .sug-list .sug-item[data-v-3dc1fece]:hover,.chat-sug .sug-box .sug-list .sug-item.active[data-v-3dc1fece]{background:var(--color-sug-active-bg);color:var(--color-text-active)}.chat-sug .sug-box .sug-list .sug-item:hover .icon-arrow[data-v-3dc1fece],.chat-sug .sug-box .sug-list .sug-item.active .icon-arrow[data-v-3dc1fece]{display:block}.chat-sug .sug-box .sug-list .sug-item span[data-v-3dc1fece]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.directive-card[data-v-f4917e76]{width:334px;height:108px;border-radius:8px;border:1px solid #f2f2f5;padding:24px;box-sizing:border-box;position:relative;overflow:hidden}.directive-card:hover .mask[data-v-f4917e76]{opacity:1}.directive-card .mask[data-v-f4917e76]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0000004d;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transition:opacity .3s;color:#fff;font-size:12px;row-gap:8px;font-weight:500;z-index:9;white-space:nowrap}.directive-card .mask .use-button[data-v-f4917e76]{width:96px;height:36px;line-height:36px;color:#fff;text-align:center;background:#6d5ffd;border-radius:20px;cursor:pointer}.directive-card .mask .use-button.vip[data-v-f4917e76]{background:linear-gradient(140.62deg,#e2b1ff 5.23%,#6e60fd 97.15%)}.directive-card .directive-star[data-v-f4917e76]{width:32px;height:32px;position:absolute;top:0;right:0;z-index:8;background:url("data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_2858_1943)'%3e%3cpath%20d='M10.19%2011.64L11.58%2010.83L14.32%209.25L14.45%209.17C15.33%208.66%2016.67%208.66%2017.55%209.17L17.68%209.25L20.42%2010.83L21.81%2011.63V9.49C21.81%207.24%2020.57%206%2018.32%206H13.67C11.42%206%2010.19%207.24%2010.19%209.49V11.64Z'%20fill='url(%23paint0_linear_2858_1943)'/%3e%3cpath%20d='M9.69%2011.64V12.5101L10.4417%2012.072L11.8298%2011.2631L11.8317%2011.262L14.5698%209.68315L14.576%209.67958L14.5821%209.67583L14.7061%209.5995C15.0551%209.39883%2015.5175%209.2875%2016%209.2875C16.4825%209.2875%2016.9449%209.39883%2017.2939%209.5995L17.418%209.67583L17.424%209.67958L17.4302%209.68315L20.1702%2011.2631L20.1706%2011.2634L21.5606%2012.0634L22.31%2012.4947V11.63V9.49C22.31%208.27557%2021.974%207.25937%2021.2623%206.5477C20.5506%205.83602%2019.5344%205.5%2018.32%205.5H13.67C12.4555%205.5%2011.4413%205.83607%2010.732%206.54845C10.0229%207.26049%209.69%208.27664%209.69%209.49V11.64Z'%20stroke='%23F6E7FF'/%3e%3c/g%3e%3cg%20filter='url(%23filter1_d_2858_1943)'%3e%3cpath%20d='M21.95%2011.71L21.81%2011.63L20.42%2010.83L17.55%209.16998C16.67%208.65998%2015.33%208.65998%2014.45%209.16998L11.58%2010.83L10.19%2011.64L10.01%2011.74C8.22%2012.94%208.1%2013.16%208.1%2015.09V19.7C8.1%2021.63%208.22%2021.85%2010.05%2023.08L14.45%2025.62C14.89%2025.88%2015.44%2026%2016%2026C16.55%2026%2017.11%2025.88%2017.55%2025.62L21.99%2023.05C23.78%2021.85%2023.9%2021.63%2023.9%2019.7V15.09C23.9%2013.16%2023.78%2012.94%2021.95%2011.71Z'%20fill='url(%23paint1_linear_2858_1943)'/%3e%3cpath%20d='M22.2289%2011.295L22.2138%2011.2849L22.1981%2011.2759L22.0594%2011.1966L22.0581%2011.1959L20.6703%2010.3972L20.6694%2010.3966L17.8007%208.73737C17.8006%208.73732%2017.8005%208.73727%2017.8005%208.73722C17.8004%208.7372%2017.8004%208.73718%2017.8003%208.73716C17.27%208.42993%2016.6249%208.28748%2016%208.28748C15.3751%208.28748%2014.73%208.42993%2014.1997%208.73716C14.1996%208.73717%2014.1996%208.73719%2014.1996%208.73721C14.1995%208.73726%2014.1994%208.73732%2014.1993%208.73737L11.3297%2010.3972L11.3297%2010.3972L11.3283%2010.398L9.9427%2011.2054L9.76718%2011.3029L9.74892%2011.313L9.73158%2011.3247C8.86327%2011.9068%208.27244%2012.3255%207.9491%2012.8941C7.61871%2013.4751%207.6%2014.1528%207.6%2015.09V19.7C7.6%2020.6375%207.61861%2021.3162%207.9553%2021.9017C8.28341%2022.4724%208.88314%2022.8981%209.77108%2023.495L9.78524%2023.5045L9.80002%2023.513L14.1956%2026.0504C14.1964%2026.0509%2014.1971%2026.0513%2014.1979%2026.0518C14.733%2026.3673%2015.3757%2026.5%2016%2026.5C16.6136%2026.5%2017.2667%2026.3676%2017.8024%2026.0516C17.803%2026.0512%2017.8037%2026.0508%2017.8044%2026.0504L22.2405%2023.4827L22.2547%2023.4745L22.2684%2023.4653C23.1367%2022.8832%2023.7276%2022.4645%2024.0509%2021.8959C24.3813%2021.3148%2024.4%2020.6372%2024.4%2019.7V15.09C24.4%2014.1524%2024.3814%2013.4738%2024.0447%2012.8882C23.7166%2012.3176%2023.1169%2011.8918%2022.2289%2011.295Z'%20stroke='%23F6E7FF'/%3e%3c/g%3e%3cpath%20d='M18.84%2017.34L18.22%2018.1C18.12%2018.21%2018.05%2018.43%2018.06%2018.58L18.12%2019.56C18.16%2020.16%2017.73%2020.47%2017.17%2020.25L16.26%2019.89C16.12%2019.84%2015.88%2019.84%2015.74%2019.89L14.83%2020.25C14.27%2020.47%2013.84%2020.16%2013.88%2019.56L13.94%2018.58C13.95%2018.43%2013.88%2018.21%2013.78%2018.1L13.16%2017.34C12.77%2016.88%2012.94%2016.37%2013.52%2016.22L14.47%2015.98C14.62%2015.94%2014.8%2015.8%2014.88%2015.67L15.41%2014.85C15.74%2014.34%2016.26%2014.34%2016.59%2014.85L17.12%2015.67C17.2%2015.8%2017.38%2015.94%2017.53%2015.98L18.48%2016.22C19.06%2016.37%2019.23%2016.88%2018.84%2017.34Z'%20fill='white'/%3e%3cdefs%3e%3cfilter%20id='filter0_d_2858_1943'%20x='7.19'%20y='5'%20width='17.62'%20height='12.3801'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='2'/%3e%3cfeGaussianBlur%20stdDeviation='1'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_2858_1943'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_2858_1943'%20result='shape'/%3e%3c/filter%3e%3cfilter%20id='filter1_d_2858_1943'%20x='5.1'%20y='7.78748'%20width='21.8'%20height='23.2125'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='2'/%3e%3cfeGaussianBlur%20stdDeviation='1'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_2858_1943'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_2858_1943'%20result='shape'/%3e%3c/filter%3e%3clinearGradient%20id='paint0_linear_2858_1943'%20x1='5.72788'%20y1='8.31488'%20x2='8.97394'%20y2='16.462'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23E2B1FF'/%3e%3cstop%20offset='1'%20stop-color='%236E60FD'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_2858_1943'%20x1='2.03274'%20y1='15.8522'%20x2='16.3487'%20y2='31.8609'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23E2B1FF'/%3e%3cstop%20offset='1'%20stop-color='%236E60FD'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e") center/cover no-repeat}.directive-card .directive-title[data-v-f4917e76]{font-weight:600;font-size:16px;height:22px;line-height:22px;color:var(--color-text-primary);display:flex;align-items:center;column-gap:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.directive-card .directive-desc[data-v-f4917e76]{display:-webkit-box;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;margin:8px 0 0;color:var(--color-text-desc);font-size:12px}@media screen and (min-width: 769px){.scroll-bar-style[data-v-d9a18ae5]:hover::-webkit-scrollbar-thumb,.directive-input .directive-input-content[data-v-d9a18ae5]:hover::-webkit-scrollbar-thumb,.directive-input[data-v-d9a18ae5]:hover::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px #0000001a;background:#f7f7fc}.scroll-bar-style[data-v-d9a18ae5]::-webkit-scrollbar,.directive-input .directive-input-content[data-v-d9a18ae5]::-webkit-scrollbar,.directive-input[data-v-d9a18ae5]::-webkit-scrollbar{width:5px;height:5px}.scroll-bar-style[data-v-d9a18ae5]::-webkit-scrollbar-thumb,.directive-input .directive-input-content[data-v-d9a18ae5]::-webkit-scrollbar-thumb,.directive-input[data-v-d9a18ae5]::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 5px #0000;background:#0000}.scroll-bar-style[data-v-d9a18ae5]::-webkit-scrollbar-track,.directive-input .directive-input-content[data-v-d9a18ae5]::-webkit-scrollbar-track,.directive-input[data-v-d9a18ae5]::-webkit-scrollbar-track{border-radius:10px;background:#0000}}.ske[data-v-d9a18ae5]{display:flex;gap:16px;height:258px}.ske .ske-item[data-v-d9a18ae5]{flex:1;height:100%}.ske-2[data-v-d9a18ae5]{display:grid;grid-template-columns:repeat(3,33.33%);grid-template-rows:repeat(3,33.33%);grid-row-gap:15px;grid-column-gap:15px}.ske-2 .ske-2-item[data-v-d9a18ae5]{height:108px}.directive-input[data-v-d9a18ae5]{overflow:hidden;background:#fff;position:relative;z-index:2;border-radius:var(--0b01d126)}.directive-input[data-v-d9a18ae5]:after{content:"";position:absolute;width:calc(100% - 20px);height:32px;bottom:0;left:0;background:red;margin:0 10px;border-bottom:1px solid #f2f2f5;background:linear-gradient(to bottom,#fff0,#fff)}.directive-input .directive-input-content[data-v-d9a18ae5]{position:relative;margin:0 auto;overflow-x:hidden;overflow-y:auto;height:var(--3fbe2dfa);padding:10px 4px 10px 8px;box-sizing:border-box}.directive-input .directive-input-content .roles[data-v-d9a18ae5]{height:306px}.directive-input .directive-input-content .roles:hover .arrow[data-v-d9a18ae5]{opacity:1}.directive-input .directive-input-content .roles+.title[data-v-d9a18ae5]{margin-top:24px}.directive-input .title[data-v-d9a18ae5]{font-size:16px;font-weight:600;height:40px;line-height:40px;color:var(--color-text-primary);margin-bottom:8px;padding-left:12px;box-sizing:border-box}.directive-input .arrow[data-v-d9a18ae5]{position:absolute;top:182px;z-index:99;width:32px;height:32px;cursor:pointer;color:#f2f2f5;opacity:0;transition:opacity .3s}.directive-input .arrow.l[data-v-d9a18ae5]{left:8px}.directive-input .arrow.r[data-v-d9a18ae5]{right:8px}.directive-input .arrow.disabled[data-v-d9a18ae5]{cursor:not-allowed;color:#f2f2f566}.directive-input .scroll-wrapper[data-v-d9a18ae5]{width:100%;overflow:hidden;position:relative}.directive-input .role-list[data-v-d9a18ae5]{display:flex;justify-content:space-between;width:max-content;column-gap:16px}.directive-input .directive-list[data-v-d9a18ae5]{display:flex;flex-wrap:wrap;gap:6px;justify-content:flex-start}.directive-input .directive-list .directive-card[data-v-d9a18ae5]{width:calc((100% - 12px) / 3);padding:10px;height:unset}.el-upload{--el-upload-dragger-padding-horizontal:40px;--el-upload-dragger-padding-vertical:10px}.el-upload{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;outline:0}.el-upload__input{display:none}.el-upload__tip{font-size:12px;color:var(--el-text-color-regular);margin-top:7px}.el-upload iframe{position:absolute;z-index:-1;top:0;left:0;opacity:0}.el-upload--picture-card{--el-upload-picture-card-size:148px;background-color:var(--el-fill-color-lighter);border:1px dashed var(--el-border-color-darker);border-radius:6px;box-sizing:border-box;width:var(--el-upload-picture-card-size);height:var(--el-upload-picture-card-size);cursor:pointer;vertical-align:top;display:inline-flex;justify-content:center;align-items:center}.el-upload--picture-card>i{font-size:28px;color:var(--el-text-color-secondary)}.el-upload--picture-card:hover{border-color:var(--el-color-primary);color:var(--el-color-primary)}.el-upload.is-drag{display:block}.el-upload:focus{border-color:var(--el-color-primary);color:var(--el-color-primary)}.el-upload:focus .el-upload-dragger{border-color:var(--el-color-primary)}.el-upload-dragger{padding:var(--el-upload-dragger-padding-horizontal) var(--el-upload-dragger-padding-vertical);background-color:var(--el-fill-color-blank);border:1px dashed var(--el-border-color);border-radius:6px;box-sizing:border-box;text-align:center;cursor:pointer;position:relative;overflow:hidden}.el-upload-dragger .el-icon--upload{font-size:67px;color:var(--el-text-color-placeholder);margin-bottom:16px;line-height:50px}.el-upload-dragger+.el-upload__tip{text-align:center}.el-upload-dragger~.el-upload__files{border-top:var(--el-border);margin-top:7px;padding-top:5px}.el-upload-dragger .el-upload__text{color:var(--el-text-color-regular);font-size:14px;text-align:center}.el-upload-dragger .el-upload__text em{color:var(--el-color-primary);font-style:normal}.el-upload-dragger:hover{border-color:var(--el-color-primary)}.el-upload-dragger.is-dragover{padding:calc(var(--el-upload-dragger-padding-horizontal) - 1px) calc(var(--el-upload-dragger-padding-vertical) - 1px);background-color:var(--el-color-primary-light-9);border:2px dashed var(--el-color-primary)}.el-upload-list{margin:10px 0 0;padding:0;list-style:none;position:relative}.el-upload-list__item{transition:all .5s cubic-bezier(.55,0,.1,1);font-size:14px;color:var(--el-text-color-regular);margin-bottom:5px;position:relative;box-sizing:border-box;border-radius:4px;width:100%}.el-upload-list__item .el-progress{position:absolute;top:20px;width:100%}.el-upload-list__item .el-progress__text{position:absolute;right:0;top:-13px}.el-upload-list__item .el-progress-bar{margin-right:0;padding-right:0}.el-upload-list__item .el-icon--upload-success{color:var(--el-color-success)}.el-upload-list__item .el-icon--close{display:none;position:absolute;right:5px;top:50%;cursor:pointer;opacity:.75;color:var(--el-text-color-regular);transition:opacity var(--el-transition-duration);transform:translateY(-50%)}.el-upload-list__item .el-icon--close:hover{opacity:1;color:var(--el-color-primary)}.el-upload-list__item .el-icon--close-tip{display:none;position:absolute;top:1px;right:5px;font-size:12px;cursor:pointer;opacity:1;color:var(--el-color-primary);font-style:normal}.el-upload-list__item:hover{background-color:var(--el-fill-color-light)}.el-upload-list__item:hover .el-icon--close{display:inline-flex}.el-upload-list__item:hover .el-progress__text{display:none}.el-upload-list__item .el-upload-list__item-info{display:inline-flex;justify-content:center;flex-direction:column;width:calc(100% - 30px);margin-left:4px}.el-upload-list__item.is-success .el-upload-list__item-status-label{display:inline-flex}.el-upload-list__item.is-success .el-upload-list__item-name:focus,.el-upload-list__item.is-success .el-upload-list__item-name:hover{color:var(--el-color-primary);cursor:pointer}.el-upload-list__item.is-success:focus:not(:hover) .el-icon--close-tip{display:inline-block}.el-upload-list__item.is-success:active,.el-upload-list__item.is-success:not(.focusing):focus{outline-width:0}.el-upload-list__item.is-success:active .el-icon--close-tip,.el-upload-list__item.is-success:not(.focusing):focus .el-icon--close-tip{display:none}.el-upload-list__item.is-success:focus .el-upload-list__item-status-label,.el-upload-list__item.is-success:hover .el-upload-list__item-status-label{display:none;opacity:0}.el-upload-list__item-name{color:var(--el-text-color-regular);display:inline-flex;text-align:center;align-items:center;padding:0 4px;transition:color var(--el-transition-duration);font-size:var(--el-font-size-base)}.el-upload-list__item-name .el-icon{margin-right:6px;color:var(--el-text-color-secondary)}.el-upload-list__item-file-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-upload-list__item-status-label{position:absolute;right:5px;top:0;line-height:inherit;display:none;height:100%;justify-content:center;align-items:center;transition:opacity var(--el-transition-duration)}.el-upload-list__item-delete{position:absolute;right:10px;top:0;font-size:12px;color:var(--el-text-color-regular);display:none}.el-upload-list__item-delete:hover{color:var(--el-color-primary)}.el-upload-list--picture-card{--el-upload-list-picture-card-size:148px;display:inline-flex;flex-wrap:wrap;margin:0}.el-upload-list--picture-card .el-upload-list__item{overflow:hidden;background-color:var(--el-fill-color-blank);border:1px solid var(--el-border-color);border-radius:6px;box-sizing:border-box;width:var(--el-upload-list-picture-card-size);height:var(--el-upload-list-picture-card-size);margin:0 8px 8px 0;padding:0;display:inline-flex}.el-upload-list--picture-card .el-upload-list__item .el-icon--check,.el-upload-list--picture-card .el-upload-list__item .el-icon--circle-check{color:#fff}.el-upload-list--picture-card .el-upload-list__item .el-icon--close{display:none}.el-upload-list--picture-card .el-upload-list__item:hover .el-upload-list__item-status-label{opacity:0;display:block}.el-upload-list--picture-card .el-upload-list__item:hover .el-progress__text{display:block}.el-upload-list--picture-card .el-upload-list__item .el-upload-list__item-name{display:none}.el-upload-list--picture-card .el-upload-list__item-thumbnail{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.el-upload-list--picture-card .el-upload-list__item-status-label{right:-15px;top:-6px;width:40px;height:24px;background:var(--el-color-success);text-align:center;transform:rotate(45deg)}.el-upload-list--picture-card .el-upload-list__item-status-label i{font-size:12px;margin-top:11px;transform:rotate(-45deg)}.el-upload-list--picture-card .el-upload-list__item-actions{position:absolute;width:100%;height:100%;left:0;top:0;cursor:default;display:inline-flex;justify-content:center;align-items:center;color:#fff;opacity:0;font-size:20px;background-color:var(--el-overlay-color-lighter);transition:opacity var(--el-transition-duration)}.el-upload-list--picture-card .el-upload-list__item-actions span{display:none;cursor:pointer}.el-upload-list--picture-card .el-upload-list__item-actions span+span{margin-left:1rem}.el-upload-list--picture-card .el-upload-list__item-actions .el-upload-list__item-delete{position:static;font-size:inherit;color:inherit}.el-upload-list--picture-card .el-upload-list__item-actions:hover{opacity:1}.el-upload-list--picture-card .el-upload-list__item-actions:hover span{display:inline-flex}.el-upload-list--picture-card .el-progress{top:50%;left:50%;transform:translate(-50%,-50%);bottom:auto;width:126px}.el-upload-list--picture-card .el-progress .el-progress__text{top:50%}.el-upload-list--picture .el-upload-list__item{overflow:hidden;z-index:0;background-color:var(--el-fill-color-blank);border:1px solid var(--el-border-color);border-radius:6px;box-sizing:border-box;margin-top:10px;padding:10px;display:flex;align-items:center}.el-upload-list--picture .el-upload-list__item .el-icon--check,.el-upload-list--picture .el-upload-list__item .el-icon--circle-check{color:#fff}.el-upload-list--picture .el-upload-list__item:hover .el-upload-list__item-status-label{opacity:0;display:inline-flex}.el-upload-list--picture .el-upload-list__item:hover .el-progress__text{display:block}.el-upload-list--picture .el-upload-list__item.is-success .el-upload-list__item-name i{display:none}.el-upload-list--picture .el-upload-list__item .el-icon--close{top:5px;transform:translateY(0)}.el-upload-list--picture .el-upload-list__item-thumbnail{display:inline-flex;justify-content:center;align-items:center;width:70px;height:70px;-o-object-fit:contain;object-fit:contain;position:relative;z-index:1;background-color:var(--el-color-white)}.el-upload-list--picture .el-upload-list__item-status-label{position:absolute;right:-17px;top:-7px;width:46px;height:26px;background:var(--el-color-success);text-align:center;transform:rotate(45deg)}.el-upload-list--picture .el-upload-list__item-status-label i{font-size:12px;margin-top:12px;transform:rotate(-45deg)}.el-upload-list--picture .el-progress{position:relative;top:-7px}.el-upload-cover{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden;z-index:10;cursor:default}.el-upload-cover:after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-upload-cover img{display:block;width:100%;height:100%}.el-upload-cover__label{right:-15px;top:-6px;width:40px;height:24px;background:var(--el-color-success);text-align:center;transform:rotate(45deg)}.el-upload-cover__label i{font-size:12px;margin-top:11px;transform:rotate(-45deg);color:#fff}.el-upload-cover__progress{display:inline-block;vertical-align:middle;position:static;width:243px}.el-upload-cover__progress+.el-upload__inner{opacity:0}.el-upload-cover__content{position:absolute;top:0;left:0;width:100%;height:100%}.el-upload-cover__interact{position:absolute;bottom:0;left:0;width:100%;height:100%;background-color:var(--el-overlay-color-light);text-align:center}.el-upload-cover__interact .btn{display:inline-block;color:#fff;font-size:14px;cursor:pointer;vertical-align:middle;transition:var(--el-transition-md-fade);margin-top:60px}.el-upload-cover__interact .btn i{margin-top:0}.el-upload-cover__interact .btn span{opacity:0;transition:opacity .15s linear}.el-upload-cover__interact .btn:not(:first-child){margin-left:35px}.el-upload-cover__interact .btn:hover{transform:translateY(-13px)}.el-upload-cover__interact .btn:hover span{opacity:1}.el-upload-cover__interact .btn i{color:#fff;display:block;font-size:24px;line-height:inherit;margin:0 auto 5px}.el-upload-cover__title{position:absolute;bottom:0;left:0;background-color:#fff;height:36px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400;text-align:left;padding:0 10px;margin:0;line-height:36px;font-size:14px;color:var(--el-text-color-primary)}.el-upload-cover+.el-upload__inner{opacity:0;position:relative;z-index:1}.el-progress{position:relative;line-height:1;display:flex;align-items:center}.el-progress__text{font-size:14px;color:var(--el-text-color-regular);margin-left:5px;min-width:50px;line-height:1}.el-progress__text i{vertical-align:middle;display:block}.el-progress--circle,.el-progress--dashboard{display:inline-block}.el-progress--circle .el-progress__text,.el-progress--dashboard .el-progress__text{position:absolute;top:50%;left:0;width:100%;text-align:center;margin:0;transform:translateY(-50%)}.el-progress--circle .el-progress__text i,.el-progress--dashboard .el-progress__text i{vertical-align:middle;display:inline-block}.el-progress--without-text .el-progress__text{display:none}.el-progress--without-text .el-progress-bar{padding-right:0;margin-right:0;display:block}.el-progress--text-inside .el-progress-bar{padding-right:0;margin-right:0}.el-progress.is-success .el-progress-bar__inner{background-color:var(--el-color-success)}.el-progress.is-success .el-progress__text{color:var(--el-color-success)}.el-progress.is-warning .el-progress-bar__inner{background-color:var(--el-color-warning)}.el-progress.is-warning .el-progress__text{color:var(--el-color-warning)}.el-progress.is-exception .el-progress-bar__inner{background-color:var(--el-color-danger)}.el-progress.is-exception .el-progress__text{color:var(--el-color-danger)}.el-progress-bar{flex-grow:1;box-sizing:border-box}.el-progress-bar__outer{height:6px;border-radius:100px;background-color:var(--el-border-color-lighter);overflow:hidden;position:relative;vertical-align:middle}.el-progress-bar__inner{position:absolute;left:0;top:0;height:100%;background-color:var(--el-color-primary);text-align:right;border-radius:100px;line-height:1;white-space:nowrap;transition:width .6s ease}.el-progress-bar__inner:after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-progress-bar__inner--indeterminate{transform:translateZ(0);-webkit-animation:indeterminate 3s infinite;animation:indeterminate 3s infinite}.el-progress-bar__inner--striped{background-image:linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 25%,transparent 50%,rgba(0,0,0,.1) 50%,rgba(0,0,0,.1) 75%,transparent 75%,transparent);background-size:1.25em 1.25em}.el-progress-bar__inner--striped.el-progress-bar__inner--striped-flow{-webkit-animation:striped-flow 3s linear infinite;animation:striped-flow 3s linear infinite}.el-progress-bar__innerText{display:inline-block;vertical-align:middle;color:#fff;font-size:12px;margin:0 5px}@-webkit-keyframes progress{0%{background-position:0 0}to{background-position:32px 0}}@keyframes progress{0%{background-position:0 0}to{background-position:32px 0}}@-webkit-keyframes indeterminate{0%{left:-100%}to{left:100%}}@keyframes indeterminate{0%{left:-100%}to{left:100%}}@-webkit-keyframes striped-flow{0%{background-position:-100%}to{background-position:100%}}@keyframes striped-flow{0%{background-position:-100%}to{background-position:100%}}.chat-doc-upload-form{margin-top:24px;border:none}.chat-doc-upload-form .chat-doc-upload-form_inner{position:relative}.chat-doc-upload-form .chat-doc-upload-form_inner .is-drag{height:240px}.chat-doc-upload-form .chat-doc-upload-form_inner .is-drag .el-upload-dragger{width:100%;display:flex;align-items:center;justify-content:center;padding:16px;height:100%;border-radius:8px;transition:all .2s;background:linear-gradient(#fff,#fff) padding-box,repeating-linear-gradient(-45deg,#ccccd8 0,#ccccd8 4px,#fff 0,#fff 7px)}.chat-doc-upload-form .chat-doc-upload-form_inner .chat-doc-upload_empty-file .chat-doc-upload__icon{width:48px;margin-bottom:8px}.chat-doc-upload-form .chat-doc-upload-form_inner .chat-doc-upload_empty-file .chat-doc-upload__text{font-size:14px;font-weight:500;color:#222226;line-height:22px}.chat-doc-upload-form .chat-doc-upload-form_inner .chat-doc-upload_empty-file .chat-doc-upload__text em{color:#277ccc;font-style:normal}.chat-doc-upload-form .chat-doc-upload-form_inner .chat-doc-upload_empty-file .chat-doc-upload__text.disabled{cursor:default}.chat-doc-upload-form .chat-doc-upload-form_inner .chat-doc-upload-file img{width:48px;height:48px}.chat-doc-upload-form .chat-doc-upload-form_inner .chat-doc-upload-file .chat-doc-upload__mtext{font-size:14px;font-weight:500;color:#222226;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:368px;text-align:center;margin:8px auto 0}.chat-doc-upload-form .chat-doc-upload-form_inner .chat-doc-upload-file .chat-doc-upload__text{margin:4px 0 0;font-size:12px;font-weight:400;color:#999aaa}.chat-doc-upload-form .chat-doc-upload-form_inner .chat-doc-upload-file .chat-doc-upload__text em{color:#277ccc;font-style:normal}.chat-doc-upload-form .chat-doc-upload-form_inner .chat-doc-upload-file .chat-doc-upload__mini-btn{margin:8px auto 0;height:24px;background:#fff;border-radius:12px;border:1px solid #ccccd8;padding:0 10px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#222226;line-height:24px;vertical-align:middle;display:flex;align-items:center;width:115px;justify-content:center;box-sizing:border-box;overflow:hidden;transition:all .2s}.chat-doc-upload-form .chat-doc-upload-form_inner .chat-doc-upload-file .chat-doc-upload__mini-btn:hover{border-color:#999aaa;background:#fff;color:#555666}.chat-doc-upload-form .chat-doc-upload_progress{box-sizing:border-box;width:100%;height:56px}.chat-doc-upload-form .chat-doc-upload__tip{margin-top:8px;text-align:center;font-size:12px;font-weight:500;color:#8f90a6}.chat-doc-upload .chat-doc-upload-inner[data-v-3c1ced34]{position:relative}.chat-doc-upload .chat-doc-upload-inner .error-text[data-v-3c1ced34]{position:absolute;bottom:-30px;margin:0;font-size:12px;font-weight:400;color:#fc1944;line-height:20px}.chat-doc-upload .footer-btns .chat-doc-button[data-v-3c1ced34]{height:40px;border-radius:20px;padding:0 24px}.input-optimize[data-v-422c47d2]{background:#fff;position:absolute;bottom:10px;right:62px;z-index:2;box-sizing:border-box;display:flex;border-radius:0;justify-content:space-between}.input-optimize .footer-tools[data-v-422c47d2]{display:flex;align-items:center}.input-optimize .footer-tab[data-v-422c47d2]:hover,.input-optimize .footer-tab.active[data-v-422c47d2]{background:#6d5ffd1a;color:#6d5ffd}.input-optimize .footer-tab.active[data-v-422c47d2]{pointer-events:none}.input-optimize .footer-tab svg[data-v-422c47d2]{width:20px;height:20px;outline:none}.input-optimize .footer-btn[data-v-422c47d2]{padding:0 14px;height:28px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;border-radius:8px;overflow:hidden;background:#f3f0fe;column-gap:4px;color:var(--color-text-active);cursor:pointer}.input-optimize .footer-btn img[data-v-422c47d2]{width:20px}.input-optimize .footer-btn svg[data-v-422c47d2]{width:18px;height:18px}.input-optimize .footer-btn .arrow-left[data-v-422c47d2]{transform:translateY(4px)}.el-switch{--el-switch-on-color:var(--el-color-primary);--el-switch-off-color:var(--el-border-color)}.el-switch{display:inline-flex;align-items:center;position:relative;font-size:14px;line-height:20px;height:32px;vertical-align:middle}.el-switch.is-disabled .el-switch__core,.el-switch.is-disabled .el-switch__label{cursor:not-allowed}.el-switch__label{transition:var(--el-transition-duration-fast);height:20px;display:inline-block;font-size:14px;font-weight:500;cursor:pointer;vertical-align:middle;color:var(--el-text-color-primary)}.el-switch__label.is-active{color:var(--el-color-primary)}.el-switch__label--left{margin-right:10px}.el-switch__label--right{margin-left:10px}.el-switch__label *{line-height:1;font-size:14px;display:inline-block}.el-switch__label .el-icon{height:inherit}.el-switch__label .el-icon svg{vertical-align:middle}.el-switch__input{position:absolute;width:0;height:0;opacity:0;margin:0}.el-switch__input:focus-visible~.el-switch__core{outline:2px solid var(--el-switch-on-color);outline-offset:1px}.el-switch__core{display:inline-flex;position:relative;align-items:center;min-width:40px;height:20px;border:1px solid var(--el-switch-border-color,var(--el-switch-off-color));outline:0;border-radius:10px;box-sizing:border-box;background:var(--el-switch-off-color);cursor:pointer;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration)}.el-switch__core .el-switch__inner{width:100%;transition:all var(--el-transition-duration);height:16px;display:flex;justify-content:center;align-items:center;overflow:hidden;padding:0 4px 0 18px}.el-switch__core .el-switch__inner .is-icon,.el-switch__core .el-switch__inner .is-text{font-size:12px;color:var(--el-color-white);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-switch__core .el-switch__action{position:absolute;left:1px;border-radius:var(--el-border-radius-circle);transition:all var(--el-transition-duration);width:16px;height:16px;background-color:var(--el-color-white);display:flex;justify-content:center;align-items:center;color:var(--el-switch-off-color)}.el-switch.is-checked .el-switch__core{border-color:var(--el-switch-border-color,var(--el-switch-on-color));background-color:var(--el-switch-on-color)}.el-switch.is-checked .el-switch__core .el-switch__action{left:calc(100% - 17px);color:var(--el-switch-on-color)}.el-switch.is-checked .el-switch__core .el-switch__inner{padding:0 18px 0 4px}.el-switch.is-disabled{opacity:.6}.el-switch--wide .el-switch__label.el-switch__label--left span{left:10px}.el-switch--wide .el-switch__label.el-switch__label--right span{right:10px}.el-switch .label-fade-enter-from,.el-switch .label-fade-leave-active{opacity:0}.el-switch--large{font-size:14px;line-height:24px;height:40px}.el-switch--large .el-switch__label{height:24px;font-size:14px}.el-switch--large .el-switch__label *{font-size:14px}.el-switch--large .el-switch__core{min-width:50px;height:24px;border-radius:12px}.el-switch--large .el-switch__core .el-switch__inner{height:20px;padding:0 6px 0 22px}.el-switch--large .el-switch__core .el-switch__action{width:20px;height:20px}.el-switch--large.is-checked .el-switch__core .el-switch__action{left:calc(100% - 21px)}.el-switch--large.is-checked .el-switch__core .el-switch__inner{padding:0 22px 0 6px}.el-switch--small{font-size:12px;line-height:16px;height:24px}.el-switch--small .el-switch__label{height:16px;font-size:12px}.el-switch--small .el-switch__label *{font-size:12px}.el-switch--small .el-switch__core{min-width:30px;height:16px;border-radius:8px}.el-switch--small .el-switch__core .el-switch__inner{height:12px;padding:0 2px 0 14px}.el-switch--small .el-switch__core .el-switch__action{width:12px;height:12px}.el-switch--small.is-checked .el-switch__core .el-switch__action{left:calc(100% - 13px)}.el-switch--small.is-checked .el-switch__core .el-switch__inner{padding:0 14px 0 2px}.plugin-tabs[data-v-7e38664f]{display:flex;column-gap:12px;padding-top:11px;box-sizing:border-box;background:#fff}.plugin-tabs.isCards[data-v-7e38664f]{justify-content:space-between;margin-top:var(--45e2ff4c);background:none;padding-top:0}.plugin-tab[data-v-7e38664f]{width:102px;height:34px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;border-radius:8px;font-size:14px;overflow:hidden;color:var(--color-text-desc);cursor:pointer;border:1px solid var(--color-border);margin-bottom:10px;background:#fff}.plugin-tab[data-v-7e38664f]:hover{color:var(--color-text-active);border:1px solid var(--color-text-active)}.plugin-tab.active[data-v-7e38664f]{color:var(--color-text-active);border:1px solid var(--color-text-active);pointer-events:none}.plugin-tab svg[data-v-7e38664f]{width:16px;height:16px;margin-right:6px}.plugin-card[data-v-7e38664f]{width:166px;height:115px;border-radius:8px;overflow:hidden;padding:18px 12px;box-sizing:border-box;cursor:pointer}.plugin-card[data-v-7e38664f]:hover,.plugin-card.active[data-v-7e38664f]{box-shadow:4px 4px 29.8px 3px #877cff66}.plugin-card:hover .card-title[data-v-7e38664f],.plugin-card:hover .card-desc[data-v-7e38664f],.plugin-card.active .card-title[data-v-7e38664f],.plugin-card.active .card-desc[data-v-7e38664f]{color:#fff}.plugin-card:hover .card-title[data-v-7e38664f]:before,.plugin-card:hover .card-desc[data-v-7e38664f]:before,.plugin-card.active .card-title[data-v-7e38664f]:before,.plugin-card.active .card-desc[data-v-7e38664f]:before{background:#fff!important}.plugin-card:hover .el-switch[data-v-7e38664f],.plugin-card:hover .icon-card-right[data-v-7e38664f],.plugin-card.active .el-switch[data-v-7e38664f],.plugin-card.active .icon-card-right[data-v-7e38664f]{opacity:1}.plugin-card:hover.plugin-file[data-v-7e38664f],.plugin-card.active.plugin-file[data-v-7e38664f]{background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/icon-plugin-file.svg?t=2) right bottom/60px 60px no-repeat,linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%)}.plugin-card:hover.plugin-link[data-v-7e38664f],.plugin-card.active.plugin-link[data-v-7e38664f]{background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/icon-plugin-link.svg?t=2) right bottom/60px 60px no-repeat,linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%)}.plugin-card:hover.plugin-code[data-v-7e38664f],.plugin-card.active.plugin-code[data-v-7e38664f]{background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/icon-plugin-code.svg?t=2) right bottom/60px 60px no-repeat,linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%)}.plugin-card:hover.plugin-net[data-v-7e38664f],.plugin-card.active.plugin-net[data-v-7e38664f]{background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/icon-plugin-net.svg?t=2) right bottom/60px 60px no-repeat,linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%)}.plugin-card:hover.plugin-mind[data-v-7e38664f],.plugin-card.active.plugin-mind[data-v-7e38664f]{background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/icon-plugin-mind.svg?t=2) right bottom/60px 60px no-repeat,linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%)}.plugin-card.plugin-file[data-v-7e38664f]{background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/icon-plugin-file.svg?t=2) right bottom/60px 60px no-repeat,linear-gradient(115deg,#faf4ff 31.52%,#eafaff 96.91%)}.plugin-card.plugin-file .card-desc[data-v-7e38664f]:before{background:#574ff5}.plugin-card.plugin-link[data-v-7e38664f]{background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/icon-plugin-link.svg?t=2) right bottom/60px 60px no-repeat,linear-gradient(115deg,#faf4ff 31.52%,#eafaff 96.91%)}.plugin-card.plugin-link .card-desc[data-v-7e38664f]:before{background:#84ffd3}.plugin-card.plugin-code[data-v-7e38664f]{background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/icon-plugin-code.svg?t=2) right bottom/60px 60px no-repeat,linear-gradient(115deg,#faf4ff 31.52%,#eafaff 96.91%)}.plugin-card.plugin-code .card-desc[data-v-7e38664f]:before{background:#0d9aff}.plugin-card.plugin-net[data-v-7e38664f]{background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/icon-plugin-net.svg?t=2) right bottom/60px 60px no-repeat,linear-gradient(115deg,#faf4ff 31.52%,#eafaff 96.91%)}.plugin-card.plugin-net .card-desc[data-v-7e38664f]:before{background:#ff845d}.plugin-card.plugin-mind[data-v-7e38664f]{background:url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/icon-plugin-mind.svg?t=2) right bottom/60px 60px no-repeat,linear-gradient(115deg,#faf4ff 31.52%,#eafaff 96.91%)}.plugin-card.plugin-mind .card-desc[data-v-7e38664f]:before{background:#0d9aff}.plugin-card .card-title[data-v-7e38664f]{font-size:16px;font-weight:600;color:var(--color-text-primary)}.plugin-card[data-v-7e38664f] .el-switch{opacity:0;height:18px}.plugin-card[data-v-7e38664f] .el-switch .el-switch__core{width:30px}.plugin-card[data-v-7e38664f] .el-switch .el-switch__core:after{width:12px;height:12px}.plugin-card[data-v-7e38664f] .el-switch.active{opacity:1}.plugin-card[data-v-7e38664f] .el-switch.active .el-switch__action{background:#71c140}.plugin-card[data-v-7e38664f] .el-switch.active .el-switch__core:after{background:none}.plugin-card .icon-card-right[data-v-7e38664f]{opacity:0}.plugin-card .card-desc[data-v-7e38664f]{margin-top:6px;font-size:12px;font-weight:400;color:var(--color-text-desc);padding-left:8px;position:relative;text-align:left;white-space:nowrap}.plugin-card .card-desc[data-v-7e38664f]:before{content:"";width:4px;height:4px;background:#8b8b8b;border-radius:50%;position:absolute;left:0;top:50%;transform:translateY(-50%)}@media screen and (min-width: 769px){.scroll-bar-style[data-v-cb753046]:hover::-webkit-scrollbar-thumb,.input-bar .input-text[data-v-cb753046] .textarea textarea:hover::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px #0000001a;background:#f7f7fc}.scroll-bar-style[data-v-cb753046]::-webkit-scrollbar,.input-bar .input-text[data-v-cb753046] .textarea textarea::-webkit-scrollbar{width:5px;height:5px}.scroll-bar-style[data-v-cb753046]::-webkit-scrollbar-thumb,.input-bar .input-text[data-v-cb753046] .textarea textarea::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 5px #0000;background:#0000}.scroll-bar-style[data-v-cb753046]::-webkit-scrollbar-track,.input-bar .input-text[data-v-cb753046] .textarea textarea::-webkit-scrollbar-track{border-radius:10px;background:#0000}}@keyframes border-animate-cb753046{0%,10%{background:linear-gradient(to bottom right,#6794f5,#9003ff)}15%{background:linear-gradient(to bottom,#6794f5,#9003ff)}20%{background:linear-gradient(to bottom left,#6794f5,#9003ff)}30%{background:linear-gradient(to left,#6794f5,#9003ff)}40%{background:linear-gradient(to left top,#6794f5,#9003ff)}50%{background:linear-gradient(to left top,#6794f5,#9003ff)}60%{background:linear-gradient(to left top,#6794f5,#9003ff)}70%{background:linear-gradient(to left,#6794f5,#9003ff)}80%{background:linear-gradient(to bottom left,#6794f5,#9003ff)}85%{background:linear-gradient(to bottom,#6794f5,#9003ff)}90%,to{background:linear-gradient(to bottom right,#6794f5,#9003ff)}}.input-bar[data-v-cb753046]{position:relative;margin:-58px auto 0;width:100%;z-index:99}.input-bar .chat-input-main[data-v-cb753046]{position:relative;border:1px solid var(--color-input-border);background:var(--0a8db6f4);border-radius:16px;overflow:hidden;z-index:99}.input-bar .chat-input-main[data-v-cb753046]:hover{box-shadow:0 4px 12px #a09cc733}.input-bar .chat-input-main[data-v-cb753046]:before{display:block;content:" ";position:absolute;top:-38px;left:-1px;right:-1px;height:38px;pointer-events:none;background:linear-gradient(0deg,#fffc,#fff3 60%,#fff0)}.input-bar .input-text[data-v-cb753046]{display:flex;flex-direction:column;border-radius:0 0 16px 16px;overflow:hidden;position:relative}.input-bar .input-text .input-right[data-v-cb753046]{z-index:2;flex:1;background-color:#fff;border-radius:0;position:relative}.input-bar .input-text .chat-doc_upload-button-pro+.input-right[data-v-cb753046]{border-radius:0 12px 12px 0}.input-bar .input-text .chat-doc_upload-button-pro+.input-right[data-v-cb753046] textarea{border-radius:0}.input-bar .input-text[data-v-cb753046] .textarea{border-radius:var(--2d601dac);overflow:hidden;flex:1;background:#fff;z-index:2;display:flex;flex-direction:column;padding-right:40px}.input-bar .input-text[data-v-cb753046] .textarea textarea{padding:10px 8px 10px 10px;position:relative;background-color:transparent;box-shadow:none;border:none;resize:none;line-height:28px}.input-bar .input-text[data-v-cb753046] .textarea.is-disabled ::v-deep(textarea){background-color:var(--el-disabled-bg-color)}.input-bar .input-text .c-icon[data-v-cb753046]{position:absolute;bottom:10px;right:10px;width:28px;height:28px;display:flex;justify-content:center;align-items:center;z-index:3}.input-bar .input-text .c-icon .icon-send[data-v-cb753046]{width:100%;height:100%;opacity:var(--e966f9dc)}.input-bar .input-text .icon-input-open[data-v-cb753046]{position:absolute;top:10px;right:10px;z-index:3;width:20px;cursor:pointer}.el-slider{--el-slider-main-bg-color:var(--el-color-primary);--el-slider-runway-bg-color:var(--el-border-color-light);--el-slider-stop-bg-color:var(--el-color-white);--el-slider-disabled-color:var(--el-text-color-placeholder);--el-slider-border-radius:3px;--el-slider-height:6px;--el-slider-button-size:20px;--el-slider-button-wrapper-size:36px;--el-slider-button-wrapper-offset:-15px}.el-slider{width:100%;height:32px;display:flex;align-items:center}.el-slider__runway{flex:1;height:var(--el-slider-height);background-color:var(--el-slider-runway-bg-color);border-radius:var(--el-slider-border-radius);position:relative;cursor:pointer}.el-slider__runway.show-input{margin-right:30px;width:auto}.el-slider__runway.is-disabled{cursor:default}.el-slider__runway.is-disabled .el-slider__bar{background-color:var(--el-slider-disabled-color)}.el-slider__runway.is-disabled .el-slider__button{border-color:var(--el-slider-disabled-color)}.el-slider__runway.is-disabled .el-slider__button-wrapper.hover,.el-slider__runway.is-disabled .el-slider__button-wrapper:hover,.el-slider__runway.is-disabled .el-slider__button-wrapper.dragging{cursor:not-allowed}.el-slider__runway.is-disabled .el-slider__button.dragging,.el-slider__runway.is-disabled .el-slider__button.hover,.el-slider__runway.is-disabled .el-slider__button:hover{transform:scale(1)}.el-slider__runway.is-disabled .el-slider__button.hover,.el-slider__runway.is-disabled .el-slider__button:hover,.el-slider__runway.is-disabled .el-slider__button.dragging{cursor:not-allowed}.el-slider__input{flex-shrink:0;width:130px}.el-slider__bar{height:var(--el-slider-height);background-color:var(--el-slider-main-bg-color);border-top-left-radius:var(--el-slider-border-radius);border-bottom-left-radius:var(--el-slider-border-radius);position:absolute}.el-slider__button-wrapper{height:var(--el-slider-button-wrapper-size);width:var(--el-slider-button-wrapper-size);position:absolute;z-index:1;top:var(--el-slider-button-wrapper-offset);transform:translate(-50%);background-color:transparent;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:normal;outline:0}.el-slider__button-wrapper:after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-slider__button-wrapper.hover,.el-slider__button-wrapper:hover{cursor:-webkit-grab;cursor:grab}.el-slider__button-wrapper.dragging{cursor:-webkit-grabbing;cursor:grabbing}.el-slider__button{display:inline-block;width:var(--el-slider-button-size);height:var(--el-slider-button-size);vertical-align:middle;border:solid 2px var(--el-slider-main-bg-color);background-color:var(--el-color-white);border-radius:50%;box-sizing:border-box;transition:var(--el-transition-duration-fast);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.el-slider__button.dragging,.el-slider__button.hover,.el-slider__button:hover{transform:scale(1.2)}.el-slider__button.hover,.el-slider__button:hover{cursor:-webkit-grab;cursor:grab}.el-slider__button.dragging{cursor:-webkit-grabbing;cursor:grabbing}.el-slider__stop{position:absolute;height:var(--el-slider-height);width:var(--el-slider-height);border-radius:var(--el-border-radius-circle);background-color:var(--el-slider-stop-bg-color);transform:translate(-50%)}.el-slider__marks{top:0;left:12px;width:18px;height:100%}.el-slider__marks-text{position:absolute;transform:translate(-50%);font-size:14px;color:var(--el-color-info);margin-top:15px;white-space:pre}.el-slider.is-vertical{position:relative;display:inline-flex;width:auto;height:100%;flex:0}.el-slider.is-vertical .el-slider__runway{width:var(--el-slider-height);height:100%;margin:0 16px}.el-slider.is-vertical .el-slider__bar{width:var(--el-slider-height);height:auto;border-radius:0 0 3px 3px}.el-slider.is-vertical .el-slider__button-wrapper{top:auto;left:var(--el-slider-button-wrapper-offset);transform:translateY(50%)}.el-slider.is-vertical .el-slider__stop{transform:translateY(50%)}.el-slider.is-vertical .el-slider__marks-text{margin-top:0;left:15px;transform:translateY(50%)}.el-slider--large{height:40px}.el-slider--small{height:24px}.el-input-number{position:relative;display:inline-flex;width:150px;line-height:30px}.el-input-number .el-input__wrapper{padding-left:42px;padding-right:42px}.el-input-number .el-input__inner{-webkit-appearance:none;-moz-appearance:textfield;text-align:center;line-height:1}.el-input-number .el-input__inner::-webkit-inner-spin-button,.el-input-number .el-input__inner::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.el-input-number__decrease,.el-input-number__increase{display:flex;justify-content:center;align-items:center;height:auto;position:absolute;z-index:1;top:1px;bottom:1px;width:32px;background:var(--el-fill-color-light);color:var(--el-text-color-regular);cursor:pointer;font-size:13px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.el-input-number__decrease:hover,.el-input-number__increase:hover{color:var(--el-color-primary)}.el-input-number__decrease:hover~.el-input:not(.is-disabled) .el-input__wrapper,.el-input-number__increase:hover~.el-input:not(.is-disabled) .el-input__wrapper{box-shadow:0 0 0 1px var(--el-input-focus-border-color,var(--el-color-primary)) inset}.el-input-number__decrease.is-disabled,.el-input-number__increase.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-input-number__increase{right:1px;border-radius:0 var(--el-border-radius-base) var(--el-border-radius-base) 0;border-left:var(--el-border)}.el-input-number__decrease{left:1px;border-radius:var(--el-border-radius-base) 0 0 var(--el-border-radius-base);border-right:var(--el-border)}.el-input-number.is-disabled .el-input-number__decrease,.el-input-number.is-disabled .el-input-number__increase{border-color:var(--el-disabled-border-color);color:var(--el-disabled-border-color)}.el-input-number.is-disabled .el-input-number__decrease:hover,.el-input-number.is-disabled .el-input-number__increase:hover{color:var(--el-disabled-border-color);cursor:not-allowed}.el-input-number--large{width:180px;line-height:38px}.el-input-number--large .el-input-number__decrease,.el-input-number--large .el-input-number__increase{width:40px;font-size:14px}.el-input-number--large .el-input__wrapper{padding-left:47px;padding-right:47px}.el-input-number--small{width:120px;line-height:22px}.el-input-number--small .el-input-number__decrease,.el-input-number--small .el-input-number__increase{width:24px;font-size:12px}.el-input-number--small .el-input__wrapper{padding-left:31px;padding-right:31px}.el-input-number--small .el-input-number__decrease [class*=el-icon],.el-input-number--small .el-input-number__increase [class*=el-icon]{transform:scale(.9)}.el-input-number.is-without-controls .el-input__wrapper{padding-left:15px;padding-right:15px}.el-input-number.is-controls-right .el-input__wrapper{padding-left:15px;padding-right:42px}.el-input-number.is-controls-right .el-input-number__decrease,.el-input-number.is-controls-right .el-input-number__increase{--el-input-number-controls-height:15px;height:var(--el-input-number-controls-height);line-height:var(--el-input-number-controls-height)}.el-input-number.is-controls-right .el-input-number__decrease [class*=el-icon],.el-input-number.is-controls-right .el-input-number__increase [class*=el-icon]{transform:scale(.8)}.el-input-number.is-controls-right .el-input-number__increase{bottom:auto;left:auto;border-radius:0 var(--el-border-radius-base) 0 0;border-bottom:var(--el-border)}.el-input-number.is-controls-right .el-input-number__decrease{right:1px;top:auto;left:auto;border-right:none;border-left:var(--el-border);border-radius:0 0 var(--el-border-radius-base) 0}.el-input-number.is-controls-right[class*=large] [class*=decrease],.el-input-number.is-controls-right[class*=large] [class*=increase]{--el-input-number-controls-height:19px}.el-input-number.is-controls-right[class*=small] [class*=decrease],.el-input-number.is-controls-right[class*=small] [class*=increase]{--el-input-number-controls-height:11px}.chat-settings-list-pro{height:100%;box-sizing:border-box;padding-top:8px}.chat-settings-list-pro .chat-setting-item{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.chat-settings-list-pro .chat-setting-item:last-child{margin-bottom:0}.chat-settings-list-pro .chat-setting-item .label{width:80px;height:22px;display:flex;align-items:center;column-gap:4px}.chat-settings-list-pro .chat-setting-item .label span{color:#222226;font-size:12px;font-weight:500}.chat-settings-list-pro .chat-setting-item .el-select,.chat-settings-list-pro .chat-setting-item .el-slider{width:160px;height:22px;padding-right:8px;box-sizing:border-box}.chat-settings-list-pro .chat-setting-item .el-select .el-slider__bar,.chat-settings-list-pro .chat-setting-item .el-slider .el-slider__bar{background:#6d5ffd}.chat-settings-list-pro .chat-setting-item .el-select .el-slider__button,.chat-settings-list-pro .chat-setting-item .el-slider .el-slider__button{width:10px;height:10px;border:1px solid #6d5ffd}.chat-settings-list-pro .chat-setting-item .el-icon{color:#999aaa;vertical-align:-2px}.el-button-group{display:inline-block;vertical-align:middle}.el-button-group:after,.el-button-group:before{display:table;content:""}.el-button-group:after{clear:both}.el-button-group>.el-button{float:left;position:relative}.el-button-group>.el-button+.el-button{margin-left:0}.el-button-group>.el-button:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.el-button-group>.el-button:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.el-button-group>.el-button:first-child:last-child{border-top-right-radius:var(--el-border-radius-base);border-bottom-right-radius:var(--el-border-radius-base);border-top-left-radius:var(--el-border-radius-base);border-bottom-left-radius:var(--el-border-radius-base)}.el-button-group>.el-button:first-child:last-child.is-round{border-radius:var(--el-border-radius-round)}.el-button-group>.el-button:first-child:last-child.is-circle{border-radius:50%}.el-button-group>.el-button:not(:first-child):not(:last-child){border-radius:0}.el-button-group>.el-button:not(:last-child){margin-right:-1px}.el-button-group>.el-button:active,.el-button-group>.el-button:focus,.el-button-group>.el-button:hover{z-index:1}.el-button-group>.el-button.is-active{z-index:1}.el-button-group>.el-dropdown>.el-button{border-top-left-radius:0;border-bottom-left-radius:0;border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--primary:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--primary:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--primary:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--success:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--success:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--success:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--warning:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--warning:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--warning:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--danger:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--danger:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--danger:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--info:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--info:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--info:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-dropdown{--el-dropdown-menu-box-shadow:var(--el-box-shadow-light);--el-dropdown-menuItem-hover-fill:var(--el-color-primary-light-9);--el-dropdown-menuItem-hover-color:var(--el-color-primary);--el-dropdown-menu-index:10;display:inline-flex;position:relative;color:var(--el-text-color-regular);font-size:var(--el-font-size-base);line-height:1;vertical-align:top}.el-dropdown.is-disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-dropdown__popper{--el-dropdown-menu-box-shadow:var(--el-box-shadow-light);--el-dropdown-menuItem-hover-fill:var(--el-color-primary-light-9);--el-dropdown-menuItem-hover-color:var(--el-color-primary);--el-dropdown-menu-index:10}.el-dropdown__popper.el-popper{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color-light);box-shadow:var(--el-dropdown-menu-box-shadow)}.el-dropdown__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-dropdown__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-top-color:transparent;border-left-color:transparent}.el-dropdown__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-dropdown__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-left-color:transparent;border-bottom-color:transparent}.el-dropdown__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-dropdown__popper .el-dropdown-menu{border:none}.el-dropdown__popper .el-dropdown__popper-selfdefine{outline:0}.el-dropdown__popper .el-scrollbar__bar{z-index:calc(var(--el-dropdown-menu-index) + 1)}.el-dropdown__popper .el-dropdown__list{list-style:none;padding:0;margin:0;box-sizing:border-box}.el-dropdown .el-dropdown__caret-button{padding-left:0;padding-right:0;display:inline-flex;justify-content:center;align-items:center;width:32px;border-left:none}.el-dropdown .el-dropdown__caret-button>span{display:inline-flex}.el-dropdown .el-dropdown__caret-button:before{content:"";position:absolute;display:block;width:1px;top:-1px;bottom:-1px;left:0;background:var(--el-overlay-color-lighter)}.el-dropdown .el-dropdown__caret-button.el-button:before{background:var(--el-border-color);opacity:.5}.el-dropdown .el-dropdown__caret-button .el-dropdown__icon{font-size:inherit;padding-left:0}.el-dropdown .el-dropdown-selfdefine{outline:0}.el-dropdown--large .el-dropdown__caret-button{width:40px}.el-dropdown--small .el-dropdown__caret-button{width:24px}.el-dropdown-menu{position:relative;top:0;left:0;z-index:var(--el-dropdown-menu-index);padding:5px 0;margin:0;background-color:var(--el-bg-color-overlay);border:none;border-radius:var(--el-border-radius-base);box-shadow:none;list-style:none}.el-dropdown-menu__item{display:flex;align-items:center;white-space:nowrap;list-style:none;line-height:22px;padding:5px 16px;margin:0;font-size:var(--el-font-size-base);color:var(--el-text-color-regular);cursor:pointer;outline:0}.el-dropdown-menu__item:not(.is-disabled):focus{background-color:var(--el-dropdown-menuItem-hover-fill);color:var(--el-dropdown-menuItem-hover-color)}.el-dropdown-menu__item i{margin-right:5px}.el-dropdown-menu__item--divided{margin:6px 0;border-top:1px solid var(--el-border-color-lighter)}.el-dropdown-menu__item.is-disabled{cursor:not-allowed;color:var(--el-text-color-disabled)}.el-dropdown-menu--large{padding:7px 0}.el-dropdown-menu--large .el-dropdown-menu__item{padding:7px 20px;line-height:22px;font-size:14px}.el-dropdown-menu--large .el-dropdown-menu__item--divided{margin:8px 0}.el-dropdown-menu--small{padding:3px 0}.el-dropdown-menu--small .el-dropdown-menu__item{padding:2px 12px;line-height:20px;font-size:12px}.el-dropdown-menu--small .el-dropdown-menu__item--divided{margin:4px 0}.model-menu[data-v-7ee01ce5]{padding:20px 10px}.model[data-v-7ee01ce5]{display:flex;align-items:center;background-color:#fff;z-index:999}.model.active .c-icon[data-v-7ee01ce5]{fill:#6b5}.model .model-icon[data-v-7ee01ce5]{width:32px;height:32px}.model .model-item[data-v-7ee01ce5]{position:relative;padding-left:8px;width:196px;overflow:hidden}.model .model-item .c-icon[data-v-7ee01ce5]{position:absolute;right:0;top:50%;margin-top:-8px}.model .model-item .model-name[data-v-7ee01ce5]{line-height:22px;font-size:14px;font-weight:400;color:var(--color-text-primary)}.model .model-item .model-desc[data-v-7ee01ce5]{font-size:12px;color:var(--color-text-desc);line-height:16px;margin-top:4px}.menu-item[data-v-7ee01ce5]{padding:0 8px;margin-bottom:16px;display:flex;align-items:center;white-space:nowrap;list-style:none;line-height:22px;font-size:var(--el-font-size-base);color:var(--el-text-color-regular);cursor:pointer;outline:0}.menu-item.disabled[data-v-7ee01ce5]{cursor:not-allowed}.vip-btn[data-v-7ee01ce5]{background:linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%);border-radius:8px;font-weight:400}.c-model-btn[data-v-7ee01ce5]{height:20px;text-align:center;line-height:20px;color:#999aaa;overflow:hidden;cursor:pointer}.c-model-btn .c-model-btn-text[data-v-7ee01ce5]{display:flex;align-items:center;justify-content:center;font-size:14px;color:var(--color-text-empty)}.c-model-icon[data-v-7ee01ce5]{transition:all .3s ease-in-out;margin-left:4px}.down .c-model-icon[data-v-7ee01ce5]{transform:rotate(-180deg)}.el-text{--el-text-font-size:var(--el-font-size-base);--el-text-color:var(--el-text-color-regular)}.el-text{align-self:center;margin:0;padding:0;font-size:var(--el-text-font-size);color:var(--el-text-color);word-break:break-all}.el-text.is-truncated{display:inline-block;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.el-text.is-line-clamp{display:-webkit-inline-box;-webkit-box-orient:vertical;overflow:hidden}.el-text--large{--el-text-font-size:var(--el-font-size-medium)}.el-text--default{--el-text-font-size:var(--el-font-size-base)}.el-text--small{--el-text-font-size:var(--el-font-size-extra-small)}.el-text.el-text--primary{--el-text-color:var(--el-color-primary)}.el-text.el-text--success{--el-text-color:var(--el-color-success)}.el-text.el-text--warning{--el-text-color:var(--el-color-warning)}.el-text.el-text--danger{--el-text-color:var(--el-color-danger)}.el-text.el-text--error{--el-text-color:var(--el-color-error)}.el-text.el-text--info{--el-text-color:var(--el-color-info)}.el-text>.el-icon{vertical-align:-2px}.el-pagination{--el-pagination-font-size:14px;--el-pagination-bg-color:var(--el-fill-color-blank);--el-pagination-text-color:var(--el-text-color-primary);--el-pagination-border-radius:2px;--el-pagination-button-color:var(--el-text-color-primary);--el-pagination-button-width:32px;--el-pagination-button-height:32px;--el-pagination-button-disabled-color:var(--el-text-color-placeholder);--el-pagination-button-disabled-bg-color:var(--el-fill-color-blank);--el-pagination-button-bg-color:var(--el-fill-color);--el-pagination-hover-color:var(--el-color-primary);--el-pagination-font-size-small:12px;--el-pagination-button-width-small:24px;--el-pagination-button-height-small:24px;--el-pagination-item-gap:16px;white-space:nowrap;color:var(--el-pagination-text-color);font-size:var(--el-pagination-font-size);font-weight:400;display:flex;align-items:center}.el-pagination .el-input__inner{text-align:center;-moz-appearance:textfield}.el-pagination .el-select .el-input{width:128px}.el-pagination button{display:flex;justify-content:center;align-items:center;font-size:var(--el-pagination-font-size);min-width:var(--el-pagination-button-width);height:var(--el-pagination-button-height);line-height:var(--el-pagination-button-height);color:var(--el-pagination-button-color);background:var(--el-pagination-bg-color);padding:0 4px;border:none;border-radius:var(--el-pagination-border-radius);cursor:pointer;text-align:center;box-sizing:border-box}.el-pagination button *{pointer-events:none}.el-pagination button:focus{outline:0}.el-pagination button:hover{color:var(--el-pagination-hover-color)}.el-pagination button.is-active{color:var(--el-pagination-hover-color);cursor:default;font-weight:700}.el-pagination button.is-active.is-disabled{font-weight:700;color:var(--el-text-color-secondary)}.el-pagination button.is-disabled,.el-pagination button:disabled{color:var(--el-pagination-button-disabled-color);background-color:var(--el-pagination-button-disabled-bg-color);cursor:not-allowed}.el-pagination button:focus-visible{outline:1px solid var(--el-pagination-hover-color);outline-offset:-1px}.el-pagination .btn-next .el-icon,.el-pagination .btn-prev .el-icon{display:block;font-size:12px;font-weight:700;width:inherit}.el-pagination>.is-first{margin-left:0!important}.el-pagination>.is-last{margin-right:0!important}.el-pagination .btn-prev{margin-left:var(--el-pagination-item-gap)}.el-pagination__sizes,.el-pagination__total{margin-left:var(--el-pagination-item-gap);font-weight:400;color:var(--el-text-color-regular)}.el-pagination__total[disabled=true]{color:var(--el-text-color-placeholder)}.el-pagination__jump{display:flex;align-items:center;margin-left:var(--el-pagination-item-gap);font-weight:400;color:var(--el-text-color-regular)}.el-pagination__jump[disabled=true]{color:var(--el-text-color-placeholder)}.el-pagination__goto{margin-right:8px}.el-pagination__editor{text-align:center;box-sizing:border-box}.el-pagination__editor.el-input{width:56px}.el-pagination__editor .el-input__inner::-webkit-inner-spin-button,.el-pagination__editor .el-input__inner::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.el-pagination__classifier{margin-left:8px}.el-pagination__rightwrapper{flex:1;display:flex;align-items:center;justify-content:flex-end}.el-pagination.is-background .btn-next,.el-pagination.is-background .btn-prev,.el-pagination.is-background .el-pager li{margin:0 4px;background-color:var(--el-pagination-button-bg-color)}.el-pagination.is-background .btn-next.is-active,.el-pagination.is-background .btn-prev.is-active,.el-pagination.is-background .el-pager li.is-active{background-color:var(--el-color-primary);color:var(--el-color-white)}.el-pagination.is-background .btn-next.is-disabled,.el-pagination.is-background .btn-next:disabled,.el-pagination.is-background .btn-prev.is-disabled,.el-pagination.is-background .btn-prev:disabled,.el-pagination.is-background .el-pager li.is-disabled,.el-pagination.is-background .el-pager li:disabled{color:var(--el-text-color-placeholder);background-color:var(--el-disabled-bg-color)}.el-pagination.is-background .btn-next.is-disabled.is-active,.el-pagination.is-background .btn-next:disabled.is-active,.el-pagination.is-background .btn-prev.is-disabled.is-active,.el-pagination.is-background .btn-prev:disabled.is-active,.el-pagination.is-background .el-pager li.is-disabled.is-active,.el-pagination.is-background .el-pager li:disabled.is-active{color:var(--el-text-color-secondary);background-color:var(--el-fill-color-dark)}.el-pagination.is-background .btn-prev{margin-left:var(--el-pagination-item-gap)}.el-pagination--small .btn-next,.el-pagination--small .btn-prev,.el-pagination--small .el-pager li{height:var(--el-pagination-button-height-small);line-height:var(--el-pagination-button-height-small);font-size:var(--el-pagination-font-size-small);min-width:var(--el-pagination-button-width-small)}.el-pagination--small button,.el-pagination--small span:not([class*=suffix]){font-size:var(--el-pagination-font-size-small)}.el-pagination--small .el-select .el-input{width:100px}.el-pager{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;list-style:none;font-size:0;padding:0;margin:0;display:flex;align-items:center}.el-pager li{display:flex;justify-content:center;align-items:center;font-size:var(--el-pagination-font-size);min-width:var(--el-pagination-button-width);height:var(--el-pagination-button-height);line-height:var(--el-pagination-button-height);color:var(--el-pagination-button-color);background:var(--el-pagination-bg-color);padding:0 4px;border:none;border-radius:var(--el-pagination-border-radius);cursor:pointer;text-align:center;box-sizing:border-box}.el-pager li *{pointer-events:none}.el-pager li:focus{outline:0}.el-pager li:hover{color:var(--el-pagination-hover-color)}.el-pager li.is-active{color:var(--el-pagination-hover-color);cursor:default;font-weight:700}.el-pager li.is-active.is-disabled{font-weight:700;color:var(--el-text-color-secondary)}.el-pager li.is-disabled,.el-pager li:disabled{color:var(--el-pagination-button-disabled-color);background-color:var(--el-pagination-button-disabled-bg-color);cursor:not-allowed}.el-pager li:focus-visible{outline:1px solid var(--el-pagination-hover-color);outline-offset:-1px}.el-tag{--el-tag-font-size:12px;--el-tag-border-radius:4px;--el-tag-border-radius-rounded:9999px}.el-tag{--el-tag-bg-color:var(--el-color-primary-light-9);--el-tag-border-color:var(--el-color-primary-light-8);--el-tag-hover-color:var(--el-color-primary);--el-tag-text-color:var(--el-color-primary);background-color:var(--el-tag-bg-color);border-color:var(--el-tag-border-color);color:var(--el-tag-text-color);display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;height:24px;padding:0 9px;font-size:var(--el-tag-font-size);line-height:1;border-width:1px;border-style:solid;border-radius:var(--el-tag-border-radius);box-sizing:border-box;white-space:nowrap;--el-icon-size:14px}.el-tag.el-tag--primary{--el-tag-bg-color:var(--el-color-primary-light-9);--el-tag-border-color:var(--el-color-primary-light-8);--el-tag-hover-color:var(--el-color-primary)}.el-tag.el-tag--success{--el-tag-bg-color:var(--el-color-success-light-9);--el-tag-border-color:var(--el-color-success-light-8);--el-tag-hover-color:var(--el-color-success)}.el-tag.el-tag--warning{--el-tag-bg-color:var(--el-color-warning-light-9);--el-tag-border-color:var(--el-color-warning-light-8);--el-tag-hover-color:var(--el-color-warning)}.el-tag.el-tag--danger{--el-tag-bg-color:var(--el-color-danger-light-9);--el-tag-border-color:var(--el-color-danger-light-8);--el-tag-hover-color:var(--el-color-danger)}.el-tag.el-tag--error{--el-tag-bg-color:var(--el-color-error-light-9);--el-tag-border-color:var(--el-color-error-light-8);--el-tag-hover-color:var(--el-color-error)}.el-tag.el-tag--info{--el-tag-bg-color:var(--el-color-info-light-9);--el-tag-border-color:var(--el-color-info-light-8);--el-tag-hover-color:var(--el-color-info)}.el-tag.el-tag--primary{--el-tag-text-color:var(--el-color-primary)}.el-tag.el-tag--success{--el-tag-text-color:var(--el-color-success)}.el-tag.el-tag--warning{--el-tag-text-color:var(--el-color-warning)}.el-tag.el-tag--danger{--el-tag-text-color:var(--el-color-danger)}.el-tag.el-tag--error{--el-tag-text-color:var(--el-color-error)}.el-tag.el-tag--info{--el-tag-text-color:var(--el-color-info)}.el-tag.is-hit{border-color:var(--el-color-primary)}.el-tag.is-round{border-radius:var(--el-tag-border-radius-rounded)}.el-tag .el-tag__close{color:var(--el-tag-text-color)}.el-tag .el-tag__close:hover{color:var(--el-color-white);background-color:var(--el-tag-hover-color)}.el-tag .el-icon{border-radius:50%;cursor:pointer;font-size:calc(var(--el-icon-size) - 2px);height:var(--el-icon-size);width:var(--el-icon-size)}.el-tag .el-tag__close{margin-left:6px}.el-tag--dark{--el-tag-bg-color:var(--el-color-primary);--el-tag-border-color:var(--el-color-primary);--el-tag-hover-color:var(--el-color-primary-light-3);--el-tag-text-color:var(--el-color-white)}.el-tag--dark.el-tag--primary{--el-tag-bg-color:var(--el-color-primary);--el-tag-border-color:var(--el-color-primary);--el-tag-hover-color:var(--el-color-primary-light-3)}.el-tag--dark.el-tag--success{--el-tag-bg-color:var(--el-color-success);--el-tag-border-color:var(--el-color-success);--el-tag-hover-color:var(--el-color-success-light-3)}.el-tag--dark.el-tag--warning{--el-tag-bg-color:var(--el-color-warning);--el-tag-border-color:var(--el-color-warning);--el-tag-hover-color:var(--el-color-warning-light-3)}.el-tag--dark.el-tag--danger{--el-tag-bg-color:var(--el-color-danger);--el-tag-border-color:var(--el-color-danger);--el-tag-hover-color:var(--el-color-danger-light-3)}.el-tag--dark.el-tag--error{--el-tag-bg-color:var(--el-color-error);--el-tag-border-color:var(--el-color-error);--el-tag-hover-color:var(--el-color-error-light-3)}.el-tag--dark.el-tag--info{--el-tag-bg-color:var(--el-color-info);--el-tag-border-color:var(--el-color-info);--el-tag-hover-color:var(--el-color-info-light-3)}.el-tag--dark.el-tag--primary,.el-tag--dark.el-tag--success,.el-tag--dark.el-tag--warning,.el-tag--dark.el-tag--danger,.el-tag--dark.el-tag--error,.el-tag--dark.el-tag--info{--el-tag-text-color:var(--el-color-white)}.el-tag--plain{--el-tag-border-color:var(--el-color-primary-light-5);--el-tag-hover-color:var(--el-color-primary);--el-tag-bg-color:var(--el-fill-color-blank)}.el-tag--plain.el-tag--primary{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-primary-light-5);--el-tag-hover-color:var(--el-color-primary)}.el-tag--plain.el-tag--success{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-success-light-5);--el-tag-hover-color:var(--el-color-success)}.el-tag--plain.el-tag--warning{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-warning-light-5);--el-tag-hover-color:var(--el-color-warning)}.el-tag--plain.el-tag--danger{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-danger-light-5);--el-tag-hover-color:var(--el-color-danger)}.el-tag--plain.el-tag--error{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-error-light-5);--el-tag-hover-color:var(--el-color-error)}.el-tag--plain.el-tag--info{--el-tag-bg-color:var(--el-fill-color-blank);--el-tag-border-color:var(--el-color-info-light-5);--el-tag-hover-color:var(--el-color-info)}.el-tag.is-closable{padding-right:5px}.el-tag--large{padding:0 11px;height:32px;--el-icon-size:16px}.el-tag--large .el-tag__close{margin-left:8px}.el-tag--large.is-closable{padding-right:7px}.el-tag--small{padding:0 7px;height:20px;--el-icon-size:12px}.el-tag--small .el-tag__close{margin-left:4px}.el-tag--small.is-closable{padding-right:3px}.el-tag--small .el-icon-close{transform:scale(.8)}.el-tag.el-tag--primary.is-hit{border-color:var(--el-color-primary)}.el-tag.el-tag--success.is-hit{border-color:var(--el-color-success)}.el-tag.el-tag--warning.is-hit{border-color:var(--el-color-warning)}.el-tag.el-tag--danger.is-hit{border-color:var(--el-color-danger)}.el-tag.el-tag--error.is-hit{border-color:var(--el-color-error)}.el-tag.el-tag--info.is-hit{border-color:var(--el-color-info)}.el-select-dropdown__item{font-size:var(--el-font-size-base);padding:0 32px 0 20px;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--el-text-color-regular);height:34px;line-height:34px;box-sizing:border-box;cursor:pointer}.el-select-dropdown__item.is-disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-select-dropdown__item.hover,.el-select-dropdown__item:hover{background-color:var(--el-fill-color-light)}.el-select-dropdown__item.selected{color:var(--el-color-primary);font-weight:700}.el-select-group{margin:0;padding:0}.el-select-group__wrap{position:relative;list-style:none;margin:0;padding:0}.el-select-group__wrap:not(:last-of-type){padding-bottom:24px}.el-select-group__wrap:not(:last-of-type):after{content:"";position:absolute;display:block;left:20px;right:20px;bottom:12px;height:1px;background:var(--el-border-color-light)}.el-select-group__split-dash{position:absolute;left:20px;right:20px;height:1px;background:var(--el-border-color-light)}.el-select-group__title{padding-left:20px;font-size:12px;color:var(--el-color-info);line-height:30px}.el-select-group .el-select-dropdown__item{padding-left:20px}.el-select-dropdown{z-index:calc(var(--el-index-top) + 1);border-radius:var(--el-border-radius-base);box-sizing:border-box}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected{color:var(--el-color-primary);background-color:var(--el-bg-color-overlay)}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected.hover{background-color:var(--el-fill-color-light)}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected:after{content:"";position:absolute;top:50%;right:20px;border-top:none;border-right:none;background-repeat:no-repeat;background-position:center;background-color:var(--el-color-primary);-webkit-mask:url("data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E") no-repeat;mask:url("data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E") no-repeat;mask-size:100% 100%;-webkit-mask:url("data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E") no-repeat;-webkit-mask-size:100% 100%;transform:translateY(-50%);width:12px;height:12px}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected.is-disabled:after{background-color:var(--el-text-color-disabled)}.el-select-dropdown .el-select-dropdown__option-item.is-selected:after{content:"";position:absolute;top:50%;right:20px;border-top:none;border-right:none;background-repeat:no-repeat;background-position:center;background-color:var(--el-color-primary);-webkit-mask:url("data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E") no-repeat;mask:url("data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E") no-repeat;mask-size:100% 100%;-webkit-mask:url("data:image/svg+xml;utf8,%3Csvg class='icon' width='200' height='200' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' d='M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z'%3E%3C/path%3E%3C/svg%3E") no-repeat;-webkit-mask-size:100% 100%;transform:translateY(-50%);width:12px;height:12px}.el-select-dropdown .el-scrollbar.is-empty .el-select-dropdown__list{padding:0}.el-select-dropdown .el-select-dropdown__item.is-disabled:hover{background-color:unset}.el-select-dropdown .el-select-dropdown__item.is-disabled.selected{color:var(--el-text-color-disabled)}.el-select-dropdown__empty{padding:10px 0;margin:0;text-align:center;color:var(--el-text-color-secondary);font-size:var(--el-select-font-size)}.el-select-dropdown__wrap{max-height:274px}.el-select-dropdown__list{list-style:none;padding:6px 0;margin:0;box-sizing:border-box}.el-select-dropdown__header{padding:10px;border-bottom:1px solid var(--el-border-color-light)}.el-select-dropdown__footer{padding:10px;border-top:1px solid var(--el-border-color-light)}.el-select{--el-select-border-color-hover:var(--el-border-color-hover);--el-select-disabled-border:var(--el-disabled-border-color);--el-select-font-size:var(--el-font-size-base);--el-select-close-hover-color:var(--el-text-color-secondary);--el-select-input-color:var(--el-text-color-placeholder);--el-select-multiple-input-color:var(--el-text-color-regular);--el-select-input-focus-border-color:var(--el-color-primary);--el-select-input-font-size:14px}.el-select{display:inline-block;position:relative;vertical-align:middle;line-height:32px}.el-select__popper.el-popper{background:var(--el-bg-color-overlay);border:1px solid var(--el-border-color-light);box-shadow:var(--el-box-shadow-light)}.el-select__popper.el-popper .el-popper__arrow:before{border:1px solid var(--el-border-color-light)}.el-select__popper.el-popper[data-popper-placement^=top] .el-popper__arrow:before{border-top-color:transparent;border-left-color:transparent}.el-select__popper.el-popper[data-popper-placement^=bottom] .el-popper__arrow:before{border-bottom-color:transparent;border-right-color:transparent}.el-select__popper.el-popper[data-popper-placement^=left] .el-popper__arrow:before{border-left-color:transparent;border-bottom-color:transparent}.el-select__popper.el-popper[data-popper-placement^=right] .el-popper__arrow:before{border-right-color:transparent;border-top-color:transparent}.el-select .el-select-tags-wrapper.has-prefix{margin-left:6px}.el-select--large{line-height:40px}.el-select--large .el-select-tags-wrapper.has-prefix{margin-left:8px}.el-select--small{line-height:24px}.el-select--small .el-select-tags-wrapper.has-prefix{margin-left:4px}.el-select .el-select__tags>span{display:inline-block}.el-select:hover:not(.el-select--disabled) .el-input__wrapper{box-shadow:0 0 0 1px var(--el-select-border-color-hover) inset}.el-select .el-select__tags-text{display:inline-block;line-height:normal;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-select .el-input__wrapper{cursor:pointer}.el-select .el-input__wrapper.is-focus{box-shadow:0 0 0 1px var(--el-select-input-focus-border-color) inset!important}.el-select .el-input__inner{cursor:pointer}.el-select .el-input{display:flex}.el-select .el-input .el-select__caret{color:var(--el-select-input-color);font-size:var(--el-select-input-font-size);transition:transform var(--el-transition-duration);transform:rotate(0);cursor:pointer}.el-select .el-input .el-select__caret.is-reverse{transform:rotate(-180deg)}.el-select .el-input .el-select__caret.is-show-close{font-size:var(--el-select-font-size);text-align:center;transform:rotate(0);border-radius:var(--el-border-radius-circle);color:var(--el-select-input-color);transition:var(--el-transition-color)}.el-select .el-input .el-select__caret.is-show-close:hover{color:var(--el-select-close-hover-color)}.el-select .el-input .el-select__caret.el-icon{position:relative;height:inherit;z-index:2}.el-select .el-input.is-disabled .el-input__wrapper{cursor:not-allowed}.el-select .el-input.is-disabled .el-input__wrapper:hover{box-shadow:0 0 0 1px var(--el-select-disabled-border) inset}.el-select .el-input.is-disabled .el-input__inner,.el-select .el-input.is-disabled .el-select__caret{cursor:not-allowed}.el-select .el-input.is-focus .el-input__wrapper{box-shadow:0 0 0 1px var(--el-select-input-focus-border-color) inset!important}.el-select__input{border:none;outline:0;padding:0;margin-left:15px;color:var(--el-select-multiple-input-color);font-size:var(--el-select-font-size);-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;background-color:transparent}.el-select__input.is-disabled{cursor:not-allowed}.el-select__input--iOS{position:absolute;left:0;top:0;z-index:6}.el-select__input.is-small{height:14px}.el-select__close{cursor:pointer;position:absolute;top:8px;z-index:var(--el-index-top);right:25px;color:var(--el-select-input-color);line-height:18px;font-size:var(--el-select-input-font-size)}.el-select__close:hover{color:var(--el-select-close-hover-color)}.el-select__tags{position:absolute;line-height:normal;top:50%;transform:translateY(-50%);white-space:normal;z-index:var(--el-index-normal);display:flex;align-items:center;flex-wrap:wrap;cursor:pointer}.el-select__tags .el-tag{box-sizing:border-box;border-color:transparent;margin:2px 6px 2px 0}.el-select__tags .el-tag:last-child{margin-right:0}.el-select__tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);right:-7px;top:0;color:#fff}.el-select__tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-select__tags .el-tag .el-icon-close:before{display:block;transform:translateY(.5px)}.el-select__tags .el-tag--info{background-color:var(--el-fill-color)}.el-select__tags.is-disabled{cursor:not-allowed}.el-select__collapse-tags{white-space:normal;z-index:var(--el-index-normal);display:flex;align-items:center;flex-wrap:wrap;cursor:pointer}.el-select__collapse-tags .el-tag{box-sizing:border-box;border-color:transparent;margin:2px 6px 2px 0}.el-select__collapse-tags .el-tag:last-child{margin-right:0}.el-select__collapse-tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);right:-7px;top:0;color:#fff}.el-select__collapse-tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-select__collapse-tags .el-tag .el-icon-close:before{display:block;transform:translateY(.5px)}.el-select__collapse-tags .el-tag--info{background-color:var(--el-fill-color)}.el-select__collapse-tag{line-height:inherit;height:inherit;display:flex}@media screen and (min-width: 769px){.scroll-bar-style:hover::-webkit-scrollbar-thumb,.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row:hover::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px #0000001a;background:#f7f7fc}.scroll-bar-style::-webkit-scrollbar,.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row::-webkit-scrollbar{width:5px;height:5px}.scroll-bar-style::-webkit-scrollbar-thumb,.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 5px #0000;background:#0000}.scroll-bar-style::-webkit-scrollbar-track,.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row::-webkit-scrollbar-track{border-radius:10px;background:#0000}}.el-dialog.chat-doc-manage-modal{padding:0}.el-dialog.chat-doc-manage-modal .el-loading-mask{background-color:transparent}.el-dialog.chat-doc-manage-modal .el-dialog__header{padding:24px 24px 0;font-size:16px;font-weight:500;color:#222226}.el-dialog.chat-doc-manage-modal .el-dialog__header .el-dialog__headerbtn{color:#999aaa;top:0}.el-dialog.chat-doc-manage-modal .el-dialog__header .el-dialog__headerbtn:hover .el-dialog__close{color:#999aaa}.el-dialog.chat-doc-manage-modal .el-dialog__body{padding:0 24px}.el-dialog.chat-doc-manage-modal .empty-data .is-loaded{padding-top:90px}.el-dialog.chat-doc-manage-modal .empty-data .is-loaded img{-webkit-user-select:none;user-select:none;width:120px;display:block;margin:0 auto}.el-dialog.chat-doc-manage-modal .empty-data .is-loaded p{text-align:center;font-weight:400;margin:0;font-size:14px;color:#555666;line-height:20px}.chat-doc-manage-list-wrap{height:523px;padding:0 16px 24px;overflow:hidden}.chat-doc-manage-list-wrap .chat-doc-manage-list{height:100%}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer{overflow:hidden}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer *{box-sizing:border-box}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-header{width:100%;margin:5px 0}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-header .table-header-it{font-size:14px;line-height:40px;padding:0 4px;font-size:12px;font-weight:400;color:#999aaa;-webkit-user-select:none;user-select:none}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-header .table-header-it.pointer{cursor:pointer}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row{height:450px;overflow-y:auto}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item{height:55px;background:#fff;border-radius:4px;overflow:hidden;transition:background .2s linear;border-bottom:1px solid #e8e8f0}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item:first-child{margin-top:0}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item:hover{background:linear-gradient(to right,#0000000a,#0000)}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item:hover .table-item-it,.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item:hover .table-item-it.fileName span{color:#6d5ffd}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item:hover .doc-icon{background:url(//cdn-static-devbit.csdn.net/ai100/chat/imgs/v2/file-active.svg)!important}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it{padding:0 4px;flex-shrink:0;line-height:54px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:14px;font-weight:400;color:#555666;cursor:default}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it:not(.fileName){-webkit-user-select:none;user-select:none}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it:last-child{border-right:none}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.fileName{font-size:0}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.fileName span,.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.fileName img{vertical-align:middle}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.fileName span{color:#222226}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.fileName .doc-icon{display:inline-block;background:url(//cdn-static-devbit.csdn.net/ai100/chat/imgs/v2/file.svg);background-size:contain;width:18px;height:18px;margin-right:8px;vertical-align:middle}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.actions button{cursor:pointer;width:40px;line-height:20px;border-radius:8px;border:1px solid rgb(87,79,245);font-size:12px;font-weight:400;margin-right:10px;color:#fff;box-sizing:border-box}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.actions button.primary-btn{color:#6d5ffd;background-color:#fff}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.actions button.primary-btn:hover{border:1px solid rgb(109,95,253)}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.actions button.no-ghost{background:linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%);border:none;line-height:22px}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.actions button.no-ghost:hover{background:#6d5ffd}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.actions i{font-size:16px;cursor:pointer}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-row .table-item-it.actions i:hover{color:#595959}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .table-footer{display:flex;justify-content:center;margin-top:16px}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .el-pager li{font-size:12px;transition:all .2s}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .el-pager li:hover{font-weight:700;color:#222226}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .el-pager li.is-active{background-color:#555666}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .el-pager li.is-active:hover{color:#fff}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .btn-prev:disabled{color:#e8e8ed}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination button{color:#555665}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .btn-next:hover,.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .btn-prev:hover{color:#222226}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .btn-next:disabled,.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .btn-prev:disabled{color:#e8e8ed}.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .btn-next,.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .btn-prev,.chat-doc-manage-list-wrap .chat-doc-manage-list .table-outer .chat-doc-manage-list-pagination.is-background .el-pager li{background-color:#fff;border-radius:4px}.chat-doc-manage-list-wrap .chat-doc-manage-list .flex{display:flex}.chat-doc-manage-list-wrap .chat-doc-manage-list .flex1{flex:1}.chat-doc-manage-list-wrap .chat-doc-manage-list .flex-warp{flex-wrap:wrap}.chat-doc-manage-list-wrap .chat-doc-manage-list .flex-direction-cloumn{flex-direction:column}.chat-doc-manage-list-wrap .chat-doc-manage-list .justify-content-between{justify-content:space-between}.chat-doc-manage-list-wrap .chat-doc-manage-list .justify-content-center{justify-content:center}.chat-doc-manage-list-wrap .chat-doc-manage-list .align-items-center{align-items:center}.chat-doc-manage-list-wrap .chat-doc-manage-list .align-content-between{align-content:space-between}.chat-doc-delete-confirm-dialog{width:366px;padding:22px}.chat-doc-delete-confirm-dialog .chat-doc-button{padding:0 16px;line-height:38px;border-radius:8px;border:1px solid rgb(109,95,253);background-color:#fff;font-size:12px;outline:none;font-weight:500;color:#6d5ffd;cursor:pointer;transition:all .2s}.chat-doc-delete-confirm-dialog .chat-doc-button:hover{border-color:#6d5ffd;background:#fff;color:#6d5ffd}.chat-doc-delete-confirm-dialog .chat-doc-button.primary{color:#fff;border-color:#6d5ffd;background-color:#6d5ffd}.chat-doc-delete-confirm-dialog .chat-doc-button.primary:hover{background-color:#6d5ffd}.chat-doc-delete-confirm-dialog .chat-doc-button.disable{cursor:not-allowed;border:none;background-color:#6d5ffd80}.chat-doc-delete-confirm-dialog .chat-doc-button.disable:hover{background-color:#6d5ffd80}.chat-doc-delete-confirm-dialog .chat-doc-button{padding:0 16px}.chat-doc-delete-confirm-dialog .el-message-box__headerbtn{top:12px;right:12px}.chat-doc-delete-confirm-dialog .el-message-box__content{padding-bottom:32px}.item-end{width:100%;text-align:center;padding:6px 0;color:#999;font-size:12px}.el-dialog.chat-doc-manage-modal{background-repeat:no-repeat;background-size:100% 100%;overflow:hidden;padding:0}.el-dialog.chat-doc-manage-modal .chat-doc-button{padding:0 16px;line-height:38px;border-radius:8px;border:1px solid rgb(109,95,253);background-color:#fff;font-size:12px;outline:none;font-weight:500;color:#6d5ffd;cursor:pointer;transition:all .2s}.el-dialog.chat-doc-manage-modal .chat-doc-button:hover{border-color:#6d5ffd;background:#fff;color:#6d5ffd}.el-dialog.chat-doc-manage-modal .chat-doc-button.primary{color:#fff;border-color:#6d5ffd;background-color:#6d5ffd}.el-dialog.chat-doc-manage-modal .chat-doc-button.primary:hover{background-color:#6d5ffd}.el-dialog.chat-doc-manage-modal .chat-doc-button.disable{cursor:not-allowed;border:none;background-color:#6d5ffd80}.el-dialog.chat-doc-manage-modal .chat-doc-button.disable:hover{background-color:#6d5ffd80}.el-dialog.chat-doc-manage-modal .dialog-footer button:first-child{margin-right:12px}.el-dialog.chat-doc-manage-modal .el-dialog__header{position:relative;height:74px;margin-right:0;padding-right:16px;background:linear-gradient(270deg,#ebf5ff,#efe3ff)}.el-dialog.chat-doc-manage-modal .el-dialog__header .my-header{position:absolute;padding:24px 24px 0;top:0;left:0;bottom:0;right:0;display:block;content:" ";background:linear-gradient(180deg,#fff0,#fff)}.el-dialog.chat-doc-manage-modal .el-dialog__footer{display:none}.el-dialog.chat-doc-manage-modal .footer-btns{display:block;padding:18px 0 24px;width:100%;text-align:right}.el-dialog.chat-doc-manage-modal .footer-btns button{margin-left:16px}.el-dialog.chat-doc-manage-modal .footer-btns button:first-child{margin-left:0}@media screen and (min-width: 769px){.scroll-bar-style:hover::-webkit-scrollbar-thumb,.el-dialog.chat-code-manage-modal .code-container:hover::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px #0000001a;background:#f7f7fc}.scroll-bar-style::-webkit-scrollbar,.el-dialog.chat-code-manage-modal .code-container::-webkit-scrollbar{width:5px;height:5px}.scroll-bar-style::-webkit-scrollbar-thumb,.el-dialog.chat-code-manage-modal .code-container::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 5px #0000;background:#0000}.scroll-bar-style::-webkit-scrollbar-track,.el-dialog.chat-code-manage-modal .code-container::-webkit-scrollbar-track{border-radius:10px;background:#0000}}.el-dialog.chat-code-manage-modal{background-repeat:no-repeat;background-size:100% 100%;overflow:hidden;padding:16px}.el-dialog.chat-code-manage-modal .chat-doc-button{padding:0 16px;line-height:38px;border-radius:8px;border:1px solid rgb(109,95,253);background-color:#fff;font-size:12px;outline:none;font-weight:500;color:#6d5ffd;cursor:pointer;transition:all .2s}.el-dialog.chat-code-manage-modal .chat-doc-button:hover{border-color:#6d5ffd;background:#fff;color:#6d5ffd}.el-dialog.chat-code-manage-modal .chat-doc-button.primary{color:#fff;border-color:#6d5ffd;background-color:#6d5ffd}.el-dialog.chat-code-manage-modal .chat-doc-button.primary:hover{background-color:#6d5ffd}.el-dialog.chat-code-manage-modal .chat-doc-button.disable{cursor:not-allowed;border:none;background-color:#6d5ffd80}.el-dialog.chat-code-manage-modal .chat-doc-button.disable:hover{background-color:#6d5ffd80}.el-dialog.chat-code-manage-modal .el-dialog__header{padding:0}.el-dialog.chat-code-manage-modal .el-dialog__header button{top:6px}.el-dialog.chat-code-manage-modal .el-dialog__body{padding:8px 0}.el-dialog.chat-code-manage-modal .code-radius{border-radius:8px;overflow:hidden}.el-dialog.chat-code-manage-modal .code-container{width:100%;height:416px;overflow:auto;position:relative;background:#1c1c28;display:flex;padding:16px 8px;box-sizing:border-box;font-size:12px;line-height:20px}.el-dialog.chat-code-manage-modal .code-container::-webkit-scrollbar{width:2px;height:2px}.el-dialog.chat-code-manage-modal .code-container .lines{min-width:32px}.el-dialog.chat-code-manage-modal .code-container .lines li{width:100%;text-align:center}.el-dialog.chat-code-manage-modal .code-container .code{min-width:calc(100% - 32px);min-height:100%;width:max-content;height:max-content;margin:0;display:block;outline:none;padding:0 0 0 8px;color:var(--color-text-desc);counter-reset:mycounter;white-space:pre;background:inherit;caret-color:#fc5531}.el-dialog.chat-code-manage-modal .code-container .code::-webkit-scrollbar{display:none}.el-dialog.chat-code-manage-modal .dialog-footer button:first-child{margin-right:12px}.el-dialog.chat-code-manage-modal .el-dialog__footer{display:none}.el-dialog.chat-code-manage-modal .footer-btns{display:block;padding:18px 0 0;width:100%;text-align:right}.el-dialog.chat-code-manage-modal .footer-btns .chat-doc-button{height:40px;border-radius:20px;padding:0 40px}.el-dialog.chat-code-manage-modal .footer-btns button{margin-left:16px}.el-dialog.chat-code-manage-modal .footer-btns button:first-child{margin-left:0}.chat-doc_upload-button-pro[data-v-6b8f6474]{position:relative;z-index:2;background-color:#fff;padding:10px;height:100%;border-radius:12px 12px 0 0}.chat-doc_upload-button-pro[data-v-6b8f6474]:after{content:"";position:absolute;bottom:0;left:10px;width:calc(100% - 20px);height:1px;background:#f2f2f5}.chat-doc_upload-button-pro button[data-v-6b8f6474]{width:max-content;max-width:50%;font-size:14px;height:24px;background-color:#6d5ffd0d;border:1px dashed rgba(109,95,253,.4);border-radius:4px;color:#6d5ffd;font-weight:500;text-align:center;display:flex;column-gap:4px;padding:0 6px 0 10px;align-items:center;box-sizing:border-box;cursor:pointer;overflow:hidden}.chat-doc_upload-button-pro button .doc-name[data-v-6b8f6474]{flex:1;text-align:left;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.chat-doc_upload-button-pro button .icon-close[data-v-6b8f6474]{padding:4px;line-height:10px;box-sizing:border-box}.chat-doc_upload-button-pro button .doc-icon[data-v-6b8f6474]{width:18px;height:18px;text-align:center}.dialog-linear-gradient-modal-fk{--el-overlay-color-lighter: rgba(0, 0, 0, .3)}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk{--el-dialog-padding-primary: 22px;border-radius:16px;padding:22px}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__header{padding:0}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__header .el-dialog__title{color:#000;font-size:18px;font-style:normal;font-weight:400;line-height:24px}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body{padding:22px 0}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body .dialog-linear-gradient-fk_content{position:relative}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body .dialog-linear-gradient-fk_content .fk_content—input{border-radius:8px;padding:0}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body .dialog-linear-gradient-fk_content .fk_content—input .fk_content—input-border{border-radius:8px;background-color:#fff;border:1px solid #ccccd8;transition:border-color .2s}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body .dialog-linear-gradient-fk_content .fk_content—input .fk_content—input-border:hover{border-color:#6d5ffd}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body .dialog-linear-gradient-fk_content .fk_content—input.is-focus{padding:1px;background:linear-gradient(135deg,#c77af4cc,#2f1bffcc)}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body .dialog-linear-gradient-fk_content .fk_content—input.is-focus .fk_content—input-border{border-radius:7px;border:none}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body .dialog-linear-gradient-fk_content .el-input{--el-input-height: 40px;--el-input-border-radius: 8px}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body .dialog-linear-gradient-fk_content .el-input .el-input__wrapper{box-shadow:none;border:none}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body .dialog-linear-gradient-fk_content .el-input .el-input__prefix .el-icon.el-input__icon{font-size:20px;color:#8f8fa6}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__body .dialog-linear-gradient-fk_content .error-tip{position:absolute;left:3px;top:44px;color:#fc5531;font-size:12px;font-style:normal;font-weight:400;line-height:24px}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer{padding:0}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .dialog-footer{line-height:0}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .gradient-button{height:30px;text-align:center;cursor:pointer;border-radius:8px;overflow:hidden;display:inline-block;background:#fff;border:1px solid #6d5ffd;color:#6d5ffd;box-sizing:border-box;margin-left:8px;font-size:0;-webkit-user-select:none;user-select:none}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .gradient-button .gradient-button_hover{background-color:transparent;width:100%;height:100%;padding:1px}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .gradient-button .gradient-button_hover .gradient-button_inner{background-color:#fff;border-radius:7px;height:100%;padding:0 16px}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .gradient-button .gradient-button_hover .gradient-button_inner span{-webkit-text-fill-color:#6d5ffd;color:#6d5ffd;background-clip:text;-webkit-background-clip:text;font-size:12px;line-height:28px;font-style:normal;font-weight:400}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .gradient-button:hover .gradient-button_hover{transition:all .2s}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .gradient-button:hover .gradient-button_hover .gradient-button_inner span{-webkit-text-fill-color:#6d5ffd;color:#6d5ffd;background:transparent}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .gradient-button.primary{background:linear-gradient(115.24deg,#bb89fa 2.14%,#635bff 96.77%);border:none}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .gradient-button.primary .gradient-button_hover .gradient-button_inner{background-color:transparent}.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .gradient-button.primary .gradient-button_hover .gradient-button_inner span,.dialog-linear-gradient-modal-fk .el-dialog.dialog-linear-gradient-fk .el-dialog__footer .gradient-button.primary:hover .gradient-button_hover .gradient-button_inner span{-webkit-text-fill-color:#fff;color:#fff;background:transparent}.chat-doc_upload-button-pro[data-v-29c9f342]{position:relative;z-index:2;background-color:#fff;padding:10px;height:100%;border-radius:12px 12px 0 0}.chat-doc_upload-button-pro[data-v-29c9f342]:after{content:"";position:absolute;bottom:0;left:10px;width:calc(100% - 20px);height:1px;background:#f2f2f5}.chat-doc_upload-button-pro button[data-v-29c9f342]{width:max-content;max-width:50%;font-size:14px;height:28px;background-color:#fff;border:1px solid #E8E8F0;box-shadow:0 0 8px #725dc724;border-radius:4px;color:#6d5ffd;font-weight:500;text-align:center;display:flex;column-gap:4px;padding:0 8px;align-items:center;box-sizing:border-box;overflow:hidden}.chat-doc_upload-button-pro button.disable .doc-name[data-v-29c9f342]{cursor:not-allowed}.chat-doc_upload-button-pro button .doc-name[data-v-29c9f342]{flex:1;text-align:left;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:1;color:#000;cursor:pointer;font-size:12px;font-weight:400}.chat-doc_upload-button-pro button .icon-close[data-v-29c9f342]{padding-left:4px;box-sizing:border-box;color:#999aaa;font-size:12px;font-style:normal;font-weight:400;cursor:pointer;line-height:1}.chat-doc_upload-button-pro button .icon-close[data-v-29c9f342]:hover{color:#555666}.chat-doc_upload-button-pro button .doc-icon[data-v-29c9f342]{width:18px;height:18px;text-align:center}.chat-doc_upload-button-pro[data-v-a088d3d5]{position:relative;z-index:2;background-color:#fff;padding:10px;height:100%;border-radius:12px 12px 0 0}.chat-doc_upload-button-pro[data-v-a088d3d5]:after{content:"";position:absolute;bottom:0;left:10px;width:calc(100% - 20px);height:1px;background:#f2f2f5}.chat-doc_upload-button-pro button[data-v-a088d3d5]{width:max-content;max-width:50%;font-size:14px;height:24px;background-color:#6d5ffd0d;border:1px dashed rgba(109,95,253,.4);border-radius:4px;color:#6d5ffd;font-weight:500;text-align:center;display:flex;column-gap:4px;padding:0 6px 0 10px;align-items:center;box-sizing:border-box;cursor:pointer;overflow:hidden}.chat-doc_upload-button-pro button .doc-name[data-v-a088d3d5]{flex:1;text-align:left;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.chat-doc_upload-button-pro button .icon-close[data-v-a088d3d5]{padding:4px;line-height:10px;box-sizing:border-box}.chat-doc_upload-button-pro button .doc-icon[data-v-a088d3d5]{width:18px;height:18px;text-align:center}.c-input-top button img.doc-icon[data-v-e98b4850]{width:16px;height:16px}#app .so-list-detail .main{overflow:inherit}.c-menu-fold{position:absolute;top:0;left:-32px;display:flex;width:32px;height:32px;padding:4px;justify-content:center;align-items:center;border-radius:15px 0 0 15px;background:#edeef7;cursor:pointer}.el-checkbox-group{font-size:0;line-height:0}.chat-search-feedback-popup-content[data-v-1fc11454]{padding:24px}.chat-search-feedback-popup-content-title[data-v-1fc11454]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.chat-search-feedback-popup-content-title span[data-v-1fc11454]{color:#222226;font-size:16px;font-weight:600;line-height:24px}.chat-search-feedback-popup-content-title img[data-v-1fc11454]{cursor:pointer;width:16px;height:16px}.chat-search-feedback-popup-content-checkbox[data-v-1fc11454]{margin-bottom:24px}.chat-search-feedback-popup-content-checkbox .checkbox-item[data-v-1fc11454]{display:flex;align-items:center;padding:6px 0;margin:8px 0}.chat-search-feedback-popup-content-checkbox .checkbox-item[data-v-1fc11454]:first-child{margin-top:0;padding-top:0}.chat-search-feedback-popup-content-checkbox .checkbox-item[data-v-1fc11454]:last-child{margin-bottom:0;padding-bottom:0}.chat-search-feedback-popup-content-checkbox .checkbox-item[data-v-1fc11454] .van-icon{border-radius:4px}.chat-search-feedback-popup-content-checkbox .checkbox-item .checkbox-item—label[data-v-1fc11454]{color:#222226;font-size:14px;font-weight:400;line-height:22px}.chat-search-feedback-popup-content-textarea[data-v-1fc11454]{margin-bottom:24px;width:100%;border-radius:12px;background:#f2f2f5;height:80px;box-sizing:border-box;resize:none;border:none;padding:10px;font-size:14px;font-weight:400;color:#222226}.chat-search-feedback-popup-content-textarea[data-v-1fc11454]::placeholder{color:#999aaa;font-size:14px;font-weight:400}.chat-search-feedback-popup-content button[data-v-1fc11454]{width:112px;border:none;color:#fff;padding:10px 0;height:40px;justify-content:center;align-items:center;border-radius:20px;background:#6d5ffd;transition:all .2s}.chat-search-feedback-popup-content button.disabled[data-v-1fc11454]{cursor:not-allowed;background:#6d5ffd66}.chat-search-feedback-popup-content button[data-v-1fc11454]:not(.disabled):active{background:#6d5ffdf2}.chat-search-feedback-popup-content .btn-cancel[data-v-1fc11454]{background:#fff;color:#555666;border:1px solid #CCCCD8;margin-right:12px}.chat-search-feedback-popup[data-v-50742eb8]{--van-popup-round-radius: 12px}.chat-search-feedback-popup[data-v-50742eb8] .el-dialog .el-dialog__header{display:none}.chat-search-feedback-popup[data-v-50742eb8] .el-dialog .el-dialog__body{padding:0!important}@media screen and (min-width: 769px){.scroll-bar-style[data-v-b406abd4]:hover::-webkit-scrollbar-thumb,.new-version-dialog .content ul[data-v-b406abd4]:hover::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px #0000001a;background:#f7f7fc}.scroll-bar-style[data-v-b406abd4]::-webkit-scrollbar,.new-version-dialog .content ul[data-v-b406abd4]::-webkit-scrollbar{width:5px;height:5px}.scroll-bar-style[data-v-b406abd4]::-webkit-scrollbar-thumb,.new-version-dialog .content ul[data-v-b406abd4]::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 5px #0000;background:#0000}.scroll-bar-style[data-v-b406abd4]::-webkit-scrollbar-track,.new-version-dialog .content ul[data-v-b406abd4]::-webkit-scrollbar-track{border-radius:10px;background:#0000}}.new-version-dialog[data-v-b406abd4]{position:absolute;background:#00000026;width:100%;height:100%;top:0;left:0;z-index:99;display:flex;justify-content:center;align-items:center}.new-version-dialog .content[data-v-b406abd4]{width:640px;height:380px;transform:translateY(-10%);background:#fff url(https://cdn-static-devbit.csdn.net/ai100/chat/imgs/new-version-bg.png) right/contain no-repeat;padding:24px;box-sizing:border-box;border-radius:12px;overflow:hidden}.new-version-dialog .content h1[data-v-b406abd4]{font-size:24px;margin:0;color:var(--color-text-primary);display:flex;justify-content:space-between;align-items:flex-start;font-weight:700}.new-version-dialog .content h1 .icon-close[data-v-b406abd4]{color:#c4c4c8;font-size:24px;font-weight:400;cursor:pointer}.new-version-dialog .content h2[data-v-b406abd4]{font-size:18px;margin:40px 0 24px;font-weight:700;color:var(--color-text-content)}.new-version-dialog .content ul[data-v-b406abd4]{font-size:14px;width:260px;height:144px;overflow-y:auto;display:flex;flex-direction:column;row-gap:8px;list-style:decimal;color:var(--color-text-content)}.new-version-dialog .content ul .note-index[data-v-b406abd4]{display:inline-block;width:24px}.new-version-dialog .content .button[data-v-b406abd4]{font-size:14px;width:146px;height:42px;font-weight:400;line-height:42px;border-radius:42px;display:block;cursor:pointer;text-align:center;box-sizing:border-box;background:#6d5ffd;color:#fff;margin-top:24px}.role-card[data-v-9279235b]{width:160px;height:258px;background:#f8f8f8;border-radius:8px;overflow:hidden;border:1px solid #f2f2f5;box-sizing:border-box;position:relative}.role-card:hover .mask[data-v-9279235b]{opacity:1}.role-card .mask[data-v-9279235b]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0000004d;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity .3s;z-index:9}.role-card .mask .use-button[data-v-9279235b]{width:96px;height:36px;line-height:36px;color:#fff;font-size:12px;text-align:center;background:#6d5ffd;border-radius:20px;cursor:pointer;font-weight:500}.role-card .mask .use-button.vip[data-v-9279235b]{background:linear-gradient(140.62deg,#e2b1ff 5.23%,#6e60fd 97.15%)}.role-card .role-avatar[data-v-9279235b]{width:160px;height:160px}.role-card .role-star[data-v-9279235b]{width:32px;height:32px;position:absolute;top:0;right:0;z-index:8}.role-card .role-info[data-v-9279235b]{font-size:12px;color:var(--color-text-desc);padding:8px 12px;box-sizing:border-box}.role-card .role-info .role-title[data-v-9279235b]{font-weight:600;font-size:16px;height:22px;line-height:22px;color:var(--color-text-primary)}.role-card .role-info .role-desc[data-v-9279235b]{display:-webkit-box;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;margin:4px 0 8px;min-height:32px}.role-card .role-info .role-data[data-v-9279235b]{display:flex;justify-content:space-between;align-items:center}.role-card .role-info .role-data span[data-v-9279235b]{display:flex;align-items:center;column-gap:4px}@media screen and (min-width: 769px){.scroll-bar-style[data-v-6d10396e]:hover::-webkit-scrollbar-thumb,.directive-center[data-v-6d10396e]:hover::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px #0000001a;background:#f7f7fc}.scroll-bar-style[data-v-6d10396e]::-webkit-scrollbar,.directive-center[data-v-6d10396e]::-webkit-scrollbar{width:5px;height:5px}.scroll-bar-style[data-v-6d10396e]::-webkit-scrollbar-thumb,.directive-center[data-v-6d10396e]::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 5px #0000;background:#0000}.scroll-bar-style[data-v-6d10396e]::-webkit-scrollbar-track,.directive-center[data-v-6d10396e]::-webkit-scrollbar-track{border-radius:10px;background:#0000}}.ske[data-v-6d10396e]{display:flex;gap:16px;height:258px}.ske .ske-item[data-v-6d10396e]{flex:1;height:100%}.ske-2[data-v-6d10396e]{display:grid;grid-template-columns:repeat(3,33.33%);grid-template-rows:repeat(3,33.33%);grid-row-gap:15px;grid-column-gap:15px}.ske-2 .ske-2-item[data-v-6d10396e]{height:108px}.directive-center[data-v-6d10396e]{overflow-x:hidden;overflow-y:auto;height:calc(100% - 25px);background:linear-gradient(180deg,#fff,#fbfbfc,#fff 80%,#fafbff);border-radius:0 16px 16px 0}.directive-center .content[data-v-6d10396e]{position:relative;box-sizing:border-box;padding:24px;width:1084px;margin:0 auto}.directive-center .content .roles[data-v-6d10396e]{height:306px}.directive-center .content .roles:hover .arrow[data-v-6d10396e]{opacity:1}.directive-center .content .roles+.title[data-v-6d10396e]{margin-top:24px}.directive-center .title[data-v-6d10396e]{font-size:16px;font-weight:600;height:40px;line-height:40px;color:var(--color-text-primary);margin-bottom:8px;padding-left:12px;box-sizing:border-box}.directive-center .arrow[data-v-6d10396e]{position:absolute;top:182px;z-index:99;width:32px;height:32px;cursor:pointer;color:#f2f2f5;opacity:0;transition:opacity .3s}.directive-center .arrow.l[data-v-6d10396e]{left:8px}.directive-center .arrow.r[data-v-6d10396e]{right:8px}.directive-center .arrow.disabled[data-v-6d10396e]{cursor:not-allowed;color:#f2f2f566}.directive-center .scroll-wrapper[data-v-6d10396e]{width:100%;overflow:hidden;position:relative}.directive-center .role-list[data-v-6d10396e]{display:flex;justify-content:space-between;width:max-content;column-gap:16px}.directive-center .directive-list[data-v-6d10396e]{display:flex;flex-wrap:wrap;gap:16px}.directive-center .directive-list .directive-card[data-v-6d10396e]{background:#f8f8f8}.tools-wrap[data-v-6c9cc989]{display:flex;flex-direction:column;width:100%;margin:0 auto;height:100%;overflow:hidden;height:calc(100% - 25px);background:#fff;border-radius:0 16px 16px 0}.ske-nav[data-v-6c9cc989]{height:44px;margin:24px auto 20px;max-width:1036px;width:100%}.ske[data-v-6c9cc989]{max-width:1036px;margin:0 auto;display:grid;grid-template-columns:repeat(4,24%);grid-row-gap:12px;grid-column-gap:15px;width:100%}.ske .ske-item[data-v-6c9cc989]{height:92px}.c-chat-floating-bubble-pc{position:absolute;background-color:transparent;line-height:0;right:38px;bottom:150px}.c-chat-floating-bubble-pc img{cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.c-chat-floating-bubble-pc .close-o{cursor:pointer;position:absolute;top:-10px;right:-16px;padding:4px;width:16px;height:16px;box-sizing:content-box;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJxSURBVHgBzVc7biJBEK1pEILMOQRjiYBsZ0/g3RAiOMHuDbw3sLkBewP7BDgBJBLWF0BekRAg7SQkJGuJgI8EuF57BpnW9AfMWH5Suz1MTb3q6uqqao8c0W63L3K5XF0IcbXb7QKefZ4v8M7zvOftdhvy/MTz43q9fmg0Gs8uej2bQK/XA9E1E/6MCR1xx6NZrVZDOsUArLhQKNww6S96B9grrcVi0dR5JNEArJqnAQ+fzoOQx/ckbwj1h36/H5yZnCJdg06nE6gvDjyQwspVhKR4Yu8B7HnK5BTpHkRchwYg4Chd8r0REZeE3ILI9f+SpCuVCvm+T5PJRA4XlMtlOcbjMYVhqBO7xFbEHrjRSZVKpQOlruRAsVjUynHCksfbw37k8/n/OkGsHl6IYfKEauRwOKTZbJYoi+zJ+eFSMHmdDIAL3xLqPKH+PhqNtOQAsqpM7fz/FVmgrlolSyKfTqc2tYS6kkVhYXdYhWMDYiLVgGPJAeYNslFVc/rAZMSx5BF8cWSF0wbhCeQyDgSdCZxc6BQIHIdjPnA9BS4At0An4/pBUrS7HFEDwiz/+csjsEnajpoamC5pm2PgCVvwxyZoI7flCR3QP4rlcvlgigPXJJNkBNK4CWheBXo1tuTeZICNXGeEqRgx7sAtjyEaR5NSLhqysLic89iI+Xxuk29K7vip2+222JBr+gBw8P2u1WqyHO8T0Wq1uqXXni1thBGXxOdpSgG8yGQyDUrHE1K3ejf4fBcTAIKcH74iWOidgA7o0t0RXS+nt3xCfpAjkNg2m8099xqtky+nKqLmtc7GfOPHL7rrOT8+Iru6Xs9fAKmCejuXEzPtAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:16px;background-position:50%}.c-chat-floating-bubble-pc .close-o:hover{opacity:.9}#btnChatMove{position:absolute;border:none;background-color:transparent;display:flex;align-items:center;top:50%;left:0;transform:translate(-50%,-50%);height:100px;cursor:col-resize;z-index:2003}#btnChatMove img{width:24px}.chat-room{height:100%}.chat-wrapper,.el-popper{--color-text-primary: rgba(0, 0, 0, .9);--color-text-desc: rgba(0, 0, 0, .65);--color-text-content: rgba(0, 0, 0, .85);--color-text-empty: rgba(0, 0, 0, .45);--color-menu-bg: rgba(255, 255, 255, .7);--color-box-shadow: rgba(0, 0, 0, .08);--color-input-border: rgba(0, 0, 0, .1);--color-text-active: #574ff5;--color-menu-active-bg: #fafafc;--color-input-bg: #fff;--color-border: rgba(0, 0, 0, .25);--color-border-message: #f0f0f5;--color-btn-bg: #fff;--color-main-bg: #fff;--color-sug-bg: #fff;--color-sug-active-bg: #f6f7fb;--color-message-bg-left: rgba(39, 124, 204, .1);--color-message-bg-right: #faf6ee;--color-mask-text: rgba(0, 0, 0, .07)}.el-checkbox{--el-checkbox-checked-icon-color: #6d5ffd;--el-checkbox-checked-input-border-color: #6d5ffd;--el-checkbox-input-border-color-hover: #6d5ffd;--el-checkbox-checked-bg-color: #fff}.el-checkbox__input.is-checked .el-checkbox__inner{border-color:var(--el-checkbox-input-border-color-hover)}.el-popper{--el-popper-border-radius: var(--el-popover-border-radius, 12px)}.el-scrollbar{border-radius:12px}:root{--el-box-shadow-light: 0px 2px 10px 0px rgba(0, 0, 0, .1);--el-color-primary: #6d5ffd}.el-button{--el-button-hover-text-color: #fff}.el-button--primary,:hover{--el-button-hover-bg-color: #6d5ffd;--el-button-hover-border-color: #6d5ffd;--el-button-active-bg-color: #6d5ffd;--el-button-active-border-color: #6d5ffd}.el-button:hover{color:var(--el-button-text-color);border-color:var(--el-border-color);background-color:inherit;outline:0}.el-button--primary:hover{color:#fff;border-color:var(--el-button-hover-border-color);background-color:var(--el-button-hover-bg-color);outline:0}.el-button.is-round{padding-left:34px;padding-right:34px}.el-skeleton{--el-skeleton-color: rgba(0, 0, 0, .05)}.el-slider{--el-slider-button-wrapper-size: 22px;--el-slider-button-wrapper-offset: -8.5px}@media screen and (min-width: 769px){.scroll-bar-style:hover::-webkit-scrollbar-thumb{box-shadow:inset 0 0 5px #0000001a;background:#f7f7fc}.scroll-bar-style::-webkit-scrollbar{width:5px;height:5px}.scroll-bar-style::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 5px #0000;background:#0000}.scroll-bar-style::-webkit-scrollbar-track{border-radius:10px;background:#0000}}body{margin:0}*{box-sizing:border-box}.relative{position:relative}.flex{display:flex}.flex-1{flex:1;min-width:0;overflow:hidden}.gap-y-8,.gap-x-8{column-gap:8px}.gap-x-4{column-gap:4px}.font-16{font-size:16px}.align-item,.align-center{align-items:center}.justify-between{justify-content:space-between}.el-popper.el-popover.chat-footer-popover{width:320px!important;height:60px;border-radius:12px}.flex-center{display:flex;justify-content:center;align-items:center}.flex-center .list-content{min-height:auto!important}.inline-block{display:inline-block}#chat-pro{border-radius:2px}#chat-pro .em{display:inline-block;color:#fff;border-radius:50%;width:16px;height:16px;text-align:center;line-height:16px;font-size:12px;font-style:normal!important;background:var(--color-text-content);margin-left:3px}@media screen and (min-width: 769px){#chat-pro .fixheader{height:calc(100vh - 126px)}}@media screen and (max-width: 768px){#chat-pro .fixheader{min-height:100vh}}#chat-pro [disabled=true]{cursor:not-allowed}#chat-pro .line-2{word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}#chat-pro .line{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media screen and (max-width: 768px){#chat-pro .m-hide{display:none!important}}@media screen and (min-width: 769px){#chat-pro .m-show{display:none!important}}@media screen and (max-width: 768px){#chat-pro .m-show{display:block!important}}#chat-pro .chat-toast-message{position:absolute;background:#00000080!important;border:none;opacity:1}#chat-pro .chat-toast-message .el-message__icon,#chat-pro .chat-toast-message .el-message__content{color:#fff}#chat-pro .el-overlay.is-message-box{position:absolute;background:#00000026}#chat-pro .el-overlay.is-message-box .el-overlay-message-box{position:absolute}#chat-pro .el-overlay.is-message-box .el-overlay-message-box .el-message-box{padding:24px;vertical-align:baseline}#chat-pro .el-overlay.is-message-box .el-overlay-message-box .el-message-box .el-message-box__header{width:100%;padding:0;font-size:18px;color:var(--color-text-primary);display:flex;align-items:center;justify-content:space-between}#chat-pro .el-overlay.is-message-box .el-overlay-message-box .el-message-box .el-message-box__header .el-message-box__headerbtn{position:static;height:20px;width:20px}#chat-pro .el-overlay.is-message-box .el-overlay-message-box .el-message-box .el-message-box__header .el-message-box__headerbtn .el-message-box__close{font-size:20px}#chat-pro .el-overlay.is-message-box .el-overlay-message-box .el-message-box .el-message-box__header .el-message-box__headerbtn .el-message-box__close:hover{color:var(--color-text-primary)}#chat-pro .el-overlay.is-message-box .el-overlay-message-box .el-message-box .el-message-box__content{font-size:14px;padding:18px 0;color:var(--color-text-primary)}#chat-pro .el-overlay.is-message-box .el-overlay-message-box .el-message-box .el-message-box__btns .el-button{width:96px;height:32px;border-radius:18px;border:1px solid #e8e8ed;color:#555666;font-size:14px;background:#fff;outline:none}#chat-pro .el-overlay.is-message-box .el-overlay-message-box .el-message-box .el-message-box__btns .el-button:hover{border:1px solid #999aaa}#chat-pro .el-overlay.is-message-box .el-overlay-message-box .el-message-box .el-message-box__btns .el-button.el-button--primary{background:#fc5531;border:none;color:#fff}#chat-pro .el-overlay.is-message-box .el-overlay-message-box .el-message-box .el-message-box__btns .el-button.el-button--primary:hover{background:#fc1944}.el-dialog{border-radius:8px;overflow:hidden}.el-dialog__headerbtn:hover .el-dialog__close{color:inherit}.flex-end{justify-content:flex-end}.el-overlay .el-dialog__header{background:#fff}.c-input-top{position:relative;z-index:2;background-color:#fff;padding:10px;height:100%;border-radius:16px 16px 0 0}.c-input-top:after{content:"";position:absolute;bottom:0;left:10px;width:calc(100% - 20px);height:1px;background:#f2f2f5}.c-input-top button{display:flex;border-radius:4px;border:1px solid #e8e8f0;background:#fff;box-shadow:0 0 8px #725dc724;column-gap:4px;padding:4px 8px;align-items:center;box-sizing:border-box;cursor:pointer;overflow:hidden;min-width:174px;font-size:12px}.c-input-top button .doc-name{flex:1;text-align:left;max-width:230px;width:100%;align-items:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.c-input-top button .doc-name.name-status{display:flex;color:#6d5ffd}.c-input-top button .doc-name.name-status.fail{color:#fc1944}.c-input-top button .doc-status{height:12px;margin-left:6px;color:#000}.c-input-top button .doc-status img{width:12px;height:12px;overflow:hidden}.c-input-top button .icon-close{margin-left:40px;box-sizing:border-box;color:#999aaa}.c-input-top button .icon-close:hover{color:#555}.c-input-top button .doc-icon{width:18px;height:18px;text-align:center}.c-input-top .reUpload{box-sizing:border-box;color:#6d5ffd}.c-input-top .space{margin-right:4px;box-sizing:border-box;color:#999aaa!important}:root{font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#c_chat .chat-drawer.el-overlay{background-color:transparent}#c_chat .el-drawer__body{padding:0}#c_chat .el-drawer{overflow:initial}.chat-wrapper{position:relative;height:100%;width:100%;font-size:14px;background-color:#fff}.chat-wrapper .chat-inner{position:relative;display:flex;height:100%;width:100%;overflow-x:auto;background:linear-gradient(180deg,#e1e2f6cc,#f5e7fecc)}.chat-wrapper .chat-right{position:relative;padding-top:12px;padding-right:12px;display:flex;flex-direction:column;flex:1;height:100%;overflow:hidden;min-width:890px}.chat-wrapper .chat-mask{flex:1;overflow:hidden}.chat-wrapper .chat-main{display:flex;flex-direction:column;position:relative;flex:1;background:#fff;border-radius:0 10px 10px 0;height:calc(100% - 25px);max-width:100%;padding:40px calc((100% - 878px)/2) 12px}.chat-wrapper .welcome{display:flex;flex-direction:column;justify-content:center;flex:1;margin:0 auto;width:100%;padding-bottom:12%}.chat-wrapper .welcome .slogan{display:flex;align-items:center;justify-content:center;text-align:center}.chat-wrapper .welcome .slogan .c-logo{height:48px;margin-bottom:16px;fill:none}.chat-wrapper .welcome .slogan .title{font-size:24px;font-weight:400;color:var(--color-text-primary);font-family:PingFang SC}.chat-wrapper .welcome .slogan .desc{width:100%;margin:0 auto;padding-top:8px}.chat-wrapper .welcome+.input-bar{width:878px;position:absolute;bottom:12px;left:50%;transform:translate(-50%);margin-top:0}.chat-wrapper .chat-bottom{padding:4px 0;text-align:center;color:#ccccd8;font-size:12px}.chat-wrapper .chat-bottom a{color:#ccccd8;text-decoration:none;line-height:16px}.chat-wrapper .chat-bottom a:hover{color:#555666;text-decoration:underline}.chat-wrapper .btn{cursor:pointer}.chat-wrapper .c-icon{width:16px;height:16px;cursor:pointer}.chat-wrapper .actions{margin-top:10px;display:flex;align-items:center;justify-content:space-between}.chat-btn{height:32px;font-size:14px}.vip-btn{width:100%;cursor:pointer;border-radius:16px;background:linear-gradient(141deg,#e2b1ff 5.23%,#6e60fd 97.15%);text-align:center;border-width:0px;color:#fff;padding:4px 12px}.model-wraper{position:absolute!important;left:50%;top:0;transform:translate(-50%);z-index:88}.model-wraper .model-setting{display:inline-flex;padding:6px 10px;justify-content:center;align-items:center;gap:4px;border-radius:0 0 12px 12px;background:#e4e7ff;color:var(--color-text-primary);cursor:pointer;font-weight:500}.el-message{min-width:10px}.msg-left{white-space:pre-wrap}.hidden{opacity:0;display:none;width:0;height:0}.empty-text{color:var(--color-text-empty);font-size:12px}.el-popper.is-dark .el-popper__arrow:before{border:1px solid var(--el-text-color-primary)!important;background:var(--el-text-color-primary)!important}.c-scrollbar-style:hover::-webkit-scrollbar-thumb{background:#00000026;cursor:pointer}.c-scrollbar-style::-webkit-scrollbar{width:8px;height:8px}.c-scrollbar-style::-webkit-scrollbar-thumb{border-radius:10px;background:#0000;opacity:0;transition:all .2s}.c-scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background:#0000}body,.chat-pro-share{background-color:#f5f6f7}.chat-pro-share{--share-padding: 24px;max-width:1080px;height:100vh;margin:0 auto}.chat-pro-share *{box-sizing:border-box}.chat-pro-share.wap{--share-padding: 16px}.chat-pro-share.wap .chat-share-view{padding-top:64px}.chat-pro-share.wap .chat-share-view__header span{font-size:15px}.chat-pro-share.wap .chat-share-view__header .primary-btn{font-size:15px;padding:0 14px;height:36px;line-height:36px}.chat-pro-share .chat-share-view{position:relative;overflow:hidden;width:100%;padding-top:72px;padding-bottom:48px;height:100%}.chat-pro-share .chat-share-view__header{position:fixed;top:0;width:100%;background-color:#f5f6f7;max-width:1080px;left:50%;transform:translate(-50%);padding:var(--share-padding) var(--share-padding) 8px;display:flex;justify-content:space-between;align-items:center}.chat-pro-share .chat-share-view__header span{color:#000;font-size:16px;font-style:normal;font-weight:600;line-height:28px}.chat-pro-share .chat-share-view__header a.primary-btn{padding:0 24px;height:40px;text-align:center;line-height:40px;flex-shrink:0;cursor:pointer;font-size:16px;border:none;font-weight:600;color:#fff;border-radius:20px;background:#6d5ffd}.chat-pro-share .chat-share-view__header a.primary-btn:hover{opacity:.9}.chat-pro-share .chat-share-view__content{background-color:#fff;border-radius:16px;margin:0 var(--share-padding);height:100%;position:relative}.chat-pro-share .chat-share-view__content_inner{height:100%;overflow-y:auto}.chat-pro-share .chat-share-view__content_inner .share-preview .share-preview-inner{padding:16px var(--share-padding)}.chat-pro-share .chat-share-view__content .slide-down-btn{cursor:pointer;position:absolute;bottom:18px;left:0;right:0;margin:auto;width:32px;height:32px;border-radius:50%;background-color:#fff;box-shadow:0 0 16px #0000004d;display:flex;align-items:center;justify-content:center;font-size:18px;color:#333}.chat-pro-share .chat-share-view__content p{margin:0;padding:0 0 4px}.chat-pro-share .chat-share-view__footer{position:fixed;bottom:0;left:0;width:100%;background-color:#f5f6f7;height:48px;line-height:48px;padding:0;text-align:center}.chat-pro-share .chat-share-view__footer span{display:inline-block;color:#ccccd8;text-align:center;font-size:12px;font-weight:400;line-height:16px}
 </style>
 <link href="https://csdnimg.cn/public/sandalstrap/1.4/css/sandalstrap.min.css" rel="stylesheet" type="text/css"/>
 <style>
  .MathJax, .MathJax_Message, .MathJax_Preview{
            display: none
        }
 </style>
 <link href="https://g.csdnimg.cn/common/csdn-toolbar/csdn-toolbar-default.css" rel="stylesheet" type="text/css"/>
 <link href="https://g.csdnimg.cn/collection-box/2.1.2/collection-box.css" rel="stylesheet" type="text/css"/>
 <link href="https://g.csdnimg.cn/user-tooltip/2.6/user-tooltip.css" rel="stylesheet" type="text/css"/>
 <link href="https://g.csdnimg.cn/common/redpack/redpack.css" rel="stylesheet" type="text/css"/>
 <style>
 </style>
 <style type="text/css">
  .hljs-ln{border-collapse:collapse}            .hljs-ln td{padding:0}            .hljs-ln-n{text-align: right;padding-right: 8px;}            .hljs-ln-n:before{content:attr(data-line-number)}
 </style>
 <style type="text/css">
  pre{position: relative}pre:hover .code-full-screen{display:none !important;}.code-full-screen{display: none !important;position: absolute;right: 4px;top: 3px;width: 24px !important;height: 24px !important;margin: 4px !important;z-index: 20;}pre:hover .hljs-button{display: block}.hljs-button{display: none;position: absolute;right: 4px;top: 4px;font-size: 12px;color: #ffffff;background-color: #9999AA;width:58px;text-align: center;padding:2px 0;z-index: 20;margin: 8px;border-radius: 4px;cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.05), 0 2px 4px rgba(0,0,0,0.05);}.hljs-button:after{content: attr(data-title)}code .hljs-button{margin: 2px 8px;}
 </style>
 <link href="https://g.csdnimg.cn/user-accusation/1.0.5/user-accusation.css" rel="stylesheet" type="text/css"/>
 <link href="https://g.csdnimg.cn/order-payment/4.0.5/order-payment.css" rel="stylesheet" type="text/css"/>
 <link href="https://g.csdnimg.cn/side-toolbar/3.5/side-toolbar.css" rel="stylesheet" type="text/css"/>
 <link href="https://g.csdnimg.cn/user-login/3.0.0/user-login.css" rel="stylesheet" type="text/css"/>
 <style type="text/css">
  .MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
 </style>
 <style type="text/css">
  #MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
 </style>
 <style type="text/css">
  .MathJax_Preview .MJXf-math {color: inherit!important}
 </style>
 <style type="text/css">
  .MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
 </style>
 <style type="text/css">
  #MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
 </style>
 <style type="text/css">
  .MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
 </style>
 <style type="text/css">
  .MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
 </style>
 <style type="text/css">
  * { user-select: text; }
 </style>
</head>
<body class="nodata" style="">
 <div id="MathJax_Message" style="display: none;">
 </div>
 <link href="https://csdnimg.cn/release/blogv2/dist/pc/css/blog_code-01256533b5.min.css" rel="stylesheet"/>
 <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/chart-3456820cac.css" rel="stylesheet"/>
 <link href="https://g.csdnimg.cn/lib/swiper/6.0.4/css/swiper.css" rel="stylesheet"/>
 <div class="main_father clearfix d-flex justify-content-center" style="height:100%;">
  <div class="container clearfix" id="mainBox">
   <main>
    <div class="blog-content-box">
     <div class="article-header-box">
      <div class="article-header">
       <div class="article-title-box">
        <h1 class="title-article" id="articleContentId">
         YOLOv11改进 | 主干/Backbone篇 | 视觉变换器SwinTransformer目标检测网络（ 适配yolov11全系列模型）
        </h1>
       </div>
       <div class="article-info-box">
        <div class="article-bar-top">
         <img alt="" class="article-type-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png"/>
         <div class="bar-content">
          <a class="follow-nickName vip-name" href="https://snu77.blog.csdn.net" rel="noopener" target="_blank" title="Snu77">
           Snu77
          </a>
          <img alt="" class="article-time-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newUpTime2.png"/>
          <span class="time">
           已于 2024-11-02 19:55:43 修改
          </span>
          <div class="read-count-box">
           <img alt="" class="article-read-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png"/>
           <span class="read-count">
            阅读量1.2k
           </span>
           <a class="un-collection" data-report-click='{"mod":"popu_823","spm":"1001.2101.3001.4232","ab":"new"}' id="blog_detail_zk_collection">
            <img alt="" class="article-collect-img article-heard-img un-collect-status isdefault" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect2.png" style="display:inline-block"/>
            <img alt="" class="article-collect-img article-heard-img collect-status isactive" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollectionActive2.png" style="display:none"/>
            <span class="name">
             收藏
            </span>
            <span class="get-collection" style="color: rgb(153, 154, 170);">
             32
            </span>
           </a>
           <div class="read-count-box is-like">
            <img alt="" class="article-read-img article-heard-img" id="is-like-imgactive-new" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2023Active.png" style="display:none"/>
            <img alt="" class="article-read-img article-heard-img" id="is-like-img-new" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2023Black.png" style="display:block"/>
            <span class="read-count" id="blog-digg-num">
             点赞数
                            24
            </span>
           </div>
          </div>
         </div>
        </div>
        <div class="blog-tags-box">
         <div class="tags-box artic-tag-box">
          <span class="label">
           分类专栏：
          </span>
          <a class="tag-link" href="https://blog.csdn.net/java1314777/category_12798080.html" rel="noopener" target="_blank">
           YOLOv11有效涨点专栏
          </a>
          <span class="label">
           文章标签：
          </span>
          <a class="tag-link" data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"YOLO","ab":"new","extra":"{\"searchword\":\"YOLO\"}"}' data-report-query="spm=1001.2101.3001.4223" href="https://so.csdn.net/so/search/s.do?q=YOLO&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" rel="nofollow" target="_blank">
           YOLO
          </a>
          <a class="tag-link" data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"目标检测","ab":"new","extra":"{\"searchword\":\"目标检测\"}"}' data-report-query="spm=1001.2101.3001.4223" href="https://so.csdn.net/so/search/s.do?q=%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" rel="nofollow" target="_blank">
           目标检测
          </a>
          <a class="tag-link" data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"深度学习","ab":"new","extra":"{\"searchword\":\"深度学习\"}"}' data-report-query="spm=1001.2101.3001.4223" href="https://so.csdn.net/so/search/s.do?q=%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" rel="nofollow" target="_blank">
           深度学习
          </a>
          <a class="tag-link" data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"计算机视觉","ab":"new","extra":"{\"searchword\":\"计算机视觉\"}"}' data-report-query="spm=1001.2101.3001.4223" href="https://so.csdn.net/so/search/s.do?q=%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" rel="nofollow" target="_blank">
           计算机视觉
          </a>
          <a class="tag-link" data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"人工智能","ab":"new","extra":"{\"searchword\":\"人工智能\"}"}' data-report-query="spm=1001.2101.3001.4223" href="https://so.csdn.net/so/search/s.do?q=%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" rel="nofollow" target="_blank">
           人工智能
          </a>
          <a class="tag-link" data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"python","ab":"new","extra":"{\"searchword\":\"python\"}"}' data-report-query="spm=1001.2101.3001.4223" href="https://so.csdn.net/so/search/s.do?q=python&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" rel="nofollow" target="_blank">
           python
          </a>
          <a class="tag-link" data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"YOLOv11","ab":"new","extra":"{\"searchword\":\"YOLOv11\"}"}' data-report-query="spm=1001.2101.3001.4223" href="https://so.csdn.net/so/search/s.do?q=YOLOv11&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" rel="nofollow" target="_blank">
           YOLOv11
          </a>
          <a class="tag-link" data-report-click='{"mod":"popu_626","spm":"1001.2101.3001.4223","strategy":"1024程序员节","ab":"new","extra":"{\"searchword\":\"1024程序员节\"}"}' data-report-query="spm=1001.2101.3001.4223" href="https://so.csdn.net/so/search/s.do?q=1024%E7%A8%8B%E5%BA%8F%E5%91%98%E8%8A%82&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" rel="nofollow" target="_blank">
           1024程序员节
          </a>
         </div>
        </div>
        <div class="up-time">
         <span>
          于 2024-10-24 22:45:32 首次发布
         </span>
        </div>
        <div class="slide-content-box">
         <div class="article-copyright">
          <div class="creativecommons">
           版权声明：本文为博主原创文章，遵循
           <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="noopener" target="_blank">
            CC 4.0 BY-SA
           </a>
           版权协议，转载请附上原文出处链接和本声明。
          </div>
          <div class="article-source-link">
           本文链接：
           <a href="https://blog.csdn.net/java1314777/article/details/143100866" target="_blank">
            https://blog.csdn.net/java1314777/article/details/143100866
           </a>
          </div>
         </div>
        </div>
        <div class="operating">
         <a class="href-article-edit slide-toggle">
          版权
         </a>
        </div>
       </div>
      </div>
     </div>
     <div id="blogColumnPayAdvert">
      <div class="column-group">
       <div class="column-group-item column-group0 column-group-item-one">
        <div class="item-l">
         <a class="item-target" data-report-click='{"spm":"1001.2101.3001.6332"}' href="https://blog.csdn.net/java1314777/category_12798080.html" target="_blank" title="YOLOv11有效涨点专栏">
          <img alt="" class="item-target" src="https://i-blog.csdnimg.cn/direct/fe617a18fa1a4cf0a6d7a0d8f8a93070.png?x-oss-process=image/resize,m_fixed,h_224,w_224"/>
          <span class="title item-target">
           <span>
            <span class="tit">
             YOLOv11有效涨点专栏
            </span>
            <span class="dec">
             专栏收录该内容
            </span>
           </span>
          </span>
         </a>
        </div>
        <div class="item-m">
         <span>
          100 篇文章
         </span>
         <span>
          7 订阅
         </span>
         <span class="old-add-new-box">
          <span class="price">
           ¥159.90
          </span>
          <span class="oldprice">
           ¥299.90
          </span>
         </span>
        </div>
        <div class="item-r">
         <a class="item-target article-column-subscribe">
          已订阅
         </a>
         <a class="item-target column-studyvip-discount column-studyvip-pass" data-report-click='{"spm":"1001.2015.3001.8590"}'>
          8折续费
         </a>
        </div>
       </div>
      </div>
     </div>
     <div class="learning_the_member_box">
      <a href="https://www.csdn.net/vip?utm_source=bkzl_cjhy_ckqy" target="_blank">
       <div class="left">
        <img alt="" src="https://csdnimg.cn/release/blogv2/dist/pc/img/iconVIpCrown.png"/>
        <span>
         您已是超级会员，正在免费阅读会员专享内容
        </span>
       </div>
       <div class="right">
        <span>
         查看更多超级会员权益
        </span>
        <img alt="" src="https://csdnimg.cn/release/blogv2/dist/components/img/vipIconArrowLeftWhite.png"/>
       </div>
      </a>
     </div>
     <article class="baidu_pl">
      <div class="article_content clearfix" id="article_content">
       <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
       <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
       <div class="htmledit_views" id="content_views">
        <h2 id="%E4%B8%80%E3%80%81%E6%9C%AC%E6%96%87%E4%BB%8B%E7%BB%8D" style="background-color:transparent;">
         <a name="t0">
         </a>
         一、本文介绍
        </h2>
        <p>
         本文给大家带来的改进机制是利用
         <span style="color:#fe2c24;">
          <strong>
           Swin Transformer
          </strong>
         </span>
         替换
         <span style="color:#ff9900;">
          <strong>
           YOLOv11中的骨干网络
          </strong>
         </span>
         其是一个开创性的视觉
         <a class="hl hl-1" data-pretit="变换器" data-report-click='{"spm":"1001.2101.3001.7020","dest":"https://so.csdn.net/so/search?q=%E5%8F%98%E6%8D%A2%E5%99%A8&amp;spm=1001.2101.3001.7020","extra":"{\"searchword\":\"变换器\"}"}' data-tit="变换器" href="https://so.csdn.net/so/search?q=%E5%8F%98%E6%8D%A2%E5%99%A8&amp;spm=1001.2101.3001.7020" target="_blank">
          变换器
         </a>
         模型，它通过使用位移窗口来构建分层的特征图，有效地适应了计算机视觉任务。与传统的变换器模型不同，Swin Transformer的自注意力计算仅限于局部窗口内，使得
         <span style="color:#4da8ee;">
          <strong>
           计算复杂度与图像大小成线性关系，而非二次方
          </strong>
         </span>
         。这种设计不仅提高了模型的效率，还保持了强大的特征提取能力。Swin Transformer的创新在于其能够在不同层次上捕捉图像的细节和全局信息，使其成为各种视觉任务的强大通用骨干网络。
         <span style="color:#1a439c;">
          <strong>
           亲测在小目标检测和大尺度目标检测的数据集上都有涨点效果。
          </strong>
         </span>
        </p>
        <p style="text-align:center;">
         <span style="color:#ff9900;">
          <strong>
           （本文内容可根据yolov11的N、S、M、L、X进行二次缩放，轻量化更上一层）
          </strong>
         </span>
        </p>
        <p>
         <img alt="" height="681" src="https://i-blog.csdnimg.cn/blog_migrate/42be712554bd30c62e65bf533668cdda.png" width="1124"/>
        </p>
        <blockquote>
         <p>
          <strong>
           <span style="color:#fe2c24;">
            专栏回顾：
           </span>
           <strong>
            <strong>
             <strong>
              <strong>
               <strong>
                <strong>
                 <strong>
                  <a href="https://blog.csdn.net/java1314777/category_12798080.html" title="YOLOv11改进系列专栏——本专栏持续复习各种顶会内容——科研必备">
                   YOLOv11改进系列专栏——本专栏持续复习各种顶会内容——科研必备
                  </a>
                 </strong>
                </strong>
               </strong>
              </strong>
             </strong>
            </strong>
           </strong>
          </strong>
         </p>
        </blockquote>
        <hr/>
        <p id="main-toc">
         <strong>
          目录
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px; padding-left: 24px;">
         <strong>
          <a href="#t1" rel="nofollow" target="_self">
           一、本文介绍
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px; padding-left: 24px;">
         <strong>
          <a href="#t2" rel="nofollow" target="_self">
           二、Swin Transformer原理
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t3" rel="nofollow" target="_self">
           2.1 Swin Transformer的基本原理
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t4" rel="nofollow" target="_self">
           2.2 层次化特征映射
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t5" rel="nofollow" target="_self">
           2.3 局部自注意力计算
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t6" rel="nofollow" target="_self">
           2.4 移动窗口自注意力
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t7" rel="nofollow" target="_self">
           2.5 移动窗口分区
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px; padding-left: 24px;">
         <strong>
          <a href="#t8" rel="nofollow" target="_self">
           三、 Swin Transformer的完整代码
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px; padding-left: 24px;">
         <strong>
          <a href="#t9" rel="nofollow" target="_self">
           四、手把手教你添加Swin Transformer网络结构
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t10" rel="nofollow" target="_self">
           修改一
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t11" rel="nofollow" target="_self">
           修改二
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t12" rel="nofollow" target="_self">
           修改三
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t13" rel="nofollow" target="_self">
           修改四
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t14" rel="nofollow" target="_self">
           修改五
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t15" rel="nofollow" target="_self">
           修改六
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t16" rel="nofollow" target="_self">
           修改七
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px 48px; padding-left: 24px;">
         <strong>
          <a href="#t17" rel="nofollow" target="_self">
           修改八
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px; padding-left: 24px;">
         <strong>
          <a href="#t18" rel="nofollow" target="_self">
           五、Swin Transformer的yaml文件
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px; padding-left: 24px;">
         <strong>
          <a href="#t19" rel="nofollow" target="_self">
           六、成功运行记录
          </a>
         </strong>
        </p>
        <p id="" style="margin: 0px 0px 2px; padding-left: 24px;">
         <strong>
          <a href="#t20" rel="nofollow" target="_self">
           七、本文总结
          </a>
         </strong>
        </p>
        <hr id="hr-toc"/>
        <p>
        </p>
        <h2 id="%E4%BA%8C%E3%80%81Swin%20Transformer%E5%8E%9F%E7%90%86">
         <a name="t1">
         </a>
         <strong>
          二、Swin Transformer原理
         </strong>
        </h2>
        <p>
         <img alt="" height="298" src="https://i-blog.csdnimg.cn/blog_migrate/fb3d69fd9173dd2ac846157431c7aab7.png" width="1200"/>
        </p>
        <p>
         <strong>
          <span style="color:#fe2c24;">
           论文地址：
          </span>
          <strong>
           <strong>
            <strong>
             <a href="https://arxiv.org/pdf/2103.14030.pdf" rel="nofollow" title="官方论文地址">
              官方论文地址
             </a>
            </strong>
           </strong>
          </strong>
         </strong>
        </p>
        <p>
         <strong>
          <span style="color:#fe2c24;">
           代码地址：
          </span>
          <strong>
           <strong>
            <strong>
             <a href="https://github.com/microsoft/Swin-Transformer" title="官方代码、地址">
              官方代码、地址
             </a>
            </strong>
           </strong>
          </strong>
         </strong>
        </p>
        <p>
         <img alt="" height="405" src="https://i-blog.csdnimg.cn/blog_migrate/9c4f2a0911987591d7852a4ae23d48fb.png" width="1200"/>
        </p>
        <p>
        </p>
        <hr/>
        <h3 id="2.1%C2%A0Swin%20Transformer%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86">
         <a name="t2">
         </a>
         2.1
         <strong>
          Swin Transformer的基本原理
         </strong>
        </h3>
        <p>
         <span style="color:#fe2c24;">
          <strong>
           Swin Transformer
          </strong>
         </span>
         是一个新的视觉变换器，能够作为通用的计算机视觉骨干网络。这个模型解决了将Transformer从语言处理领域适应到视觉任务中的挑战，主要是因为这两个领域之间存在差异，例如视觉实体的尺度变化大，以及图像中像素的高分辨率与文本中的单词相比。下图对比展示了Swin Transformer与Vision Transformer (ViT)的不同之处，清楚地展示了Swin Transformer在
         <span style="color:#ff9900;">
          <strong>
           构建特征映射和处理计算复杂度方面
          </strong>
         </span>
         的创新优势。
        </p>
        <p class="img-center">
         <img alt="" height="314" src="https://i-blog.csdnimg.cn/blog_migrate/9c243bf49816407fa8f9a6a863fbf260.png" width="600"/>
        </p>
        <p>
         <strong>
          (a) Swin Transformer：
         </strong>
         提出的Swin Transformer通过在更深层次合并图像小块（灰色部分所示）来构建层次化的特征映射。在每个局部窗口（红色部分所示）内只计算自注意力，因此它对输入图像大小有线性的计算复杂度。它可以作为通用的骨干网络，用于图像分类和密集识别任务，如分割和检测。
        </p>
        <p>
         <strong>
          (b) Vision Transformer (ViT)：
         </strong>
         以前的视觉Transformer模型（如ViT）产生单一低分辨率的特征映射，并且由于全局自注意力的计算，其计算复杂度与输入图像大小呈二次方关系。
        </p>
        <p>
         <span style="color:#956fe7;">
          <strong>
           我们可以将Swin Transformer的基本原理分为以下几点：
          </strong>
         </span>
        </p>
        <p>
         <strong>
          1. 层次化特征映射：
         </strong>
         Swin Transformer通过合并图像的相邻小块（patches），在更深的Transformer层次中逐步构建层次化的特征映射。这样的层次化特征映射可以方便地利用密集预测的高级技术，如特征金字塔网络（Feature Pyramid Networks, FPN）或U-Net。
        </p>
        <p>
         <strong>
          2. 局部自注意力计算：
         </strong>
         为了实现线性计算复杂性，Swin Transformer在非重叠的局部窗口内计算自注意力，这些窗口是通过划分图像来创建的。每个窗口内的小块数量是固定的，因此计算复杂性与图像大小成线性关系。
        </p>
        <p>
         <strong>
          3. 移动窗口自注意力（Shifted Window based Self-Attention）：
         </strong>
         标准的Transformer架构在全局范围内计算自注意力，即计算一个标记与所有其他标记之间的关系。这种全局计算导致与标记数量成二次方的计算复杂性，不适用于许多需要处理大规模高维数据的视觉问题。Swin Transformer通过一个基于移动窗口的多头自注意力（MSA）模块取代了传统的MSA模块。每个Swin Transformer块由一个基于移动窗口的MSA模块组成，然后是两层带有GELU非线性的MLP，之前是LayerNorm（LN）层，之后是残差连接。
        </p>
        <p>
         <strong>
          4. 移动窗口分区：
         </strong>
         为了在连续的Swin Transformer块中引入跨窗口连接的同时保持非重叠窗口的有效计算，提出了一种移动窗口分区方法。这种方法在连续的块之间交替使用两种分区配置。第一个模块使用常规的窗口分区策略，然后下一个模块采用的窗口配置与前一层相比，通过移动窗口偏移了一定距离，从而实现窗口的交替。
        </p>
        <p>
         下图详细展示了
         <span style="color:#4da8ee;">
          <strong>
           Swin Transformer的架构和两个连续Swin Transformer块的设计
          </strong>
         </span>
         。图中的W-MSA和SW-MSA分别代表带有常规和移动窗口配置的多头自注意力模块。这两种类型的注意力模块交替使用，允许模型在保持局部计算的同时，也能够捕捉更广泛的上下文信息。
        </p>
        <p class="img-center">
         <img alt="" height="357" src="https://i-blog.csdnimg.cn/blog_migrate/173465e645df15533e325d962e93ff99.png" width="1187"/>
        </p>
        <p>
         <strong>
          (a) 架构（Architecture）：
         </strong>
         图展示了Swin Transformer的四个阶段。每个阶段都包含若干Swin Transformer块。输入图像首先通过“Patch Partition”被划分成小块，并通过“Linear Embedding”转换成向量序列。各个阶段通过“Patch Merging”操作降低
         <a class="hl hl-1" data-pretit="特征图" data-report-click='{"spm":"1001.2101.3001.7020","dest":"https://so.csdn.net/so/search?q=%E7%89%B9%E5%BE%81%E5%9B%BE&amp;spm=1001.2101.3001.7020","extra":"{\"searchword\":\"特征图\"}"}' data-report-view='{"spm":"1001.2101.3001.7020","dest":"https://so.csdn.net/so/search?q=%E7%89%B9%E5%BE%81%E5%9B%BE&amp;spm=1001.2101.3001.7020","extra":"{\"searchword\":\"特征图\"}"}' data-tit="特征图" href="https://so.csdn.net/so/search?q=%E7%89%B9%E5%BE%81%E5%9B%BE&amp;spm=1001.2101.3001.7020" target="_blank">
          特征图
         </a>
         的分辨率，同时增加特征维数（例如，第一阶段输出的特征维数为C，第二阶段为2C，依此类推）。
        </p>
        <p>
         <strong>
          (b) 两个连续的Swin Transformer块（Two Successive Swin Transformer Blocks）：
         </strong>
         每个Swin Transformer块由多头自注意力模块（W-MSA和SW-MSA）和多层感知机（MLP）组成，其中W-MSA使用常规窗口配置，而SW-MSA使用移动窗口配置。每个块内部，先是LayerNorm（LN）层，然后是自注意力模块，再是另一个LayerNorm层，最后是MLP。块之间通过残差连接进行连接，这样的设计可以避免深层网络中的梯度消失问题，并允许信息在网络中更有效地流动。
        </p>
        <p>
        </p>
        <hr/>
        <h3 id="2.2%C2%A0%E5%B1%82%E6%AC%A1%E5%8C%96%E7%89%B9%E5%BE%81%E6%98%A0%E5%B0%84">
         <a name="t3">
         </a>
         2.2
         <strong>
          层次化特征映射
         </strong>
        </h3>
        <p>
         层次化特征映射可以使
         <span style="color:#ff9900;">
          <strong>
           Swin Transformer有效地处理不同分辨率的特征
          </strong>
         </span>
         ，并适用于各种视觉任务，如图像分类、对象检测和语义分割。这种层次化设计使Swin Transformer与以往基于Transformer的架构（这些架构产生单一分辨率的特征图并具有二次方复杂度）形成对比，后者不适合需要在像素级进行密集预测的视觉任务。Swin Transformer的
         <span style="color:#4da8ee;">
          <strong>
           层次化特征映射
          </strong>
         </span>
         主要通过以下步骤实现：
        </p>
        <p>
         <strong>
          1. 分块和线性嵌入：
         </strong>
         首先，输入图像被分割成小块（通常是4x4像素大小），每个小块被视为一个“标记”，其特征是原始像素RGB值的串联。然后，一个线性嵌入层被应用于这些原始值特征，将其投影到任意维度（表示为C）。这些步骤构成了所谓的“第1阶段”。
        </p>
        <p>
         <strong>
          2. 分块合并：
         </strong>
         随着网络深入，通过合并层减少标记的数量，从而降低特征图的分辨率。例如，第一个合并层将每组2x2相邻小块的特征合并，并应用一个线性层到这些4C维度的串联特征上，这样做将标记的数量减少了4倍（分辨率降低了2倍），并将输出维度设为2C。这个过程在后续的“第2阶段”、“第3阶段”和“第4阶段”中重复，分别产生更低分辨率的输出。
        </p>
        <p>
         <strong>
          3. 层次化特征图：
         </strong>
         通过在更深的Transformer层合并相邻小块，Swin Transformer构建了层次化的特征映射。这些层次化特征映射允许模型方便地使用密集预测的高级技术，例如特征金字塔网络（FPN）或U-Net。
        </p>
        <p>
         <strong>
          4. 计算效率：
         </strong>
         Swin Transformer在非重叠的局部窗口内局部计算自注意力，从而实现了线性的计算复杂度。每个窗口中的小块数量是固定的，因此复杂度与图像大小成线性关系。
        </p>
        <p>
        </p>
        <hr/>
        <h3 id="2.3%C2%A0%E5%B1%80%E9%83%A8%E8%87%AA%E6%B3%A8%E6%84%8F%E5%8A%9B%E8%AE%A1%E7%AE%97">
         <a name="t4">
         </a>
         2.3
         <strong>
          局部自注意力计算
         </strong>
        </h3>
        <p>
         <span style="color:#ff9900;">
          <strong>
           Swin Transformer的局部自注意力计算通过
          </strong>
         </span>
         在小窗口内计算自注意力以及通过移动窗口在连续层之间引入跨窗口的信息流通，使得计算更加高效，同时保留了模型捕捉长距离依赖的能力。Swin Transformer中的局部自注意力计算我们可以通过以下方式实现：
        </p>
        <p>
         <strong>
          1. 替代标准多头自注意力模块：
         </strong>
         Swin Transformer使用基于移动窗口的多头自注意力（MSA）模块替代了传统Transformer块中的标准多头自注意力模块，其他层保持不变。每个Swin Transformer块由一个基于移动窗口的MSA模块组成，后跟一个两层的MLP，中间包含GELU非线性激活函数。在每个MSA模块和MLP之前都会应用一个LayerNorm（LN）层，每个模块之后都会应用残差连接。
        </p>
        <p>
         <strong>
          2. 在各个窗口内计算自注意力：
         </strong>
         在每一层中，采用常规的窗口分区方案，每个窗口内部独立计算自注意力。在下一层中，窗口分区会发生移动，形成新的窗口。新窗口中的自注意力计算会跨越之前层中窗口的边界，建立它们之间的连接。
        </p>
        <p>
         <strong>
          3. 非重叠窗口中的自注意力：
         </strong>
         为了有效的建模，Swin Transformer在非重叠的局部窗口内计算自注意力。这些窗口被安排以均匀非重叠的方式分割图像。假设每个窗口包含M×M个小块，全局MSA模块和基于窗口的MSA模块的计算复杂度分别为二次方和线性，当M固定时（默认设为7）。
        </p>
        <p>
         <strong>
          4. 循环位移和掩码机制：
         </strong>
         提出了一种通过循环位移来提高批量计算的效率的方法。通过这种位移，一个批次的窗口可能由几个在特征图中不相邻的子窗口组成，因此采用掩码机制限制在每个子窗口内计算自注意力。这种循环位移保持了批次窗口的数量与常规窗口分区相同。
        </p>
        <p>
         <strong>
          5. 窗口间的位移：
         </strong>
         为了在连续层之间实现更高效的硬件实现，Swin Transformer提出在连续层之间位移窗口，这样的位移允许跨窗口的连接，同时维持计算的高效性。
        </p>
        <p>
         <strong>
          6. 相对位置偏置：
         </strong>
         在计算自注意力时，Swin Transformer包括了相对位置偏置B，以增强模型对不同位置之间关系的学习能力。
        </p>
        <p>
        </p>
        <hr/>
        <h3 id="2.4%C2%A0%E7%A7%BB%E5%8A%A8%E7%AA%97%E5%8F%A3%E8%87%AA%E6%B3%A8%E6%84%8F%E5%8A%9B">
         <a name="t5">
         </a>
         2.4
         <strong>
          移动窗口自注意力
         </strong>
        </h3>
        <p>
         移动窗口自注意力是Swin Transformer设计的核心元素，它
         <span style="color:#ff9900;">
          <strong>
           通过在局部窗口内计算自注意力
          </strong>
         </span>
         并在连续层之间引入窗口位移，以实现高效的计算和强大的建模能力。在Swin Transformer论文中，移动窗口自注意力（shifted window self-attention）的
         <span style="color:#956fe7;">
          <strong>
           主要特点
          </strong>
         </span>
         包括：
        </p>
        <p>
         <strong>
          1. 替代多头自注意力模块：
         </strong>
         在Swin Transformer块中，标准的
         <strong>
          多头自注意力（MSA）模块
         </strong>
         被基于移动窗口的MSA模块替换。这种基于移动窗口的MSA模块后跟一个两层的MLP，中间有GELU非线性激活函数。每个MSA模块和MLP之前都会应用一个LayerNorm（LN）层，每个模块之后都会应用残差连接。
        </p>
        <p>
         <strong>
          2. 移动窗口分区：
         </strong>
         在连续的Swin Transformer块中，窗口分区策略在每一层之间交替。在某一层中，采用常规窗口分区，而在下一层中，窗口分区会发生移动，从而形成新的窗口。这种移动窗口分区方法能够跨越前一层中窗口的边界，提供窗口间的连接。
        </p>
        <p>
         <strong>
          3. 交替分区配置：
         </strong>
         移动窗口分区方法在连续的Swin Transformer块中交替使用两种分区配置。例如，第一个模块从左上角像素开始使用常规窗口分区策略，接着下一个模块采用的窗口配置将与前一层相比移动一定距离。
        </p>
        <p>
         <strong>
          4. 移动窗口自注意力的计算：
         </strong>
         移动窗口自注意力计算的有效性不仅在图像分类、目标检测和语义分割任务中得到了验证，而且它的实现也被证明在所有MLP架构中有益。
        </p>
        <p>
         <strong>
          5. 效率：
         </strong>
         相比于滑动窗口方法，移动窗口方法具有更低的延迟，但在建模能力上却相似。此外，移动窗口方法也有助于提高批量计算的效率。
        </p>
        <p>
         <strong>
          6. 连续块的计算：
         </strong>
         在移动窗口分区方法中，连续的Swin Transformer块的
         <strong>
          计算方式
         </strong>
         如下：
         <img alt="\hat{z_l} = W\text{-}MSA(LN(z_{l-1})) + z_{l-1}" src="https://latex.csdn.net/eq?%5Chat%7Bz_l%7D%20%3D%20W%5Ctext%7B-%7DMSA%28LN%28z_%7Bl-1%7D%29%29%20&amp;plus;%20z_%7Bl-1%7D"/>
         ，然后是MLP层，之后是
         <img alt="\\hat{z_{l+1}} = SW\text{-}MSA(LN(z_l)) + z_l" src="https://latex.csdn.net/eq?%5C%5Chat%7Bz_%7Bl&amp;plus;1%7D%7D%20%3D%20SW%5Ctext%7B-%7DMSA%28LN%28z_l%29%29%20&amp;plus;%20z_l"/>
         。这里，
         <img alt="\hat{z_l}" src="https://latex.csdn.net/eq?%5Chat%7Bz_l%7D"/>
         和
         <img alt="z_l" src="https://latex.csdn.net/eq?z_l"/>
         分别代表块l的(S)W-MSA模块和MLP模块的输出特征。
        </p>
        <p>
         下面我给大家展示了所提出的Swin Transformer架构中用于
         <span style="color:#4da8ee;">
          <strong>
           计算自注意力的移动窗口方法
          </strong>
          。
         </span>
        </p>
        <p class="img-center">
         <img alt="" height="229" src="https://i-blog.csdnimg.cn/blog_migrate/6fe3e06a3fd8f49afe16adbd06ae236d.png" width="591"/>
        </p>
        <p>
         在第l层（左侧），采用了常规窗口划分方案，并且在每个窗口内计算自注意力。在接下来的第l+1层（右侧），窗口划分被移动，结果在新的窗口中进行了自注意力计算。这些新窗口中的自注意力计算跨越了l层中之前窗口的边界，提供了它们之间的连接。这种移动窗口方法提高了效率，
         <span style="color:#1a439c;">
          <strong>
           因为它限制了自注意力计算在非重叠的局部窗口内，同时允许窗口间的交叉连接。
          </strong>
         </span>
        </p>
        <p>
        </p>
        <hr/>
        <h3 id="2.5%C2%A0%E7%A7%BB%E5%8A%A8%E7%AA%97%E5%8F%A3%E5%88%86%E5%8C%BA">
         <a name="t6">
         </a>
         2.5
         <strong>
          移动窗口分区
         </strong>
        </h3>
        <p>
         移动窗口分区是Swin Transformer中一项关键的创新，它
         <span style="color:#ff9900;">
          <strong>
           通过在连续层之间交替窗口的分区方式
          </strong>
          ，
         </span>
         有效地促进了信息在窗口之间的流动，同时保持了处理高分辨率图像时的计算效率。下面我将通过图片
         <span style="color:#1a439c;">
          <strong>
           解释如何使用循环位移来计算在移动窗口中的自注意力，以及如何高效地实施这一计算
          </strong>
          。
         </span>
        </p>
        <p>
         <img alt="" height="298" src="https://i-blog.csdnimg.cn/blog_migrate/db93e4145a4c5078ca7185f0d9207924.png" width="961"/>
        </p>
        <p>
        </p>
        <p>
         <strong>
          （1）窗口分区（Window partition）：
         </strong>
         首先，图像被分成多个窗口。
         <br/>
         <strong>
          （2）循环位移（Cyclic shift）：
         </strong>
         接着，为了计算自注意力，窗口内的像素或特征会进行循环位移。这样可以将本来不相邻的像素或特征暂时性地排列到同一个窗口内，使得可以在局部窗口中计算原本跨窗口的自注意力。
         <br/>
         <strong>
          （3）掩码多头自注意力（Masked MSA）：
         </strong>
         在经过循环位移后，可以在这些临时形成的窗口上执行掩码多头自注意力操作，以此计算注意力得分和更新特征。
         <br/>
         <strong>
          （4）逆循环位移（Reverse cyclic shift）：
         </strong>
         完成自注意力计算后，特征会进行逆循环位移，恢复到它们原来在图像中的位置。
        </p>
        <p>
        </p>
        <hr/>
        <h2 id="%E4%B8%89%E3%80%81%C2%A0Swin%20Transformer%E7%9A%84%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81" style="background-color:transparent;">
         <a name="t7">
         </a>
         三、 Swin Transformer的完整代码
        </h2>
        <pre class="set-code-show" data-index="0" name="code"><code class="hljs language-cobol"><ol class="hljs-ln hundred" style="width:1027px"><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">import torch</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">import torch.nn <span class="hljs-keyword">as</span> nn</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">import torch.nn.functional <span class="hljs-keyword">as</span> F</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">import torch.utils.checkpoint <span class="hljs-keyword">as</span> checkpoint</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">import numpy <span class="hljs-keyword">as</span> np</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">from</span> timm.models.layers import DropPath, <span class="hljs-keyword">to</span>_<span class="hljs-number">2</span>tuple, trunc_normal_</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">__<span class="hljs-literal">all</span>__ <span class="hljs-operator">=</span> [<span class="hljs-string">'SwinTransformer'</span>]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">class</span> Mlp(nn.Module):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-string">""</span><span class="hljs-string">" Multilayer perceptron."</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def __init__(<span class="hljs-keyword">self</span>, <span class="hljs-keyword">in</span>_features, hidden_features<span class="hljs-operator">=</span>None, out_features<span class="hljs-operator">=</span>None, act_layer<span class="hljs-operator">=</span>nn.GELU, drop<span class="hljs-operator">=</span><span class="hljs-number">0</span>.):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">super</span>().__init__()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        out_features <span class="hljs-operator">=</span> out_features <span class="hljs-keyword">or</span> <span class="hljs-keyword">in</span>_features</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        hidden_features <span class="hljs-operator">=</span> hidden_features <span class="hljs-keyword">or</span> <span class="hljs-keyword">in</span>_features</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.fc<span class="hljs-number">1</span> <span class="hljs-operator">=</span> nn.Linear(<span class="hljs-keyword">in</span>_features, hidden_features)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.act <span class="hljs-operator">=</span> act_layer()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.fc<span class="hljs-number">2</span> <span class="hljs-operator">=</span> nn.Linear(hidden_features, out_features)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.drop <span class="hljs-operator">=</span> nn.Dropout(drop)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def forward(<span class="hljs-keyword">self</span>, x):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.fc<span class="hljs-number">1</span>(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.act(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.drop(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.fc<span class="hljs-number">2</span>(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.drop(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">return</span> x</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="31"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">def window_partition(x, window_<span class="hljs-keyword">size</span>):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="32"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">"</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="33"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="34"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        x: (B, H, W, C)</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="35"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        window_size (int): window size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="36"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="37"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    Returns:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="38"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        windows: (num_windows*B, window_size, window_size, C)</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="39"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="40"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    B, H, W, C <span class="hljs-operator">=</span> x.shape</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="41"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    x <span class="hljs-operator">=</span> x.view(B, H <span class="hljs-operator">/</span><span class="hljs-operator">/</span> window_<span class="hljs-keyword">size</span>, window_<span class="hljs-keyword">size</span>, W <span class="hljs-operator">/</span><span class="hljs-operator">/</span> window_<span class="hljs-keyword">size</span>, window_<span class="hljs-keyword">size</span>, C)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="42"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    windows <span class="hljs-operator">=</span> x.permute(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>).contiguous().view(-<span class="hljs-number">1</span>, window_<span class="hljs-keyword">size</span>, window_<span class="hljs-keyword">size</span>, C)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="43"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> windows</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="44"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="45"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="46"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">def window_reverse(windows, window_<span class="hljs-keyword">size</span>, H, W):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="47"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">"</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="48"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="49"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        windows: (num_windows*B, window_size, window_size, C)</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="50"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        window_size (int): Window size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="51"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        H (int): Height of image</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="52"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        W (int): Width of image</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="53"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="54"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    Returns:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="55"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        x: (B, H, W, C)</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="56"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="57"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    B <span class="hljs-operator">=</span> int(windows.shape[<span class="hljs-number">0</span>] <span class="hljs-operator">/</span> (H <span class="hljs-operator">*</span> W <span class="hljs-operator">/</span> window_<span class="hljs-keyword">size</span> <span class="hljs-operator">/</span> window_<span class="hljs-keyword">size</span>))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="58"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    x <span class="hljs-operator">=</span> windows.view(B, H <span class="hljs-operator">/</span><span class="hljs-operator">/</span> window_<span class="hljs-keyword">size</span>, W <span class="hljs-operator">/</span><span class="hljs-operator">/</span> window_<span class="hljs-keyword">size</span>, window_<span class="hljs-keyword">size</span>, window_<span class="hljs-keyword">size</span>, -<span class="hljs-number">1</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="59"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    x <span class="hljs-operator">=</span> x.permute(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>).contiguous().view(B, H, W, -<span class="hljs-number">1</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="60"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> x</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="61"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="62"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="63"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">class</span> WindowAttention(nn.Module):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="64"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">" Window based multi-head self attention (W-MSA) module with relative position bias.</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="65"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    It supports both of shifted and non-shifted window.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="66"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="67"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="68"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        dim (int): Number of input channels.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="69"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        window_size (tuple[int]): The height and width of the window.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="70"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        num_heads (int): Number of attention heads.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="71"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        qkv_bias (bool, optional):  If True, add a learnable bias to query, key, value. Default: True</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="72"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        qk_scale (float | None, optional): Override default qk scale of head_dim ** -0.5 if set</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="73"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        attn_drop (float, optional): Dropout ratio of attention weight. Default: 0.0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="74"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        proj_drop (float, optional): Dropout ratio of output. Default: 0.0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="75"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="76"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="77"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def __init__(<span class="hljs-keyword">self</span>, dim, window_<span class="hljs-keyword">size</span>, num_heads, qkv_bias<span class="hljs-operator">=</span><span class="hljs-keyword">True</span>, qk_scale<span class="hljs-operator">=</span>None, attn_drop<span class="hljs-operator">=</span><span class="hljs-number">0</span>., proj_drop<span class="hljs-operator">=</span><span class="hljs-number">0</span>.):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="78"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="79"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">super</span>().__init__()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="80"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.dim <span class="hljs-operator">=</span> dim</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="81"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span> <span class="hljs-operator">=</span> window_<span class="hljs-keyword">size</span>  # Wh, Ww</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="82"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.num_heads <span class="hljs-operator">=</span> num_heads</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="83"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        head_dim <span class="hljs-operator">=</span> dim <span class="hljs-operator">/</span><span class="hljs-operator">/</span> num_heads</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="84"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.scale <span class="hljs-operator">=</span> qk_scale <span class="hljs-keyword">or</span> head_dim <span class="hljs-operator">**</span> -<span class="hljs-number">0.5</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="85"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="86"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # define a parameter <span class="hljs-keyword">table</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">relative</span> position bias</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="87"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.<span class="hljs-keyword">relative</span>_position_bias_<span class="hljs-keyword">table</span> <span class="hljs-operator">=</span> nn.Parameter(</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="88"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            torch.<span class="hljs-literal">zeros</span>((<span class="hljs-number">2</span> <span class="hljs-operator">*</span> window_<span class="hljs-keyword">size</span>[<span class="hljs-number">0</span>]<span class="hljs-operator"> - </span><span class="hljs-number">1</span>) <span class="hljs-operator">*</span> (<span class="hljs-number">2</span> <span class="hljs-operator">*</span> window_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>]<span class="hljs-operator"> - </span><span class="hljs-number">1</span>), num_heads))  # <span class="hljs-number">2</span><span class="hljs-operator">*</span>Wh-<span class="hljs-number">1</span> <span class="hljs-operator">*</span> <span class="hljs-number">2</span><span class="hljs-operator">*</span>Ww-<span class="hljs-number">1</span>, nH</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="89"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="90"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # <span class="hljs-keyword">get</span> pair-wise <span class="hljs-keyword">relative</span> position <span class="hljs-keyword">index</span> <span class="hljs-keyword">for</span> each token inside the window</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="91"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        coords_h <span class="hljs-operator">=</span> torch.arange(<span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>[<span class="hljs-number">0</span>])</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="92"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        coords_w <span class="hljs-operator">=</span> torch.arange(<span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>])</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="93"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        coords <span class="hljs-operator">=</span> torch.stack(torch.meshgrid([coords_h, coords_w]))  # <span class="hljs-number">2</span>, Wh, Ww</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="94"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        coords_flatten <span class="hljs-operator">=</span> torch.flatten(coords, <span class="hljs-number">1</span>)  # <span class="hljs-number">2</span>, Wh<span class="hljs-operator">*</span>Ww</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="95"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">relative</span>_coords <span class="hljs-operator">=</span> coords_flatten[:, :, None]<span class="hljs-operator"> - </span>coords_flatten[:, None, :]  # <span class="hljs-number">2</span>, Wh<span class="hljs-operator">*</span>Ww, Wh<span class="hljs-operator">*</span>Ww</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="96"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">relative</span>_coords <span class="hljs-operator">=</span> <span class="hljs-keyword">relative</span>_coords.permute(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>).contiguous()  # Wh<span class="hljs-operator">*</span>Ww, Wh<span class="hljs-operator">*</span>Ww, <span class="hljs-number">2</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="97"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">relative</span>_coords[:, :, <span class="hljs-number">0</span>] <span class="hljs-operator">+</span><span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>[<span class="hljs-number">0</span>]<span class="hljs-operator"> - </span><span class="hljs-number">1</span>  # shift <span class="hljs-keyword">to</span> <span class="hljs-keyword">start</span> <span class="hljs-keyword">from</span> <span class="hljs-number">0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="98"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">relative</span>_coords[:, :, <span class="hljs-number">1</span>] <span class="hljs-operator">+</span><span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>]<span class="hljs-operator"> - </span><span class="hljs-number">1</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="99"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">relative</span>_coords[:, :, <span class="hljs-number">0</span>] <span class="hljs-operator">*</span><span class="hljs-operator">=</span> <span class="hljs-number">2</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>]<span class="hljs-operator"> - </span><span class="hljs-number">1</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="100"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">relative</span>_position_<span class="hljs-keyword">index</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">relative</span>_coords.<span class="hljs-keyword">sum</span>(-<span class="hljs-number">1</span>)  # Wh<span class="hljs-operator">*</span>Ww, Wh<span class="hljs-operator">*</span>Ww</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="101"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.register_buffer(<span class="hljs-string">"relative_position_index"</span>, <span class="hljs-keyword">relative</span>_position_<span class="hljs-keyword">index</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="102"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="103"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.qkv <span class="hljs-operator">=</span> nn.Linear(dim, dim <span class="hljs-operator">*</span> <span class="hljs-number">3</span>, bias<span class="hljs-operator">=</span>qkv_bias)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="104"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.attn_drop <span class="hljs-operator">=</span> nn.Dropout(attn_drop)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="105"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.proj <span class="hljs-operator">=</span> nn.Linear(dim, dim)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="106"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.proj_drop <span class="hljs-operator">=</span> nn.Dropout(proj_drop)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="107"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="108"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        trunc_normal_(<span class="hljs-keyword">self</span>.<span class="hljs-keyword">relative</span>_position_bias_<span class="hljs-keyword">table</span>, std<span class="hljs-operator">=</span>.<span class="hljs-number">02</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="109"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.softmax <span class="hljs-operator">=</span> nn.Softmax(dim<span class="hljs-operator">=</span>-<span class="hljs-number">1</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="110"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="111"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def forward(<span class="hljs-keyword">self</span>, x, mask<span class="hljs-operator">=</span>None):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="112"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">" Forward function.</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="113"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="114"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="115"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            x: input features with shape of (num_windows*B, N, C)</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="116"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            mask: (0/-inf) mask with shape of (num_windows, Wh*Ww, Wh*Ww) or None</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="117"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="118"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        B_, N, C <span class="hljs-operator">=</span> x.shape</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="119"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        qkv <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.qkv(x).reshape(B_, N, <span class="hljs-number">3</span>, <span class="hljs-keyword">self</span>.num_heads, C <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-keyword">self</span>.num_heads).permute(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="120"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        q, k, v <span class="hljs-operator">=</span> qkv[<span class="hljs-number">0</span>], qkv[<span class="hljs-number">1</span>], qkv[<span class="hljs-number">2</span>]  # make torchscript happy (cannot <span class="hljs-keyword">use</span> tensor <span class="hljs-keyword">as</span> tuple)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="121"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="122"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        q <span class="hljs-operator">=</span> q <span class="hljs-operator">*</span> <span class="hljs-keyword">self</span>.scale</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="123"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        attn <span class="hljs-operator">=</span> (q @ k.transpose(-<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="124"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="125"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">relative</span>_position_bias <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.<span class="hljs-keyword">relative</span>_position_bias_<span class="hljs-keyword">table</span>[<span class="hljs-keyword">self</span>.<span class="hljs-keyword">relative</span>_position_<span class="hljs-keyword">index</span>.view(-<span class="hljs-number">1</span>)].view(</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="126"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>[<span class="hljs-number">0</span>] <span class="hljs-operator">*</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>], <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>[<span class="hljs-number">0</span>] <span class="hljs-operator">*</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>], -<span class="hljs-number">1</span>)  # Wh<span class="hljs-operator">*</span>Ww,Wh<span class="hljs-operator">*</span>Ww,nH</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="127"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">relative</span>_position_bias <span class="hljs-operator">=</span> <span class="hljs-keyword">relative</span>_position_bias.permute(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>).contiguous()  # nH, Wh<span class="hljs-operator">*</span>Ww, Wh<span class="hljs-operator">*</span>Ww</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="128"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        attn <span class="hljs-operator">=</span> attn <span class="hljs-operator">+</span> <span class="hljs-keyword">relative</span>_position_bias.unsqueeze(<span class="hljs-number">0</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="129"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="130"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> mask <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> None:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="131"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            nW <span class="hljs-operator">=</span> mask.shape[<span class="hljs-number">0</span>]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="132"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            attn <span class="hljs-operator">=</span> attn.view(B_ <span class="hljs-operator">/</span><span class="hljs-operator">/</span> nW, nW, <span class="hljs-keyword">self</span>.num_heads, N, N) <span class="hljs-operator">+</span> mask.unsqueeze(<span class="hljs-number">1</span>).unsqueeze(<span class="hljs-number">0</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="133"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            attn <span class="hljs-operator">=</span> attn.view(-<span class="hljs-number">1</span>, <span class="hljs-keyword">self</span>.num_heads, N, N)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="134"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            attn <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.softmax(attn)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="135"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="136"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            attn <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.softmax(attn)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="137"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="138"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        attn <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.attn_drop(attn)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="139"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="140"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> (attn @ v).transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>).reshape(B_, N, C)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="141"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.proj(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="142"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.proj_drop(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="143"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">return</span> x</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="144"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="145"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="146"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">class</span> SwinTransformerBlock(nn.Module):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="147"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">" Swin Transformer Block.</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="148"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="149"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="150"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        dim (int): Number of input channels.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="151"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        num_heads (int): Number of attention heads.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="152"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        window_size (int): Window size.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="153"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        shift_size (int): Shift size for SW-MSA.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="154"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        mlp_ratio (float): Ratio of mlp hidden dim to embedding dim.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="155"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        qkv_bias (bool, optional): If True, add a learnable bias to query, key, value. Default: True</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="156"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        qk_scale (float | None, optional): Override default qk scale of head_dim ** -0.5 if set.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="157"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        drop (float, optional): Dropout rate. Default: 0.0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="158"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        attn_drop (float, optional): Attention dropout rate. Default: 0.0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="159"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        drop_path (float, optional): Stochastic depth rate. Default: 0.0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="160"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        act_layer (nn.Module, optional): Activation layer. Default: nn.GELU</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="161"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        norm_layer (nn.Module, optional): Normalization layer.  Default: nn.LayerNorm</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="162"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="163"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="164"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def __init__(<span class="hljs-keyword">self</span>, dim, num_heads, window_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span><span class="hljs-number">7</span>, shift_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span><span class="hljs-number">0</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="165"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 mlp_ratio<span class="hljs-operator">=</span><span class="hljs-number">4</span>., qkv_bias<span class="hljs-operator">=</span><span class="hljs-keyword">True</span>, qk_scale<span class="hljs-operator">=</span>None, drop<span class="hljs-operator">=</span><span class="hljs-number">0</span>., attn_drop<span class="hljs-operator">=</span><span class="hljs-number">0</span>., drop_path<span class="hljs-operator">=</span><span class="hljs-number">0</span>.,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="166"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 act_layer<span class="hljs-operator">=</span>nn.GELU, norm_layer<span class="hljs-operator">=</span>nn.LayerNorm):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="167"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">super</span>().__init__()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="168"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.dim <span class="hljs-operator">=</span> dim</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="169"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.num_heads <span class="hljs-operator">=</span> num_heads</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="170"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span> <span class="hljs-operator">=</span> window_<span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="171"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span> <span class="hljs-operator">=</span> shift_<span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="172"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.mlp_ratio <span class="hljs-operator">=</span> mlp_ratio</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="173"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        assert <span class="hljs-number">0</span> <span class="hljs-operator">&lt;=</span> <span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span> <span class="hljs-operator">&lt;</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>, <span class="hljs-string">"shift_size must in 0-window_size"</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="174"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="175"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.norm<span class="hljs-number">1</span> <span class="hljs-operator">=</span> norm_layer(dim)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="176"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.attn <span class="hljs-operator">=</span> WindowAttention(</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="177"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            dim, window_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span><span class="hljs-keyword">to</span>_<span class="hljs-number">2</span>tuple(<span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>), num_heads<span class="hljs-operator">=</span>num_heads,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="178"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            qkv_bias<span class="hljs-operator">=</span>qkv_bias, qk_scale<span class="hljs-operator">=</span>qk_scale, attn_drop<span class="hljs-operator">=</span>attn_drop, proj_drop<span class="hljs-operator">=</span>drop)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="179"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="180"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.drop_path <span class="hljs-operator">=</span> DropPath(drop_path) <span class="hljs-keyword">if</span> drop_path <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>. <span class="hljs-keyword">else</span> nn.Identity()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="181"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.norm<span class="hljs-number">2</span> <span class="hljs-operator">=</span> norm_layer(dim)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="182"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        mlp_hidden_dim <span class="hljs-operator">=</span> int(dim <span class="hljs-operator">*</span> mlp_ratio)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="183"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.mlp <span class="hljs-operator">=</span> Mlp(<span class="hljs-keyword">in</span>_features<span class="hljs-operator">=</span>dim, hidden_features<span class="hljs-operator">=</span>mlp_hidden_dim, act_layer<span class="hljs-operator">=</span>act_layer, drop<span class="hljs-operator">=</span>drop)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="184"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="185"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.H <span class="hljs-operator">=</span> None</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="186"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.W <span class="hljs-operator">=</span> None</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="187"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="188"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def forward(<span class="hljs-keyword">self</span>, x, mask_matrix):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="189"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">" Forward function.</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="190"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="191"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="192"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            x: Input feature, tensor size (B, H*W, C).</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="193"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            H, W: Spatial resolution of the input feature.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="194"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            mask_matrix: Attention mask for cyclic shift.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="195"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="196"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        B, L, C <span class="hljs-operator">=</span> x.shape</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="197"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        H, W <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.H, <span class="hljs-keyword">self</span>.W</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="198"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        assert L <span class="hljs-operator">=</span><span class="hljs-operator">=</span> H <span class="hljs-operator">*</span> W, <span class="hljs-string">"input feature has wrong size"</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="199"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="200"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        shortcut <span class="hljs-operator">=</span> x</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="201"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.norm<span class="hljs-number">1</span>(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="202"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> x.view(B, H, W, C)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="203"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="204"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # pad feature maps <span class="hljs-keyword">to</span> multiples <span class="hljs-keyword">of</span> window <span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="205"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        pad_l <span class="hljs-operator">=</span> pad_t <span class="hljs-operator">=</span> <span class="hljs-number">0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="206"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        pad_r <span class="hljs-operator">=</span> (<span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span><span class="hljs-operator"> - </span>W % <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>) % <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="207"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        pad_b <span class="hljs-operator">=</span> (<span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span><span class="hljs-operator"> - </span>H % <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>) % <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="208"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> F.pad(x, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, pad_l, pad_r, pad_t, pad_b))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="209"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        _, Hp, Wp, _ <span class="hljs-operator">=</span> x.shape</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="210"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="211"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # cyclic shift</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="212"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> <span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span> <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="213"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            shifted_x <span class="hljs-operator">=</span> torch.roll(x, shifts<span class="hljs-operator">=</span>(-<span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span>, -<span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span>), dims<span class="hljs-operator">=</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="214"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            attn_mask <span class="hljs-operator">=</span> mask_matrix.<span class="hljs-keyword">type</span>(x.dtype)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="215"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="216"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            shifted_x <span class="hljs-operator">=</span> x</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="217"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            attn_mask <span class="hljs-operator">=</span> None</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="218"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="219"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # partition windows</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="220"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x_windows <span class="hljs-operator">=</span> window_partition(shifted_x, <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>)  # nW<span class="hljs-operator">*</span>B, window_<span class="hljs-keyword">size</span>, window_<span class="hljs-keyword">size</span>, C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="221"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x_windows <span class="hljs-operator">=</span> x_windows.view(-<span class="hljs-number">1</span>, <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>, C)  # nW<span class="hljs-operator">*</span>B, window_<span class="hljs-keyword">size</span><span class="hljs-operator">*</span>window_<span class="hljs-keyword">size</span>, C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="222"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="223"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # W-MSA<span class="hljs-operator">/</span>SW-MSA</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="224"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        attn_windows <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.attn(x_windows, mask<span class="hljs-operator">=</span>attn_mask)  # nW<span class="hljs-operator">*</span>B, window_<span class="hljs-keyword">size</span><span class="hljs-operator">*</span>window_<span class="hljs-keyword">size</span>, C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="225"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="226"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # <span class="hljs-keyword">merge</span> windows</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="227"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        attn_windows <span class="hljs-operator">=</span> attn_windows.view(-<span class="hljs-number">1</span>, <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>, <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>, C)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="228"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        shifted_x <span class="hljs-operator">=</span> window_reverse(attn_windows, <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>, Hp, Wp)  # B H<span class="hljs-string">' W'</span> C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="229"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="230"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # reverse cyclic shift</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="231"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> <span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span> <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="232"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> torch.roll(shifted_x, shifts<span class="hljs-operator">=</span>(<span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span>, <span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span>), dims<span class="hljs-operator">=</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="233"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="234"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> shifted_x</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="235"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="236"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> pad_r <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> pad_b <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="237"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> x[:, :H, :W, :].contiguous()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="238"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="239"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> x.view(B, H <span class="hljs-operator">*</span> W, C)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="240"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="241"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # FFN</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="242"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> shortcut <span class="hljs-operator">+</span> <span class="hljs-keyword">self</span>.drop_path(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="243"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> x <span class="hljs-operator">+</span> <span class="hljs-keyword">self</span>.drop_path(<span class="hljs-keyword">self</span>.mlp(<span class="hljs-keyword">self</span>.norm<span class="hljs-number">2</span>(x)))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="244"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="245"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">return</span> x</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="246"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="247"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="248"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">class</span> PatchMerging(nn.Module):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="249"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">" Patch Merging Layer</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="250"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="251"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="252"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        dim (int): Number of input channels.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="253"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        norm_layer (nn.Module, optional): Normalization layer.  Default: nn.LayerNorm</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="254"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="255"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def __init__(<span class="hljs-keyword">self</span>, dim, norm_layer<span class="hljs-operator">=</span>nn.LayerNorm):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="256"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">super</span>().__init__()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="257"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.dim <span class="hljs-operator">=</span> dim</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="258"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.reduction <span class="hljs-operator">=</span> nn.Linear(<span class="hljs-number">4</span> <span class="hljs-operator">*</span> dim, <span class="hljs-number">2</span> <span class="hljs-operator">*</span> dim, bias<span class="hljs-operator">=</span><span class="hljs-keyword">False</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="259"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.norm <span class="hljs-operator">=</span> norm_layer(<span class="hljs-number">4</span> <span class="hljs-operator">*</span> dim)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="260"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="261"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def forward(<span class="hljs-keyword">self</span>, x, H, W):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="262"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">" Forward function.</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="263"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="264"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="265"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            x: Input feature, tensor size (B, H*W, C).</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="266"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            H, W: Spatial resolution of the input feature.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="267"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="268"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        B, L, C <span class="hljs-operator">=</span> x.shape</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="269"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        assert L <span class="hljs-operator">=</span><span class="hljs-operator">=</span> H <span class="hljs-operator">*</span> W, <span class="hljs-string">"input feature has wrong size"</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="270"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="271"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> x.view(B, H, W, C)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="272"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="273"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # padding</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="274"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        pad_<span class="hljs-keyword">input</span> <span class="hljs-operator">=</span> (H % <span class="hljs-number">2</span> <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">1</span>) <span class="hljs-keyword">or</span> (W % <span class="hljs-number">2</span> <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">1</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="275"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> pad_<span class="hljs-keyword">input</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="276"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> F.pad(x, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, W % <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, H % <span class="hljs-number">2</span>))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="277"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="278"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x<span class="hljs-number">0</span> <span class="hljs-operator">=</span> x[:, <span class="hljs-number">0</span><span class="hljs-operator">::</span><span class="hljs-number">2</span>, <span class="hljs-number">0</span><span class="hljs-operator">::</span><span class="hljs-number">2</span>, :]  # B H<span class="hljs-operator">/</span><span class="hljs-number">2</span> W<span class="hljs-operator">/</span><span class="hljs-number">2</span> C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="279"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x<span class="hljs-number">1</span> <span class="hljs-operator">=</span> x[:, <span class="hljs-number">1</span><span class="hljs-operator">::</span><span class="hljs-number">2</span>, <span class="hljs-number">0</span><span class="hljs-operator">::</span><span class="hljs-number">2</span>, :]  # B H<span class="hljs-operator">/</span><span class="hljs-number">2</span> W<span class="hljs-operator">/</span><span class="hljs-number">2</span> C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="280"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x<span class="hljs-number">2</span> <span class="hljs-operator">=</span> x[:, <span class="hljs-number">0</span><span class="hljs-operator">::</span><span class="hljs-number">2</span>, <span class="hljs-number">1</span><span class="hljs-operator">::</span><span class="hljs-number">2</span>, :]  # B H<span class="hljs-operator">/</span><span class="hljs-number">2</span> W<span class="hljs-operator">/</span><span class="hljs-number">2</span> C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="281"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x<span class="hljs-number">3</span> <span class="hljs-operator">=</span> x[:, <span class="hljs-number">1</span><span class="hljs-operator">::</span><span class="hljs-number">2</span>, <span class="hljs-number">1</span><span class="hljs-operator">::</span><span class="hljs-number">2</span>, :]  # B H<span class="hljs-operator">/</span><span class="hljs-number">2</span> W<span class="hljs-operator">/</span><span class="hljs-number">2</span> C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="282"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> torch.cat([x<span class="hljs-number">0</span>, x<span class="hljs-number">1</span>, x<span class="hljs-number">2</span>, x<span class="hljs-number">3</span>], -<span class="hljs-number">1</span>)  # B H<span class="hljs-operator">/</span><span class="hljs-number">2</span> W<span class="hljs-operator">/</span><span class="hljs-number">2</span> <span class="hljs-number">4</span><span class="hljs-operator">*</span>C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="283"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> x.view(B, -<span class="hljs-number">1</span>, <span class="hljs-number">4</span> <span class="hljs-operator">*</span> C)  # B H<span class="hljs-operator">/</span><span class="hljs-number">2</span><span class="hljs-operator">*</span>W<span class="hljs-operator">/</span><span class="hljs-number">2</span> <span class="hljs-number">4</span><span class="hljs-operator">*</span>C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="284"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="285"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.norm(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="286"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.reduction(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="287"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="288"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">return</span> x</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="289"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="290"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="291"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">class</span> BasicLayer(nn.Module):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="292"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">" A basic Swin Transformer layer for one stage.</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="293"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="294"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="295"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        dim (int): Number of feature channels</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="296"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        depth (int): Depths of this stage.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="297"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        num_heads (int): Number of attention head.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="298"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        window_size (int): Local window size. Default: 7.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="299"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        mlp_ratio (float): Ratio of mlp hidden dim to embedding dim. Default: 4.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="300"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        qkv_bias (bool, optional): If True, add a learnable bias to query, key, value. Default: True</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="301"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        qk_scale (float | None, optional): Override default qk scale of head_dim ** -0.5 if set.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="302"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        drop (float, optional): Dropout rate. Default: 0.0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="303"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        attn_drop (float, optional): Attention dropout rate. Default: 0.0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="304"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        drop_path (float | tuple[float], optional): Stochastic depth rate. Default: 0.0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="305"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        norm_layer (nn.Module, optional): Normalization layer. Default: nn.LayerNorm</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="306"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        downsample (nn.Module | None, optional): Downsample layer at the end of the layer. Default: None</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="307"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        use_checkpoint (bool): Whether to use checkpointing to save memory. Default: False.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="308"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="309"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="310"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def __init__(<span class="hljs-keyword">self</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="311"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 dim,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="312"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 depth,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="313"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 num_heads,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="314"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 window_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span><span class="hljs-number">7</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="315"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 mlp_ratio<span class="hljs-operator">=</span><span class="hljs-number">4</span>.,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="316"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 qkv_bias<span class="hljs-operator">=</span><span class="hljs-keyword">True</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="317"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 qk_scale<span class="hljs-operator">=</span>None,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="318"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 drop<span class="hljs-operator">=</span><span class="hljs-number">0</span>.,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="319"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 attn_drop<span class="hljs-operator">=</span><span class="hljs-number">0</span>.,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="320"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 drop_path<span class="hljs-operator">=</span><span class="hljs-number">0</span>.,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="321"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 norm_layer<span class="hljs-operator">=</span>nn.LayerNorm,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="322"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 downsample<span class="hljs-operator">=</span>None,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="323"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 <span class="hljs-keyword">use</span>_checkpoint<span class="hljs-operator">=</span><span class="hljs-keyword">False</span>):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="324"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">super</span>().__init__()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="325"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span> <span class="hljs-operator">=</span> window_<span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="326"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span> <span class="hljs-operator">=</span> window_<span class="hljs-keyword">size</span> <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-number">2</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="327"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.depth <span class="hljs-operator">=</span> depth</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="328"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.<span class="hljs-keyword">use</span>_checkpoint <span class="hljs-operator">=</span> <span class="hljs-keyword">use</span>_checkpoint</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="329"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="330"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # build blocks</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="331"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.blocks <span class="hljs-operator">=</span> nn.ModuleList([</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="332"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            SwinTransformerBlock(</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="333"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                dim<span class="hljs-operator">=</span>dim,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="334"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                num_heads<span class="hljs-operator">=</span>num_heads,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="335"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                window_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span>window_<span class="hljs-keyword">size</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="336"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                shift_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span><span class="hljs-number">0</span> <span class="hljs-keyword">if</span> (i % <span class="hljs-number">2</span> <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">0</span>) <span class="hljs-keyword">else</span> window_<span class="hljs-keyword">size</span> <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-number">2</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="337"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                mlp_ratio<span class="hljs-operator">=</span>mlp_ratio,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="338"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                qkv_bias<span class="hljs-operator">=</span>qkv_bias,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="339"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                qk_scale<span class="hljs-operator">=</span>qk_scale,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="340"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                drop<span class="hljs-operator">=</span>drop,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="341"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                attn_drop<span class="hljs-operator">=</span>attn_drop,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="342"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                drop_path<span class="hljs-operator">=</span>drop_path[i] <span class="hljs-keyword">if</span> isinstance(drop_path, list) <span class="hljs-keyword">else</span> drop_path,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="343"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                norm_layer<span class="hljs-operator">=</span>norm_layer)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="344"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(depth)])</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="345"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="346"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # patch merging layer</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="347"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> downsample <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> None:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="348"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">self</span>.downsample <span class="hljs-operator">=</span> downsample(dim<span class="hljs-operator">=</span>dim, norm_layer<span class="hljs-operator">=</span>norm_layer)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="349"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="350"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">self</span>.downsample <span class="hljs-operator">=</span> None</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="351"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="352"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def forward(<span class="hljs-keyword">self</span>, x, H, W):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="353"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">" Forward function.</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="354"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="355"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="356"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            x: Input feature, tensor size (B, H*W, C).</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="357"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            H, W: Spatial resolution of the input feature.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="358"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="359"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="360"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # calculate attention mask <span class="hljs-keyword">for</span> SW-MSA</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="361"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        Hp <span class="hljs-operator">=</span> int(np.ceil(H <span class="hljs-operator">/</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>)) <span class="hljs-operator">*</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="362"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        Wp <span class="hljs-operator">=</span> int(np.ceil(W <span class="hljs-operator">/</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>)) <span class="hljs-operator">*</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="363"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        img_mask <span class="hljs-operator">=</span> torch.<span class="hljs-literal">zeros</span>((<span class="hljs-number">1</span>, Hp, Wp, <span class="hljs-number">1</span>), device<span class="hljs-operator">=</span>x.device)  # <span class="hljs-number">1</span> Hp Wp <span class="hljs-number">1</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="364"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        h_slices <span class="hljs-operator">=</span> (slice(<span class="hljs-number">0</span>, -<span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>),</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="365"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                    slice(-<span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>, -<span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span>),</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="366"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                    slice(-<span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span>, None))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="367"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        w_slices <span class="hljs-operator">=</span> (slice(<span class="hljs-number">0</span>, -<span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>),</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="368"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                    slice(-<span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>, -<span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span>),</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="369"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                    slice(-<span class="hljs-keyword">self</span>.shift_<span class="hljs-keyword">size</span>, None))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="370"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        cnt <span class="hljs-operator">=</span> <span class="hljs-number">0</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="371"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">for</span> h <span class="hljs-keyword">in</span> h_slices:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="372"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> w_slices:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="373"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                img_mask[:, h, w, :] <span class="hljs-operator">=</span> cnt</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="374"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                cnt <span class="hljs-operator">+</span><span class="hljs-operator">=</span> <span class="hljs-number">1</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="375"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="376"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        mask_windows <span class="hljs-operator">=</span> window_partition(img_mask, <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>)  # nW, window_<span class="hljs-keyword">size</span>, window_<span class="hljs-keyword">size</span>, <span class="hljs-number">1</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="377"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        mask_windows <span class="hljs-operator">=</span> mask_windows.view(-<span class="hljs-number">1</span>, <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">self</span>.window_<span class="hljs-keyword">size</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="378"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        attn_mask <span class="hljs-operator">=</span> mask_windows.unsqueeze(<span class="hljs-number">1</span>)<span class="hljs-operator"> - </span>mask_windows.unsqueeze(<span class="hljs-number">2</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="379"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        attn_mask <span class="hljs-operator">=</span> attn_mask.masked_fill(attn_mask !<span class="hljs-operator">=</span> <span class="hljs-number">0</span>, float(-<span class="hljs-number">100.0</span>)).masked_fill(attn_mask <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">0</span>, float(<span class="hljs-number">0.0</span>))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="380"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="381"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">for</span> blk <span class="hljs-keyword">in</span> <span class="hljs-keyword">self</span>.blocks:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="382"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            blk.H, blk.W <span class="hljs-operator">=</span> H, W</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="383"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> <span class="hljs-keyword">self</span>.<span class="hljs-keyword">use</span>_checkpoint:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="384"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                x <span class="hljs-operator">=</span> checkpoint.checkpoint(blk, x, attn_mask)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="385"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="386"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                x <span class="hljs-operator">=</span> blk(x, attn_mask)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="387"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> <span class="hljs-keyword">self</span>.downsample <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> None:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="388"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x_<span class="hljs-keyword">down</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.downsample(x, H, W)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="389"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            Wh, Ww <span class="hljs-operator">=</span> (H <span class="hljs-operator">+</span> <span class="hljs-number">1</span>) <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-number">2</span>, (W <span class="hljs-operator">+</span> <span class="hljs-number">1</span>) <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-number">2</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="390"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">return</span> x, H, W, x_<span class="hljs-keyword">down</span>, Wh, Ww</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="391"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="392"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">return</span> x, H, W, x, H, W</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="393"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="394"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="395"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">class</span> PatchEmbed(nn.Module):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="396"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">" Image to Patch Embedding</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="397"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="398"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="399"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        patch_size (int): Patch token size. Default: 4.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="400"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        in_chans (int): Number of input image channels. Default: 3.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="401"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        embed_dim (int): Number of linear projection output channels. Default: 96.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="402"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        norm_layer (nn.Module, optional): Normalization layer. Default: None</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="403"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="404"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="405"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def __init__(<span class="hljs-keyword">self</span>, patch_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span><span class="hljs-number">4</span>, <span class="hljs-keyword">in</span>_chans<span class="hljs-operator">=</span><span class="hljs-number">3</span>, embed_dim<span class="hljs-operator">=</span><span class="hljs-number">96</span>, norm_layer<span class="hljs-operator">=</span>None):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="406"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">super</span>().__init__()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="407"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        patch_<span class="hljs-keyword">size</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">to</span>_<span class="hljs-number">2</span>tuple(patch_<span class="hljs-keyword">size</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="408"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.patch_<span class="hljs-keyword">size</span> <span class="hljs-operator">=</span> patch_<span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="409"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="410"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.<span class="hljs-keyword">in</span>_chans <span class="hljs-operator">=</span> <span class="hljs-keyword">in</span>_chans</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="411"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.embed_dim <span class="hljs-operator">=</span> embed_dim</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="412"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="413"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.proj <span class="hljs-operator">=</span> nn.Conv<span class="hljs-number">2</span>d(<span class="hljs-keyword">in</span>_chans, embed_dim, kernel_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span>patch_<span class="hljs-keyword">size</span>, stride<span class="hljs-operator">=</span>patch_<span class="hljs-keyword">size</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="414"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> norm_layer <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> None:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="415"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">self</span>.norm <span class="hljs-operator">=</span> norm_layer(embed_dim)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="416"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="417"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">self</span>.norm <span class="hljs-operator">=</span> None</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="418"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="419"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def forward(<span class="hljs-keyword">self</span>, x):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="420"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-string">""</span><span class="hljs-string">"Forward function."</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="421"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # padding</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="422"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        _, _, H, W <span class="hljs-operator">=</span> x.<span class="hljs-keyword">size</span>()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="423"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> W % <span class="hljs-keyword">self</span>.patch_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>] !<span class="hljs-operator">=</span> <span class="hljs-number">0</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="424"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> F.pad(x, (<span class="hljs-number">0</span>, <span class="hljs-keyword">self</span>.patch_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>]<span class="hljs-operator"> - </span>W % <span class="hljs-keyword">self</span>.patch_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>]))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="425"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> H % <span class="hljs-keyword">self</span>.patch_<span class="hljs-keyword">size</span>[<span class="hljs-number">0</span>] !<span class="hljs-operator">=</span> <span class="hljs-number">0</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="426"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> F.pad(x, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">self</span>.patch_<span class="hljs-keyword">size</span>[<span class="hljs-number">0</span>]<span class="hljs-operator"> - </span>H % <span class="hljs-keyword">self</span>.patch_<span class="hljs-keyword">size</span>[<span class="hljs-number">0</span>]))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="427"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="428"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.proj(x)  # B C Wh Ww</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="429"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> <span class="hljs-keyword">self</span>.norm <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> None:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="430"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            Wh, Ww <span class="hljs-operator">=</span> x.<span class="hljs-keyword">size</span>(<span class="hljs-number">2</span>), x.<span class="hljs-keyword">size</span>(<span class="hljs-number">3</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="431"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> x.flatten(<span class="hljs-number">2</span>).transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="432"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.norm(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="433"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> x.transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>).view(-<span class="hljs-number">1</span>, <span class="hljs-keyword">self</span>.embed_dim, Wh, Ww)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="434"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="435"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">return</span> x</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="436"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="437"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-keyword">class</span> SwinTransformer(nn.Module):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="438"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">" Swin Transformer backbone.</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="439"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        A PyTorch impl of : `Swin Transformer: Hierarchical Vision Transformer using Shifted Windows`  -</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="440"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">          https://arxiv.org/pdf/2103.14030</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="441"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="442"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="443"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        pretrain_img_size (int): Input image size for training the pretrained model,</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="444"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            used in absolute postion embedding. Default 224.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="445"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        patch_size (int | tuple(int)): Patch size. Default: 4.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="446"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        in_chans (int): Number of input image channels. Default: 3.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="447"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        embed_dim (int): Number of linear projection output channels. Default: 96.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="448"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        depths (tuple[int]): Depths of each Swin Transformer stage.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="449"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        num_heads (tuple[int]): Number of attention head of each stage.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="450"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        window_size (int): Window size. Default: 7.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="451"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        mlp_ratio (float): Ratio of mlp hidden dim to embedding dim. Default: 4.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="452"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        qkv_bias (bool): If True, add a learnable bias to query, key, value. Default: True</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="453"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        qk_scale (float): Override default qk scale of head_dim ** -0.5 if set.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="454"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        drop_rate (float): Dropout rate.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="455"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        attn_drop_rate (float): Attention dropout rate. Default: 0.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="456"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        drop_path_rate (float): Stochastic depth rate. Default: 0.2.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="457"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        norm_layer (nn.Module): Normalization layer. Default: nn.LayerNorm.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="458"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        ape (bool): If True, add absolute position embedding to the patch embedding. Default: False.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="459"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        patch_norm (bool): If True, add normalization after patch embedding. Default: True.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="460"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        out_indices (Sequence[int]): Output from which stages.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="461"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        frozen_stages (int): Stages to be frozen (stop grad and set eval mode).</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="462"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            -1 means not freezing any parameters.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="463"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        use_checkpoint (bool): Whether to use checkpointing to save memory. Default: False.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="464"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">    "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="465"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="466"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def __init__(<span class="hljs-keyword">self</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="467"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 factor<span class="hljs-operator">=</span><span class="hljs-number">0.5</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="468"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 depth_factor<span class="hljs-operator">=</span><span class="hljs-number">0.5</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="469"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 pretrain_img_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span><span class="hljs-number">224</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="470"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 patch_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span><span class="hljs-number">4</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="471"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 <span class="hljs-keyword">in</span>_chans<span class="hljs-operator">=</span><span class="hljs-number">3</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="472"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 embed_dim<span class="hljs-operator">=</span><span class="hljs-number">96</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="473"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 depths<span class="hljs-operator">=</span>[<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">2</span>],</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="474"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 num_heads<span class="hljs-operator">=</span>[<span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">12</span>, <span class="hljs-number">24</span>],</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="475"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 window_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span><span class="hljs-number">7</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="476"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 mlp_ratio<span class="hljs-operator">=</span><span class="hljs-number">4</span>.,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="477"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 qkv_bias<span class="hljs-operator">=</span><span class="hljs-keyword">True</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="478"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 qk_scale<span class="hljs-operator">=</span>None,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="479"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 drop_rate<span class="hljs-operator">=</span><span class="hljs-number">0</span>.,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="480"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 attn_drop_rate<span class="hljs-operator">=</span><span class="hljs-number">0</span>.,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="481"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 drop_path_rate<span class="hljs-operator">=</span><span class="hljs-number">0.2</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="482"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 norm_layer<span class="hljs-operator">=</span>nn.LayerNorm,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="483"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 ape<span class="hljs-operator">=</span><span class="hljs-keyword">False</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="484"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 patch_norm<span class="hljs-operator">=</span><span class="hljs-keyword">True</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="485"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 out_indices<span class="hljs-operator">=</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>),</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="486"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 frozen_stages<span class="hljs-operator">=</span>-<span class="hljs-number">1</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="487"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                 <span class="hljs-keyword">use</span>_checkpoint<span class="hljs-operator">=</span><span class="hljs-keyword">False</span>):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="488"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">super</span>().__init__()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="489"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        embed_dim <span class="hljs-operator">=</span> int(embed_dim <span class="hljs-operator">*</span> factor)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="490"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        depths <span class="hljs-operator">=</span> [max(<span class="hljs-number">1</span>, int(dim <span class="hljs-operator">*</span> depth_factor)) <span class="hljs-keyword">for</span> dim <span class="hljs-keyword">in</span> depths]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="491"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.pretrain_img_<span class="hljs-keyword">size</span> <span class="hljs-operator">=</span> pretrain_img_<span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="492"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.num_layers <span class="hljs-operator">=</span> len(depths)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="493"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.embed_dim <span class="hljs-operator">=</span> embed_dim</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="494"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.ape <span class="hljs-operator">=</span> ape</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="495"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.patch_norm <span class="hljs-operator">=</span> patch_norm</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="496"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.out_indices <span class="hljs-operator">=</span> out_indices</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="497"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.frozen_stages <span class="hljs-operator">=</span> frozen_stages</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="498"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="499"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # split image <span class="hljs-keyword">into</span> non-overlapping patches</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="500"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.patch_embed <span class="hljs-operator">=</span> PatchEmbed(</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="501"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            patch_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span>patch_<span class="hljs-keyword">size</span>, <span class="hljs-keyword">in</span>_chans<span class="hljs-operator">=</span><span class="hljs-keyword">in</span>_chans, embed_dim<span class="hljs-operator">=</span>embed_dim,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="502"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            norm_layer<span class="hljs-operator">=</span>norm_layer <span class="hljs-keyword">if</span> <span class="hljs-keyword">self</span>.patch_norm <span class="hljs-keyword">else</span> None)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="503"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="504"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # absolute position embedding</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="505"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> <span class="hljs-keyword">self</span>.ape:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="506"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            pretrain_img_<span class="hljs-keyword">size</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">to</span>_<span class="hljs-number">2</span>tuple(pretrain_img_<span class="hljs-keyword">size</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="507"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            patch_<span class="hljs-keyword">size</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">to</span>_<span class="hljs-number">2</span>tuple(patch_<span class="hljs-keyword">size</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="508"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            patches_resolution <span class="hljs-operator">=</span> [pretrain_img_<span class="hljs-keyword">size</span>[<span class="hljs-number">0</span>] <span class="hljs-operator">/</span><span class="hljs-operator">/</span> patch_<span class="hljs-keyword">size</span>[<span class="hljs-number">0</span>], pretrain_img_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>] <span class="hljs-operator">/</span><span class="hljs-operator">/</span> patch_<span class="hljs-keyword">size</span>[<span class="hljs-number">1</span>]]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="509"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="510"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">self</span>.absolute_pos_embed <span class="hljs-operator">=</span> nn.Parameter(torch.<span class="hljs-literal">zeros</span>(<span class="hljs-number">1</span>, embed_dim, patches_resolution[<span class="hljs-number">0</span>], patches_resolution[<span class="hljs-number">1</span>]))</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="511"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            trunc_normal_(<span class="hljs-keyword">self</span>.absolute_pos_embed, std<span class="hljs-operator">=</span>.<span class="hljs-number">02</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="512"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="513"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.pos_drop <span class="hljs-operator">=</span> nn.Dropout(p<span class="hljs-operator">=</span>drop_rate)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="514"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="515"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # stochastic depth</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="516"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        dpr <span class="hljs-operator">=</span> [x.item() <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> torch.linspace(<span class="hljs-number">0</span>, drop_path_rate, <span class="hljs-keyword">sum</span>(depths))]  # stochastic depth decay rule</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="517"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="518"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # build layers</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="519"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.layers <span class="hljs-operator">=</span> nn.ModuleList()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="520"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">for</span> i_layer <span class="hljs-keyword">in</span> range(<span class="hljs-keyword">self</span>.num_layers):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="521"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            layer <span class="hljs-operator">=</span> BasicLayer(</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="522"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                dim<span class="hljs-operator">=</span>int(embed_dim <span class="hljs-operator">*</span> <span class="hljs-number">2</span> <span class="hljs-operator">**</span> i_layer),</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="523"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                depth<span class="hljs-operator">=</span>depths[i_layer],</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="524"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                num_heads<span class="hljs-operator">=</span>num_heads[i_layer],</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="525"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                window_<span class="hljs-keyword">size</span><span class="hljs-operator">=</span>window_<span class="hljs-keyword">size</span>,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="526"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                mlp_ratio<span class="hljs-operator">=</span>mlp_ratio,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="527"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                qkv_bias<span class="hljs-operator">=</span>qkv_bias,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="528"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                qk_scale<span class="hljs-operator">=</span>qk_scale,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="529"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                drop<span class="hljs-operator">=</span>drop_rate,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="530"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                attn_drop<span class="hljs-operator">=</span>attn_drop_rate,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="531"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                drop_path<span class="hljs-operator">=</span>dpr[<span class="hljs-keyword">sum</span>(depths[:i_layer]):<span class="hljs-keyword">sum</span>(depths[:i_layer <span class="hljs-operator">+</span> <span class="hljs-number">1</span>])],</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="532"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                norm_layer<span class="hljs-operator">=</span>norm_layer,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="533"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                downsample<span class="hljs-operator">=</span>PatchMerging <span class="hljs-keyword">if</span> (i_layer <span class="hljs-operator">&lt;</span> <span class="hljs-keyword">self</span>.num_layers<span class="hljs-operator"> - </span><span class="hljs-number">1</span>) <span class="hljs-keyword">else</span> None,</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="534"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">use</span>_checkpoint<span class="hljs-operator">=</span><span class="hljs-keyword">use</span>_checkpoint)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="535"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">self</span>.layers.append(layer)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="536"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="537"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        num_features <span class="hljs-operator">=</span> [int(embed_dim <span class="hljs-operator">*</span> <span class="hljs-number">2</span> <span class="hljs-operator">**</span> i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-keyword">self</span>.num_layers)]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="538"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.num_features <span class="hljs-operator">=</span> num_features</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="539"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="540"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        # <span class="hljs-keyword">add</span> a norm layer <span class="hljs-keyword">for</span> each <span class="hljs-keyword">output</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="541"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">for</span> i_layer <span class="hljs-keyword">in</span> out_indices:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="542"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            layer <span class="hljs-operator">=</span> norm_layer(num_features[i_layer])</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="543"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            layer_name <span class="hljs-operator">=</span> f<span class="hljs-string">'norm{i_layer}'</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="544"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">self</span>.<span class="hljs-keyword">add</span>_module(layer_name, layer)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="545"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">self</span>.width_list <span class="hljs-operator">=</span> [i.<span class="hljs-keyword">size</span>(<span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-keyword">self</span>.forward(torch.randn(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">640</span>, <span class="hljs-number">640</span>))]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="546"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="547"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def forward(<span class="hljs-keyword">self</span>, x):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="548"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-string">""</span><span class="hljs-string">"Forward function."</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="549"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.patch_embed(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="550"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="551"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        Wh, Ww <span class="hljs-operator">=</span> x.<span class="hljs-keyword">size</span>(<span class="hljs-number">2</span>), x.<span class="hljs-keyword">size</span>(<span class="hljs-number">3</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="552"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> <span class="hljs-keyword">self</span>.ape:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="553"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            # interpolate the position embedding <span class="hljs-keyword">to</span> the <span class="hljs-keyword">corresponding</span> <span class="hljs-keyword">size</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="554"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            absolute_pos_embed <span class="hljs-operator">=</span> F.interpolate(<span class="hljs-keyword">self</span>.absolute_pos_embed, <span class="hljs-keyword">size</span><span class="hljs-operator">=</span>(Wh, Ww), <span class="hljs-keyword">mode</span><span class="hljs-operator">=</span><span class="hljs-string">'bicubic'</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="555"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> (x <span class="hljs-operator">+</span> absolute_pos_embed).flatten(<span class="hljs-number">2</span>).transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)  # B Wh<span class="hljs-operator">*</span>Ww C</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="556"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="557"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x <span class="hljs-operator">=</span> x.flatten(<span class="hljs-number">2</span>).transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="558"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        x <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.pos_drop(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="559"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="560"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        outs <span class="hljs-operator">=</span> []</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="561"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-keyword">self</span>.num_layers):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="562"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            layer <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.layers[i]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="563"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            x_out, H, W, x, Wh, Ww <span class="hljs-operator">=</span> layer(x, Wh, Ww)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="564"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="565"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> i <span class="hljs-keyword">in</span> <span class="hljs-keyword">self</span>.out_indices:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="566"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                norm_layer <span class="hljs-operator">=</span> getattr(<span class="hljs-keyword">self</span>, f<span class="hljs-string">'norm{i}'</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="567"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                x_out <span class="hljs-operator">=</span> norm_layer(x_out)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="568"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="569"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                out <span class="hljs-operator">=</span> x_out.view(-<span class="hljs-number">1</span>, H, W, <span class="hljs-keyword">self</span>.num_features[i]).permute(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>).contiguous()</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="570"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                outs.append(out)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="571"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="572"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">return</span> outs</div></div></li></ol></code><div class="hljs-button {2}" data-title="复制" onclick="hljs.copyCode(event)"></div></pre>
        <p>
        </p>
        <hr/>
        <h2 id="%E5%9B%9B%E3%80%81%E6%89%8B%E6%8A%8A%E6%89%8B%E5%8F%AB%E4%BD%A0%E5%A4%A9EfficienViT%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84">
         <a name="t8">
         </a>
         四、手把手教你添加Swin Transformer网络结构
        </h2>
        <p>
         这个主干的网络结构添加起来算是所有的改进机制里最麻烦的了，因为有一些网略结构可以用yaml文件搭建出来，有一些网络结构其中的一些细节根本没有办法用yaml文件去搭建，用yaml文件去搭建会损失一些细节部分(而且一个网络结构设计很多细节的结构修改方式都不一样，一个一个去修改大家难免会出错)，所以这里让网络直接返回整个网络，然后修改部分 yolo代码以后就都以这种形式添加了，以后我提出的网络模型基本上都会通过这种方式修改，我也会进行一些模型细节改进。创新出新的网络结构大家直接拿来用就可以的。
         <strong>
          下面开始添加教程-&gt;
         </strong>
        </p>
        <p>
         <strong>
          (同时每一个后面都有代码，大家拿来复制粘贴替换即可，但是要看好了不要复制粘贴替换多了)
         </strong>
        </p>
        <hr/>
        <h3 id="%E4%BF%AE%E6%94%B9%E4%B8%80">
         <a name="t9">
         </a>
         4.1 修改一
        </h3>
        <p>
         第一还是建立文件，我们找到如下ultralytics/nn文件夹下建立一个目录名字呢就是'Addmodules'文件夹
         <span style="color:#ff9900;">
          <strong>
           (用群内的文件的话已经有了无需新建)
          </strong>
          ！
         </span>
         然后在其内部建立一个新的py文件将核心代码复制粘贴进去即可。
        </p>
        <p class="img-center">
         <img alt="" height="361" src="https://i-blog.csdnimg.cn/direct/5fe200e05de046778d9d5191d0db8460.png" width="623"/>
        </p>
        <p>
         ​
        </p>
        <hr/>
        <h3 id="4.2%20%E4%BF%AE%E6%94%B9%E4%BA%8C%C2%A0">
         <a name="t10">
         </a>
         4.2 修改二
        </h3>
        <p>
         第二步我们在该目录下创建一个新的py文件名字为'__init__.py'(
         <strong>
          用群内的文件的话已经有了无需新建)
         </strong>
         ，然后在其内部导入我们的检测头如下图所示。
        </p>
        <p>
         <img alt="" height="528" src="https://i-blog.csdnimg.cn/direct/3c614caec35e4aaea2764491772b2af1.png" width="1200"/>
        </p>
        <p>
        </p>
        <p>
        </p>
        <p>
        </p>
        <hr/>
        <h3 id="4.3%20%E4%BF%AE%E6%94%B9%E4%B8%89%C2%A0">
         <a name="t11">
         </a>
         4.3 修改三
        </h3>
        <p>
         第三步我门中到如下文件'ultralytics/nn/tasks.py'进行导入和注册我们的模块(
         <strong>
          用群内的文件的话已经有了无需重新导入直接开始第四步即可)
         </strong>
         ！
        </p>
        <p>
         <strong>
          从今天开始以后的教程就都统一成这个样子了，因为我默认大家用了我群内的文件来进行修改！！
         </strong>
        </p>
        <p>
         <img alt="" height="459" src="https://i-blog.csdnimg.cn/blog_migrate/1c5002145da93a67bd05854d0d51f81f.png" width="1190"/>
        </p>
        <p>
        </p>
        <p>
        </p>
        <hr/>
        <h3 id="%E4%BF%AE%E6%94%B9%E4%B8%89%C2%A0" style="background-color:transparent;">
         <a name="t12">
         </a>
         4.4 修改四
        </h3>
        <p>
         <strong>
          添加如下两行代码！！！
         </strong>
        </p>
        <p>
         <img alt="" height="261" src="https://i-blog.csdnimg.cn/blog_migrate/46566ff1d10a2d7adffc29f32799562e.png" width="867"/>
         ​
        </p>
        <p>
        </p>
        <hr/>
        <h3 id="%E4%BF%AE%E6%94%B9%E5%9B%9B">
         <a name="t13">
         </a>
         4.5 修改五
        </h3>
        <p>
         找到七百多行大概把具体看图片，按照图片来修改就行，添加红框内的部分，注意没有()只是函数名。
        </p>
        <p>
         <img alt="" height="1200" src="https://i-blog.csdnimg.cn/direct/fbd339ca6727412198ce0b30aaf9a527.png" width="1200"/>
         ​
        </p>
        <pre class="set-code-show" data-index="1" name="code"><code class="hljs language-cobol"><ol class="hljs-ln" style="width:100%"><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        elif m <span class="hljs-keyword">in</span> {自行添加对应的模型即可，下面都是一样的}: # 这段代码是自己添加的原代码中没有</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            m <span class="hljs-operator">=</span> m(<span class="hljs-operator">*</span>args)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            c<span class="hljs-number">2</span> <span class="hljs-operator">=</span> m.width_list  # 返回通道列表</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            backbone <span class="hljs-operator">=</span> <span class="hljs-keyword">True</span></div></div></li></ol></code><div class="hljs-button {2}" data-title="复制" onclick="hljs.copyCode(event)"></div></pre>
        <p>
        </p>
        <hr/>
        <h3 id="%E4%BF%AE%E6%94%B9%E4%BA%94%C2%A0" style="background-color:transparent;">
         <a name="t14">
         </a>
         4.6 修改六
        </h3>
        <p>
         下面的两个红框内都是需要改动的。
        </p>
        <p>
         <img alt="" height="430" src="https://i-blog.csdnimg.cn/blog_migrate/dd60bfdcb2e6549de742a4867bea3516.png" width="1053"/>
         ​
        </p>
        <pre class="set-code-show" data-index="2" name="code"><code class="hljs language-cobol"><ol class="hljs-ln" style="width:100%"><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> isinstance(c<span class="hljs-number">2</span>, list):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            m_ <span class="hljs-operator">=</span> m</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            m_.backbone <span class="hljs-operator">=</span> <span class="hljs-keyword">True</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            m_ <span class="hljs-operator">=</span> nn.<span class="hljs-keyword">Sequential</span>(<span class="hljs-operator">*</span>(m(<span class="hljs-operator">*</span>args) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(n))) <span class="hljs-keyword">if</span> n <span class="hljs-operator">&gt;</span> <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> m(<span class="hljs-operator">*</span>args)  # module</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            t <span class="hljs-operator">=</span> str(m)[<span class="hljs-number">8</span>:-<span class="hljs-number">2</span>].<span class="hljs-keyword">replace</span>(<span class="hljs-string">'__main__.'</span>, <span class="hljs-string">''</span>)  # module <span class="hljs-keyword">type</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        m.np <span class="hljs-operator">=</span> <span class="hljs-keyword">sum</span>(x.numel() <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> m_.parameters())  # <span class="hljs-keyword">number</span> params</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        m_.i, m_.f, m_.<span class="hljs-keyword">type</span> <span class="hljs-operator">=</span> i <span class="hljs-operator">+</span> <span class="hljs-number">4</span> <span class="hljs-keyword">if</span> backbone <span class="hljs-keyword">else</span> i, f, t  # attach <span class="hljs-keyword">index</span>, <span class="hljs-string">'from'</span> <span class="hljs-keyword">index</span>, <span class="hljs-keyword">type</span></div></div></li></ol></code><div class="hljs-button {2}" data-title="复制" onclick="hljs.copyCode(event)"></div></pre>
        <p>
        </p>
        <hr/>
        <h3 id="%E4%BF%AE%E6%94%B9%E5%85%AD%C2%A0" style="background-color:transparent;">
         <a name="t15">
         </a>
         4.7 修改七
        </h3>
        <p>
         如下的也需要修改，全部按照我的来。
        </p>
        <p>
         <img alt="" height="346" src="https://i-blog.csdnimg.cn/blog_migrate/983d3233c69de06f1f721d165fa6e06f.png" width="1144"/>
         ​
        </p>
        <p>
         代码如下把原先的代码替换了即可。
        </p>
        <pre class="set-code-show" data-index="3" name="code"><code class="hljs language-cobol"><ol class="hljs-ln" style="width:1059px"><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> verbose:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            LOGGER.info(f<span class="hljs-string">'{i:&gt;3}{str(f):&gt;20}{n_:&gt;3}{m.np:10.0f}  {t:&lt;45}{str(args):&lt;30}'</span>)  # print</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        save.<span class="hljs-keyword">extend</span>(x % (i <span class="hljs-operator">+</span> <span class="hljs-number">4</span> <span class="hljs-keyword">if</span> backbone <span class="hljs-keyword">else</span> i) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> ([f] <span class="hljs-keyword">if</span> isinstance(f, int) <span class="hljs-keyword">else</span> f) <span class="hljs-keyword">if</span> x !<span class="hljs-operator">=</span> -<span class="hljs-number">1</span>)  # append <span class="hljs-keyword">to</span> savelist</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        layers.append(m_)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> i <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">0</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">ch</span> <span class="hljs-operator">=</span> []</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">if</span> isinstance(c<span class="hljs-number">2</span>, list):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">ch</span>.<span class="hljs-keyword">extend</span>(c<span class="hljs-number">2</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> len(c<span class="hljs-number">2</span>) !<span class="hljs-operator">=</span> <span class="hljs-number">5</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">ch</span>.insert(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">ch</span>.append(c<span class="hljs-number">2</span>)</div></div></li></ol></code><div class="hljs-button {2}" data-title="复制" onclick="hljs.copyCode(event)"></div></pre>
        <p>
        </p>
        <hr/>
        <h3 id="%E4%BF%AE%E6%94%B9%E4%B8%83">
         <a name="t16">
         </a>
         4.8 修改八
        </h3>
        <p>
         修改七和前面的都不太一样，需要修改前向传播中的一个部分， 已经离开了parse_model方法了。
        </p>
        <p>
         可以在图片中开代码行数，没有离开task.py文件都是同一个文件。 同时这个部分有好几个前向传播都很相似，大家不要看错了，
         <strong>
          是70多行左右的！！！，同时我后面提供了代码，大家直接复制粘贴即可，有时间我针对这里会出一个视频。
         </strong>
        </p>
        <p>
         <img alt="" height="890" src="https://i-blog.csdnimg.cn/blog_migrate/6b90ad481cf1d2a1d99007176d8d01b3.png" width="1140"/>
         ​​
        </p>
        <p>
         <strong>
          代码如下-&gt;
         </strong>
        </p>
        <pre class="set-code-show" data-index="4" name="code"><code class="hljs language-cobol"><ol class="hljs-ln" style="width:967px"><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">    def _predict_once(<span class="hljs-keyword">self</span>, x, profile<span class="hljs-operator">=</span><span class="hljs-keyword">False</span>, visualize<span class="hljs-operator">=</span><span class="hljs-keyword">False</span>, embed<span class="hljs-operator">=</span>None):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-string">""</span><span class="hljs-string"><span class="hljs-string">"</span></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        Perform a forward pass through the network.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        Args:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            x (torch.Tensor): The input tensor to the model.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            profile (bool):  Print the computation time of each layer if True, defaults to False.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            visualize (bool): Save the feature maps of the model if True, defaults to False.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            embed (list, optional): A list of feature vectors/embeddings to return.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string"></span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        Returns:</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">            (torch.Tensor): The last output of the model.</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-string">        "</span><span class="hljs-string">""</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        y, dt, embeddings <span class="hljs-operator">=</span> [], [], []  # outputs</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> <span class="hljs-keyword">self</span>.model:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> m.f !<span class="hljs-operator">=</span> -<span class="hljs-number">1</span>:  # <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">from</span> previous layer</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                x <span class="hljs-operator">=</span> y[m.f] <span class="hljs-keyword">if</span> isinstance(m.f, int) <span class="hljs-keyword">else</span> [x <span class="hljs-keyword">if</span> j <span class="hljs-operator">=</span><span class="hljs-operator">=</span> -<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> y[j] <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> m.f]  # <span class="hljs-keyword">from</span> earlier layers</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> profile:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">self</span>._profile_one_layer(m, x, dt)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> hasattr(m, <span class="hljs-string">'backbone'</span>):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                x <span class="hljs-operator">=</span> m(x)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">if</span> len(x) !<span class="hljs-operator">=</span> <span class="hljs-number">5</span>:  # <span class="hljs-number">0</span><span class="hljs-operator"> - </span><span class="hljs-number">5</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                    x.insert(<span class="hljs-number">0</span>, None)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">for</span> <span class="hljs-keyword">index</span>, i <span class="hljs-keyword">in</span> enumerate(x):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">index</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">self</span>.save:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                        y.append(i)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                    <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                        y.append(None)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                x <span class="hljs-operator">=</span> x[-<span class="hljs-number">1</span>]  # 最后一个输出传给下一层</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">else</span>:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="31"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                x <span class="hljs-operator">=</span> m(x)  # <span class="hljs-keyword">run</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="32"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                y.append(x <span class="hljs-keyword">if</span> m.i <span class="hljs-keyword">in</span> <span class="hljs-keyword">self</span>.save <span class="hljs-keyword">else</span> None)  # save <span class="hljs-keyword">output</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="33"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> visualize:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="34"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                feature_visualization(x, m.<span class="hljs-keyword">type</span>, m.i, save_dir<span class="hljs-operator">=</span>visualize)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="35"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">            <span class="hljs-keyword">if</span> embed <span class="hljs-keyword">and</span> m.i <span class="hljs-keyword">in</span> embed:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="36"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                embeddings.append(nn.functional.adaptive_avg_pool<span class="hljs-number">2</span>d(x, (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)).squeeze(-<span class="hljs-number">1</span>).squeeze(-<span class="hljs-number">1</span>))  # flatten</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="37"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                <span class="hljs-keyword">if</span> m.i <span class="hljs-operator">=</span><span class="hljs-operator">=</span> max(embed):</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="38"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                    <span class="hljs-keyword">return</span> torch.unbind(torch.cat(embeddings, <span class="hljs-number">1</span>), dim<span class="hljs-operator">=</span><span class="hljs-number">0</span>)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="39"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-keyword">return</span> x</div></div></li></ol></code><div class="hljs-button {2}" data-title="复制" onclick="hljs.copyCode(event)"></div></pre>
        <p>
         到这里就完成了修改部分，但是这里面细节很多，大家千万要注意不要替换多余的代码，导致报错，也不要拉下任何一部，都会导致运行失败，而且报错很难排查！！！很难排查！！！
        </p>
        <p>
        </p>
        <hr/>
        <h3 id="%E4%BF%AE%E6%94%B9%E5%85%AB">
         <a name="t17">
         </a>
         4.9 修改九
        </h3>
        <p>
         我们找到如下文件'ultralytics/utils/torch_utils.py'按照如下的图片进行修改，否则容易打印不出来计算量。
        </p>
        <p>
         <img alt="" height="519" src="https://i-blog.csdnimg.cn/direct/bd0223eb10d9456e97d47c9d6869355b.png" width="1017"/>
         ​
        </p>
        <p>
        </p>
        <hr/>
        <h2 id="%E4%BA%94%E3%80%81EfficientViT2023yaml%E6%96%87%E4%BB%B6" style="background-color:transparent;">
         <a name="t18">
         </a>
         五、Swintransformer的yaml文件
        </h2>
        <p>
         <strong>
          复制如下yaml文件进行运行！！！
         </strong>
        </p>
        <blockquote>
         <p>
          <span style="color:#fe2c24;">
           <strong>
            此版本训练信息：YOLO11-SwinTransformer summary: 325 layers, 2,514,792 parameters, 2,514,776 gradients, 6.1 GFLOPs
           </strong>
          </span>
         </p>
        </blockquote>
        <blockquote>
         <p>
          <span style="color:#a2e043;">
           <strong>
            使用说明：# 下面 [-1, 1, LSKNet, [0.25，0.5]] 参数位置的0.25是通道放缩的系数, YOLOv11N是0.25 YOLOv11S是0.5 YOLOv11M是1. YOLOv11l是1 YOLOv11是1.5大家根据自己训练的YOLO版本设定即可.
           </strong>
          </span>
         </p>
         <p>
          <strong>
           <span style="color:#a2e043;">
            #  0.5对应的是模型的深度系数
           </span>
          </strong>
         </p>
        </blockquote>
        <pre class="set-code-show" data-index="5" name="code"><code class="hljs language-cobol"><ol class="hljs-ln" style="width:1394px"><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"># Ultralytics YOLO 🚀, AGPL-<span class="hljs-number">3.0</span> license</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"># YOLO<span class="hljs-number">11</span> <span class="hljs-keyword">object</span> detection model <span class="hljs-keyword">with</span> P<span class="hljs-number">3</span>-P<span class="hljs-number">5</span> outputs. <span class="hljs-keyword">For</span> <span class="hljs-keyword">Usage</span> examples see https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>docs.ultralytics.com<span class="hljs-operator">/</span>tasks<span class="hljs-operator">/</span>detect</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"># Parameters</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">nc: <span class="hljs-number">80</span> # <span class="hljs-keyword">number</span> <span class="hljs-keyword">of</span> classes</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">scales: # model compound scaling constants, i.e. <span class="hljs-string">'model=yolo11n.yaml'</span> will <span class="hljs-keyword">call</span> yolo<span class="hljs-number">11</span>.yaml <span class="hljs-keyword">with</span> scale <span class="hljs-string">'n'</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">  # [depth, width, max_channels]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">  n: [<span class="hljs-number">0.50</span>, <span class="hljs-number">0.25</span>, <span class="hljs-number">1024</span>] # summary: <span class="hljs-number">319</span> layers, <span class="hljs-number">2624080</span> parameters, <span class="hljs-number">2624064</span> gradients, <span class="hljs-number">6.6</span> GFLOPs</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">  s: [<span class="hljs-number">0.50</span>, <span class="hljs-number">0.50</span>, <span class="hljs-number">1024</span>] # summary: <span class="hljs-number">319</span> layers, <span class="hljs-number">9458752</span> parameters, <span class="hljs-number">9458736</span> gradients, <span class="hljs-number">21.7</span> GFLOPs</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">  m: [<span class="hljs-number">0.50</span>, <span class="hljs-number">1.00</span>, <span class="hljs-number">512</span>] # summary: <span class="hljs-number">409</span> layers, <span class="hljs-number">20114688</span> parameters, <span class="hljs-number">20114672</span> gradients, <span class="hljs-number">68.5</span> GFLOPs</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">  l: [<span class="hljs-number">1.00</span>, <span class="hljs-number">1.00</span>, <span class="hljs-number">512</span>] # summary: <span class="hljs-number">631</span> layers, <span class="hljs-number">25372160</span> parameters, <span class="hljs-number">25372144</span> gradients, <span class="hljs-number">87.6</span> GFLOPs</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">  x: [<span class="hljs-number">1.00</span>, <span class="hljs-number">1.50</span>, <span class="hljs-number">512</span>] # summary: <span class="hljs-number">631</span> layers, <span class="hljs-number">56966176</span> parameters, <span class="hljs-number">56966160</span> gradients, <span class="hljs-number">196.0</span> GFLOPs</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"># 下面 [-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, SwinTransformer, [<span class="hljs-number">0.25</span>，<span class="hljs-number">0.5</span>]] 参数位置的<span class="hljs-number">0.25</span>是通道放缩的系数, YOLOv<span class="hljs-number">11</span>N是<span class="hljs-number">0.25</span> YOLOv<span class="hljs-number">11</span>S是<span class="hljs-number">0.5</span> YOLOv<span class="hljs-number">11</span>M是<span class="hljs-number">1</span>. YOLOv<span class="hljs-number">11</span>l是<span class="hljs-number">1</span> YOLOv<span class="hljs-number">11</span>是<span class="hljs-number">1.5</span>大家根据自己训练的YOLO版本设定即可.</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">                                #  <span class="hljs-number">0.5</span>对应的是模型的深度系数</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">  </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"># YOLO<span class="hljs-number">11</span>n backbone</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">backbone:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">  # [<span class="hljs-keyword">from</span>, repeats, module, args]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, SwinTransformer, [<span class="hljs-number">0.25,0.5</span>]] # <span class="hljs-number">0</span>-<span class="hljs-number">4</span> P<span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">2</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, SPPF, [<span class="hljs-number">1024</span>, <span class="hljs-number">5</span>]] # <span class="hljs-number">5</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, C<span class="hljs-number">2</span>PSA, [<span class="hljs-number">1024</span>]] # <span class="hljs-number">6</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"># YOLO<span class="hljs-number">11</span>n head</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line">head:</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, nn.Upsample, [None, <span class="hljs-number">2</span>, <span class="hljs-string">"nearest"</span>]]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[[-<span class="hljs-number">1</span>, <span class="hljs-number">3</span>], <span class="hljs-number">1</span>, Concat, [<span class="hljs-number">1</span>]] # cat backbone P<span class="hljs-number">4</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, C<span class="hljs-number">3</span>k<span class="hljs-number">2</span>, [<span class="hljs-number">512</span>, <span class="hljs-keyword">False</span>]] # <span class="hljs-number">9</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, nn.Upsample, [None, <span class="hljs-number">2</span>, <span class="hljs-string">"nearest"</span>]]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="31"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[[-<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], <span class="hljs-number">1</span>, Concat, [<span class="hljs-number">1</span>]] # cat backbone P<span class="hljs-number">3</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="32"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, C<span class="hljs-number">3</span>k<span class="hljs-number">2</span>, [<span class="hljs-number">256</span>, <span class="hljs-keyword">False</span>]] # <span class="hljs-number">12</span> (P<span class="hljs-number">3</span><span class="hljs-operator">/</span><span class="hljs-number">8</span>-small)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="33"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="34"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, Conv, [<span class="hljs-number">256</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>]]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="35"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[[-<span class="hljs-number">1</span>, <span class="hljs-number">9</span>], <span class="hljs-number">1</span>, Concat, [<span class="hljs-number">1</span>]] # cat head P<span class="hljs-number">4</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="36"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, C<span class="hljs-number">3</span>k<span class="hljs-number">2</span>, [<span class="hljs-number">512</span>, <span class="hljs-keyword">False</span>]] # <span class="hljs-number">15</span> (P<span class="hljs-number">4</span><span class="hljs-operator">/</span><span class="hljs-number">16</span>-medium)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="37"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="38"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, Conv, [<span class="hljs-number">512</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>]]</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="39"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[[-<span class="hljs-number">1</span>, <span class="hljs-number">6</span>], <span class="hljs-number">1</span>, Concat, [<span class="hljs-number">1</span>]] # cat head P<span class="hljs-number">5</span></div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="40"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[-<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, C<span class="hljs-number">3</span>k<span class="hljs-number">2</span>, [<span class="hljs-number">1024</span>, <span class="hljs-keyword">True</span>]] # <span class="hljs-number">18</span> (P<span class="hljs-number">5</span><span class="hljs-operator">/</span><span class="hljs-number">32</span>-large)</div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="41"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> </div></div></li><li><div class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="42"></div></div><div class="hljs-ln-code"><div class="hljs-ln-line"> <span class="hljs-operator"> - </span>[[<span class="hljs-number">12</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>], <span class="hljs-number">1</span>, Detect, [nc]] # Detect(P<span class="hljs-number">3</span>, P<span class="hljs-number">4</span>, P<span class="hljs-number">5</span>)</div></div></li></ol></code><div class="hljs-button {2}" data-title="复制" onclick="hljs.copyCode(event)"></div></pre>
        <p>
        </p>
        <hr/>
        <h2 id="%E5%85%AD%E3%80%81%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E8%AE%B0%E5%BD%95%C2%A0">
         <a name="t19">
         </a>
         六、成功运行记录
        </h2>
        <p>
         下面是成功运行的截图，已经完成了有1个epochs的训练，图片太大截不全第2个epochs了。
        </p>
        <p>
         <img alt="" height="817" src="https://i-blog.csdnimg.cn/direct/aedaef01200c453b9412c1f189d413bd.png" width="1075"/>
        </p>
        <p>
         ​
        </p>
        <hr/>
        <h2 id="%E5%85%AD%E3%80%81%E6%9C%AC%E6%96%87%E6%80%BB%E7%BB%93">
         <a name="t20">
         </a>
         七、本文总结
        </h2>
        <p>
         到此本文的正式分享内容就结束了，在这里给大家推荐我的YOLOv11改进有效涨点专栏，本专栏目前为新开的平均质量分98分，后期我会根据各种最新的前沿顶会进行论文复现，也会对一些老的改进机制进行补充，
         <span style="color:#ff9900;">
          <strong>
           目前本专栏免费阅读(暂时，大家尽早关注不迷路~)，
          </strong>
         </span>
         如果大家觉得本文帮助到你了，订阅本专栏，关注后续更多的更新~
        </p>
        <blockquote>
         <p>
          <strong>
           <span style="color:#fe2c24;">
            专栏回顾：
           </span>
           <strong>
            <strong>
             <strong>
              <strong>
               <strong>
                <strong>
                 <strong>
                  <strong>
                   <strong>
                    <strong>
                     <strong>
                      <strong>
                       <strong>
                        <strong>
                         <strong>
                          <a href="https://blog.csdn.net/java1314777/category_12798080.html" title="YOLOv11改进系列专栏——本专栏持续复习各种顶会内容——科研必备">
                           YOLOv11改进系列专栏——本专栏持续复习各种顶会内容——科研必备
                          </a>
                         </strong>
                        </strong>
                       </strong>
                      </strong>
                     </strong>
                    </strong>
                   </strong>
                  </strong>
                 </strong>
                </strong>
               </strong>
              </strong>
             </strong>
            </strong>
           </strong>
          </strong>
         </p>
        </blockquote>
        <p>
         <img alt="" height="396" src="https://i-blog.csdnimg.cn/blog_migrate/0ab3336721131a4d6c0cebc14f31bbd3.gif" width="1200"/>
        </p>
        <p>
         ​​
        </p>
       </div>
       <div data-report-view='{"mod":"1585297308_001","spm":"1001.2101.3001.6548","dest":"https://snu77.blog.csdn.net/article/details/143100866","extend1":"pc","ab":"new"}'>
        <div>
        </div>
       </div>
      </div>
      <div data-report-view='{"spm":"1001.2101.3001.6866"}' id="treeSkill" style="display: block;">
       <div class="skill-tree-box">
        <div class="skill-tree-head">
         文章知识点与官方知识档案匹配，可进一步学习相关知识
        </div>
        <div class="skill-tree-body">
         <div class="skill-tree-item">
          <span class="skill-tree-href">
           <a data-report-click='{"spm":"1001.2101.3001.6866","dest":"https://edu.csdn.net/skill/opencv/opencv-a181ede3b8c7487fbcc212796c27ce77?utm_source=csdn_ai_skill_tree_blog"}' href="https://edu.csdn.net/skill/opencv/opencv-a181ede3b8c7487fbcc212796c27ce77?utm_source=csdn_ai_skill_tree_blog" target="_blank">
            OpenCV技能树
           </a>
           <i>
           </i>
           <a data-report-click='{"spm":"1001.2101.3001.6866","dest":"https://edu.csdn.net/skill/opencv/opencv-a181ede3b8c7487fbcc212796c27ce77?utm_source=csdn_ai_skill_tree_blog"}' href="https://edu.csdn.net/skill/opencv/opencv-a181ede3b8c7487fbcc212796c27ce77?utm_source=csdn_ai_skill_tree_blog" target="_blank">
            OpenCV中的深度学习
           </a>
           <i>
           </i>
           <a data-report-click='{"spm":"1001.2101.3001.6866","dest":"https://edu.csdn.net/skill/opencv/opencv-a181ede3b8c7487fbcc212796c27ce77?utm_source=csdn_ai_skill_tree_blog"}' href="https://edu.csdn.net/skill/opencv/opencv-a181ede3b8c7487fbcc212796c27ce77?utm_source=csdn_ai_skill_tree_blog" target="_blank">
            图像分类
           </a>
          </span>
          <span class="skill-tree-con">
           <span class="skill-tree-count">
            29518
           </span>
           人正在系统学习中
          </span>
         </div>
        </div>
       </div>
      </div>
     </article>
    </div>
    <div class="directory-boxshadow-dialog" style="display:none;">
     <div class="directory-boxshadow-dialog-box">
     </div>
     <div class="vip-limited-time-offer-box-new" id="vip-limited-time-offer-box-new">
      <img class="limited-img limited-img-new" src="https://csdnimg.cn/release/blogv2/dist/pc/img/vip-limited-close-newWhite.png"/>
      <div class="vip-limited-time-top">
       确定要放弃本次机会？
      </div>
      <span class="vip-limited-time-text">
       福利倒计时
      </span>
      <div class="limited-time-box-new">
       <span class="time-hour">
       </span>
       <i>
        :
       </i>
       <span class="time-minite">
       </span>
       <i>
        :
       </i>
       <span class="time-second">
       </span>
      </div>
      <div class="limited-time-vip-box">
       <p>
        <img class="coupon-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/vip-limited-close-roup.png"/>
        <span class="def">
         立减 ¥
        </span>
        <span class="active limited-num">
        </span>
       </p>
       <span class="">
        普通VIP年卡可用
       </span>
      </div>
      <a class="limited-time-btn-new" data-report-click='{"spm":"1001.2101.3001.9621"}' data-report-query="spm=1001.2101.3001.9621" href="https://mall.csdn.net/vip">
       立即使用
      </a>
     </div>
    </div>
    <a id="commentBox" name="commentBox">
    </a>
   </main>
  </div>
  <div class="recommend-right1 align-items-stretch clearfix" data-type="recommend" id="rightAsideConcision">
   <aside class="recommend-right_aside">
    <div id="recommend-right-concision">
     <div class="flex-column aside-box groupfile" id="groupfileConcision">
      <div class="groupfile-div1" style="max-height: 854px;">
       <h3 class="aside-title">
        目录
       </h3>
       <div class="align-items-stretch group_item">
        <div class="pos-box">
         <div class="scroll-box">
          <div class="toc-box">
           <ol>
            <li class="active">
             <a href="#t0">
              一、本文介绍
             </a>
            </li>
            <li>
             <a href="#t1">
              二、Swin Transformer原理
             </a>
            </li>
            <li class="sub-box">
             <ol>
              <li>
               <a href="#t2">
                2.1 Swin Transformer的基本原理
               </a>
              </li>
              <li>
               <a href="#t3">
                2.2 层次化特征映射
               </a>
              </li>
              <li>
               <a href="#t4">
                2.3 局部自注意力计算
               </a>
              </li>
              <li>
               <a href="#t5">
                2.4 移动窗口自注意力
               </a>
              </li>
              <li>
               <a href="#t6">
                2.5 移动窗口分区
               </a>
              </li>
             </ol>
            </li>
            <li>
             <a href="#t7">
              三、 Swin Transformer的完整代码
             </a>
            </li>
            <li>
             <a href="#t8">
              四、手把手教你添加Swin Transformer网络结构
             </a>
            </li>
            <li class="sub-box">
             <ol>
              <li>
               <a href="#t9">
                4.1 修改一
               </a>
              </li>
              <li>
               <a href="#t10">
                4.2 修改二
               </a>
              </li>
              <li>
               <a href="#t11">
                4.3 修改三
               </a>
              </li>
              <li>
               <a href="#t12">
                4.4 修改四
               </a>
              </li>
              <li>
               <a href="#t13">
                4.5 修改五
               </a>
              </li>
              <li>
               <a href="#t14">
                4.6 修改六
               </a>
              </li>
              <li>
               <a href="#t15">
                4.7 修改七
               </a>
              </li>
              <li>
               <a href="#t16">
                4.8 修改八
               </a>
              </li>
              <li>
               <a href="#t17">
                4.9 修改九
               </a>
              </li>
             </ol>
            </li>
            <li>
             <a href="#t18">
              五、Swintransformer的yaml文件
             </a>
            </li>
            <li>
             <a href="#t19">
              六、成功运行记录
             </a>
            </li>
            <li>
             <a href="#t20">
              七、本文总结
             </a>
            </li>
           </ol>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
   </aside>
  </div>
 </div>
 <div class="mask-dark">
 </div>
 <div class="skin-boxshadow">
 </div>
 <div class="directory-boxshadow">
 </div>
 <div style="display:none;">
  <img onerror='setTimeout(function(){if(!/(csdn.net|iteye.com|baiducontent.com|googleusercontent.com|360webcache.com|sogoucdn.com|bingj.com|baidu.com)$/.test(window.location.hostname)){window="\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x63\x73\x64\x6e\x2e\x6e\x65\x74"}},3000);' src=""/>
 </div>
 <div class="keyword-dec-box" id="keywordDecBox">
 </div>
 <link href="https://csdnimg.cn/release/blog_editor_html/release1.6.12/ckeditor/plugins/chart/chart.css" rel="stylesheet"/>
 <link href="https://g.csdnimg.cn/lib/cboxEditor/1.1.6/embed-editor.min.css" rel="stylesheet"/>
 <link href="https://csdnimg.cn/release/blog_editor_html/release1.6.12/ckeditor/plugins/codesnippet/lib/highlight/styles/dracula.css" rel="stylesheet"/>
 <div data-v-app="" id="c_chat">
 </div>
 <div id="pointDivs">
  <div class="point-outer point-pre">
   <div class="point-inner">
   </div>
  </div>
  <div class="point-outer point-pre">
   <div class="point-inner">
   </div>
  </div>
  <div class="point-outer point-pre">
   <div class="point-inner">
   </div>
  </div>
  <div class="point-outer point-pre">
   <div class="point-inner">
   </div>
  </div>
  <div class="point-outer point-pre">
   <div class="point-inner">
   </div>
  </div>
 </div>
 <div id="st_mask" onclick="closeMask()" style="width: 100%; height: 100%; background: rgba(0, 0, 0, 0.4); position: fixed; left: 0px; top: 0px; display: none; z-index: 1;">
 </div>
 <div id="st_confirmBox" style="width: 360px; position: fixed; text-align: left; display: none; z-index: 100; inset: 0px; height: 208px; margin: auto;">
  <div id="st_confirm" style="background: rgb(255, 255, 255); border-radius: 4px; overflow: hidden; padding: 24px; width: 360px; height: 208px;">
   <span id="st_confirm_tit" style="width: 100%; max-height: 24px; font-size: 18px; font-weight: 500; color: rgb(34, 34, 38); line-height: 24px; text-align: left; display: block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
   </span>
   <span id="st_confirm_text" style="text-align: left; height: 44px; font-size: 14px; font-weight: 400; color: rgb(85, 86, 102); line-height: 22px; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; text-overflow: ellipsis; -webkit-line-clamp: 2; margin-top: 16px; margin-bottom: 40px;">
   </span>
   <span class="st_confirm_btn success" style="background: rgb(252, 85, 51); color: rgb(255, 255, 255); text-align: center; display: block; width: 88px; height: 36px; line-height: 36px; margin-left: 16px; float: right; border-radius: 18px;">
    确定
   </span>
   <span class="st_confirm_btn cancel" style="color: rgb(34, 34, 38); text-align: center; display: block; width: 88px; height: 36px; line-height: 36px; margin-left: 16px; float: right; box-sizing: border-box; border: 1px solid rgb(204, 204, 216); border-radius: 18px;">
    取消
   </span>
   <span id="st_confirm_close" style="display: block; width: 12px; height: 12px; position: absolute; text-align: center; z-index: 100; top: 24px; right: 24px;">
    <img src="https://csdnimg.cn/release/blogv2/dist/pc/img/closeBt.png" style="display: block; width: 12px; height: 12px;"/>
   </span>
   <div style="clear: both; display: block;">
   </div>
  </div>
 </div>
 <div id="st_alertBox" style="width: 100%; position: fixed; left: 0px; top: 34%; text-align: center; display: none; z-index: 2;">
  <div id="st_alert" style="width: 80%; margin: 0px auto; background: rgb(255, 255, 255); border-radius: 2px; overflow: hidden; padding-top: 20px; text-align: center;">
   <span id="st_alert_text" style="background: rgb(255, 255, 255); overflow: hidden; padding: 15px 8px 30px; text-align: center; display: block;">
   </span>
   <span id="st_alert_btn" onclick="closeMask()" style="background: rgb(27, 121, 248); color: rgb(255, 255, 255); padding: 8px; text-align: center; display: block; width: 72%; margin: 0px auto 20px; border-radius: 2px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
   </span>
  </div>
 </div>
 <div id="st_toastBox" style="width: 100%; position: fixed; left: 0px; bottom: 10%; text-align: center; display: none;">
  <span id="st_toastContent" style="color: rgb(255, 255, 255); background: rgba(0, 0, 0, 0.8); padding: 8px 24px; border-radius: 4px; max-width: 80%; display: inline-block; font-size: 16px;">
  </span>
 </div>
 <div class="report-box">
  <div class="pos-boxer">
   <div class="pos-content">
    <div class="box-title">
     <p>
      举报
     </p>
     <img class="icon btn-close" src="https://csdnimg.cn/release/blogv2/dist/pc/img/closeBlack.png"/>
    </div>
    <div class="box-header">
     <div class="box-top">
      <span>
       选择你想要举报的内容（必选）
      </span>
     </div>
     <div class="box-botoom">
      <ul>
       <li data="1" type="nei">
        内容涉黄
       </li>
       <li data="2" type="nei">
        政治相关
       </li>
       <li data="3" type="nei">
        内容抄袭
       </li>
       <li data="4" type="nei">
        涉嫌广告
       </li>
       <li data="5" type="nei">
        内容侵权
       </li>
       <li data="6" type="nei">
        侮辱谩骂
       </li>
       <li data="8" type="nei">
        样式问题
       </li>
       <li data="7" type="nei">
        其他
       </li>
      </ul>
     </div>
    </div>
    <div>
     <div class="box-content">
     </div>
     <div class="box-content">
     </div>
     <div class="box-content" style="display:none;">
      <div class="box-content-top">
       <span>
        原文链接（必填）
       </span>
      </div>
      <div class="box-content-bottom" style="padding-bottom: 16px;">
       <div class="box-input" style="height: 32px;line-height: 32px;">
        <input class="content-input" id="originalurl" name="originalurl" placeholder="请输入被侵权原文链接" type="text"/>
       </div>
      </div>
     </div>
     <div class="box-content">
     </div>
     <div class="box-content" style="display:none;">
      <div class="box-content-top">
       <span>
        请选择具体原因（必选）
       </span>
      </div>
      <div class="box-content-bottom">
       <ul>
        <li sub_type="1">
         包含不实信息
        </li>
        <li sub_type="2">
         涉及个人隐私
        </li>
       </ul>
      </div>
     </div>
     <div class="box-content" style="display:none;">
      <div class="box-content-top">
       <span>
        请选择具体原因（必选）
       </span>
      </div>
      <div class="box-content-bottom">
       <ul>
        <li sub_type="1">
         侮辱谩骂
        </li>
        <li sub_type="2">
         诽谤
        </li>
       </ul>
      </div>
     </div>
     <div class="box-content" style="display:none;">
      <div class="box-content-top">
       <span>
        请选择具体原因（必选）
       </span>
      </div>
      <div class="box-content-bottom">
       <ul>
        <li sub_type="1">
         搬家样式
        </li>
        <li sub_type="2">
         博文样式
        </li>
       </ul>
      </div>
     </div>
     <div class="box-content" style="display:none;">
     </div>
    </div>
    <div id="cllcont" style="display:none;">
     <div class="box-content-top">
      <span class="box-content-span">
       补充说明（选填）
      </span>
     </div>
     <div class="box-content-bottom">
      <div class="box-input">
       <textarea class="ipt ipt-textarea" name="description" placeholder="请详细描述您的举报内容" style="padding:0;"></textarea>
      </div>
     </div>
    </div>
   </div>
   <div class="pos-footer">
    <p class="btn-close">
     取消
    </p>
    <p class="box-active">
     确定
    </p>
   </div>
  </div>
 </div>
 <div>
 </div>
 <svg aria-hidden="true" style="position: absolute; width: 0px; height: 0px; overflow: hidden;">
  <symbol id="sousuo" viewbox="0 0 1024 1024">
  </symbol>
  <symbol id="gonggong_csdnlogo_" viewbox="0 0 4096 1024">
  </symbol>
  <symbol id="gonggong_csdnlogodanse_" viewbox="0 0 4096 1024">
  </symbol>
  <symbol id="xieboke1" viewbox="0 0 1024 1024">
  </symbol>
  <symbol id="gitchat" viewbox="0 0 1024 1024">
  </symbol>
  <symbol id="toolbar-memberhead" viewbox="0 0 1303 1024">
  </symbol>
  <symbol id="toolbar-m-memberhead" viewbox="0 0 1303 1024">
  </symbol>
  <symbol id="csdnc-upload" viewbox="0 0 1024 1024">
  </symbol>
 </svg>
 <div class="blog_extension_mask">
 </div>
</body>
<!-- 富文本柱状图  -->
